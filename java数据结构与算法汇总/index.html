
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>Java数据结构与算法汇总 | Yao Xiong</title>
        <meta name="author" content="Yao Xiong">
        <meta name="description" content="莫听穿林打叶声， 何妨吟啸且徐行">
        <meta name="keywords" content="Yao Xiong Projects">
        <link rel="icon" href="/img/favicon.png">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.2.0/js/all.min.js"></script>
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
    <meta name="generator" content="Hexo 7.2.0"></head>
    <body>
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:2147483647;justify-content:space-between;background:#fff;transition:all 0.3s ease-out;-webkit-user-select:none;-moz-user-select:none;user-select:none"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">加载过慢请开启缓存(浏览器默认开启)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="showpage" style="display: -not-none">
                    <div id="menushow">
                        <nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Yao Xiong</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;about</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;projects</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;tags</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menushow" id="phone-menu">
        <div class="curtain" @click="menushow = !menushow" v-show="menushow"></div>
        <div class="title" @click="menushow = !menushow">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;Yao Xiong</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menushow">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">projects</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        <div class="article">
    <div>
        <h1>Java数据结构与算法汇总 </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2021/7/23
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#tags-solid"></use></svg>
            </span>
            
            <span class="tag">
                
                <a href="/tags/java/" style="color: #ffa2c4">
                    java
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="color: #ffa2c4">
                    数据结构与算法
                </a>
            </span>
            
        </span>
        
    </div>
    <div class="content" v-pre>
        <p>作者:Yao Xiong</p>
<p>[TOC]</p>
<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><p>学习计算机主要是了解计算机组成结构与如何灵活运用计算机；在灵活运用计算机时，数据结构与算法起到重中之重的作用。要想成为计算机大神，数据结构与算法是必须跨过的坎。Good Luck👍。</p>
<span id="more"></span>



<h1 id="Comparable-与-Iterable-接口"><a href="#Comparable-与-Iterable-接口" class="headerlink" title="Comparable 与 Iterable 接口"></a>Comparable 与 Iterable 接口</h1><h2 id="Comparable"><a href="#Comparable" class="headerlink" title="Comparable"></a>Comparable</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p><em>Interface Comparable<T></em></p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406201919191.png" alt="image-20210406201919191"></p>
<p>如果一个类实现Comparable接口，其必须实现CompareTo方法，调用此方法的对象将与里面的o对象进行比较</p>
<p>例如：</p>
<p>x.CompareTo(T y) </p>
<p>x和y进行比较，如果相等返回0；若x&gt;y，返回1；若x&lt;y，返回-1；当然，CompareTo方法的实现由我们自己定义</p>
<ul>
<li>实现此接口的对象拥有自然顺序（natural ordering）</li>
<li>对象之间可以使用CompareTo(T o)来进行比较</li>
<li>如果对储存此对象的集合调用sort方法，Collections工具类会根据CompareTo方法排序：Collections.sort(list2);</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//节点实现Comparable接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Node&gt; &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> num;</span><br><span class="line">	Node(<span class="type">int</span> num)&#123;</span><br><span class="line">		<span class="built_in">this</span>.num = num;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Node arg0)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">num2</span> <span class="operator">=</span> arg0.num;</span><br><span class="line">		<span class="keyword">return</span> num - num2;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//在主程序中调用</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NaturalOrderTest</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		list.add(<span class="number">66</span>);</span><br><span class="line">		list.add(<span class="number">33</span>);</span><br><span class="line">		list.add(<span class="number">66</span>);</span><br><span class="line">		list.add(<span class="number">68</span>);</span><br><span class="line">		list.add(<span class="number">23</span>);</span><br><span class="line">		list.add(<span class="number">78</span>);</span><br><span class="line">		LinkedList&lt;Node&gt; list2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(Integer i:list) &#123;</span><br><span class="line">			list2.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">23</span>);</span><br><span class="line">		Collections.sort(list2);</span><br><span class="line">		System.out.println(list2);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406215842517.png" alt="image-20210406215842517"></p>
<h3 id="集合调用进行排序"><a href="#集合调用进行排序" class="headerlink" title="集合调用进行排序"></a>集合调用进行排序</h3><p>假如我们需要对一组集合中的对象进行2种不同的排序方法</p>
<p>Collections.sort(…)有2种形式           &#x2F;&#x2F; Collections指集合工具类</p>
<ol>
<li><p>Sort by the natural order: Collections.sort(todoList); todoList里面的对象必须是Comparable的</p>
<ul>
<li>Collections.sort(list2);</li>
</ul>
</li>
<li><p>Sort according to a specified order</p>
<ul>
<li>Collections.sort(list2, ComparatorClass);</li>
<li>ComparatorClass是一个类，实现了Comparator接口</li>
</ul>
</li>
</ol>
<p>Comparator也是一个接口</p>
<p><em>Interface Comparator<T></em></p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406204319601.png" alt="image-20210406204319601"></p>
<p>要实现compare(T o1, T o2)方法，返回值是int，与Comparable类似</p>
<p>o1是前一个元素， o2是后一个元素</p>
<p>针对第2中形式(Comparator)，我写了一个例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实现Comparator接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ComparatorClass</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Node&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Node arg0, Node arg1)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> arg1.num-arg0.num; <span class="comment">//进行逆序排列</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//原来实现Comparable接口的类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Node&gt; &#123;</span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	Node(<span class="type">int</span> num)&#123;</span><br><span class="line">		<span class="built_in">this</span>.num = num;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Node arg0)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">num2</span> <span class="operator">=</span> arg0.num;</span><br><span class="line">		<span class="keyword">return</span> num - num2;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//测试类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NaturalOrderTest</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		list.add(<span class="number">66</span>);</span><br><span class="line">		list.add(<span class="number">33</span>);</span><br><span class="line">		list.add(<span class="number">66</span>);</span><br><span class="line">		list.add(<span class="number">68</span>);</span><br><span class="line">		list.add(<span class="number">23</span>);</span><br><span class="line">		list.add(<span class="number">78</span>);</span><br><span class="line">		</span><br><span class="line">		LinkedList&lt;Node&gt; list2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(Integer i:list) &#123;</span><br><span class="line">			list2.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//进行排序</span></span><br><span class="line">		Collections.sort(list2, <span class="keyword">new</span> <span class="title class_">ComparatorClass</span>());</span><br><span class="line">		System.out.println(list2);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406220909648.png" alt="image-20210406220909648"></p>
<p>有了Comparator接口的实现类，我们可以对已有的集合中的元素(<em>元素属性足够多</em>)进行各种指定的排序，如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(list, <span class="keyword">new</span> <span class="title class_">BigToSmallComparator</span>()); <span class="comment">//从大到小</span></span><br><span class="line"></span><br><span class="line">Collections.sort(list, <span class="keyword">new</span> <span class="title class_">LftToRtComparator</span>());<span class="comment">//从左到右</span></span><br><span class="line"></span><br><span class="line">Collections.sort(list, <span class="keyword">new</span> <span class="title class_">TopToBotComparator</span>());<span class="comment">//从上到下</span></span><br></pre></td></tr></table></figure>



<h2 id="Comparator-和Comparable总结"><a href="#Comparator-和Comparable总结" class="headerlink" title="Comparator 和Comparable总结"></a>Comparator 和Comparable总结</h2><p>Comparable</p>
<ul>
<li>interface for objects that can be compared</li>
<li>control classes’ natural ordering</li>
<li>实现方法：int compareTo(T o1);</li>
</ul>
<p>Comparator</p>
<ul>
<li>still an interface for objects but used to defined the rule</li>
<li>use Comparator to sort objects in an order other than their natural ordering</li>
<li>实现方法：int compare(T o1, T o2);</li>
</ul>
<h2 id="Iterable"><a href="#Iterable" class="headerlink" title="Iterable"></a>Iterable</h2><h3 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h3><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406223042219.png" alt="image-20210406223042219"></p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406223100699.png" alt="image-20210406223100699"></p>
<p>Iterable也是一个接口</p>
<p>实现这个接口，必须实现其Iterator方法，返回一个迭代器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyList</span> <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;MyList&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> Iterator <span class="title function_">iterator</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>同时，实现了iterable接口的集合都可以进行for-each-loop（增强for），当然还要返回有效的iterator()</p>
<p>所以同时我们也要实现iterator接口（一般使用内部类来实现此接口）</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406224454050.png" alt="image-20210406224454050"></p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406224515646.png" alt="image-20210406224515646"></p>
<p>实现Iterator接口</p>
<ul>
<li>boolean	hasNext()</li>
<li>E     next()</li>
<li>void    remove()</li>
</ul>
<p>使用内部类来实现</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210406224841672.png" alt="image-20210406224841672"></p>
<p>外部类实现Iterable接口，内部类实现Iterator接口</p>
<p><strong>为什么要用内部类？</strong></p>
<blockquote>
<p>引用Data Structure and Algorithm Analysis in Java的原话</p>
<p>The inner class is useful in a situation in which each inner class object is associated</p>
<p>with exactly one instance of an outer class object. In such a case, the inner class object can</p>
<p>never exist without having an outer class object with which to be associated.</p>
<p>翻译过来就是：当一个类需要使用另一个类里面的元素时，同时要保证被引用的类的元素是私有的，此时我们就可以使用内部类；在这种情况下，如果没有外部类，内部类就无法存在。</p>
</blockquote>
<h2 id="Iterator和Iterable总结"><a href="#Iterator和Iterable总结" class="headerlink" title="Iterator和Iterable总结"></a>Iterator和Iterable总结</h2><p>Iterator与Iterable两个接口缺一不可</p>
<p>Iterator接口让实现Iterable的对象返回一个迭代器对象</p>
<p>Iterable为Iterator的使用创造条件</p>
<ul>
<li>实现Iterable接口后，集合就可以进行for-each循环</li>
<li>Iterable is an interface specification for a class that is equipped with an Iterator</li>
<li>Iterator is an interface specification for a class that can generate iterative elements</li>
<li>Each Collection class needs an associated Iterator class</li>
<li>Iterator may access inside of collection</li>
<li>Iterator provides elements one at a time.</li>
</ul>
<h1 id="数据结构：链表"><a href="#数据结构：链表" class="headerlink" title="数据结构：链表"></a>数据结构：链表</h1><h3 id="介绍-2"><a href="#介绍-2" class="headerlink" title="介绍"></a>介绍</h3><p>JAVA中有许多的数据结构,例如数组，队列，栈，链表等。与其他数据结构相比，链表具有增删快，充分利用碎片化空间的特点。链表是引用类型数据，它就像一个表格，包含众多节点（内部的数据通过一个个指针链所相连接）。就像下面这张图<br><img src="https://img-blog.csdnimg.cn/20210219150804680.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BldGVyYmVhclhZ,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">链表都是由一个个节点构成，每个节点中包含数据与指针，指针为节点指明方向，即下一个数据或上一个数据。</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>链表也可以分类</p>
<ul>
<li>单向链表</li>
<li>双向链表</li>
<li>单向循环链表</li>
</ul>
<p>单向链表是指链表中每个节点都只能指向下一个节点，不能指向上一个。（上面那张示意图就是单向链表）</p>
<p>双向链表是指链表中每个节点都可以指向上一个节点，同时也可以指向下一个节点，示意图如下<br><img src="https://img-blog.csdnimg.cn/20210219152113230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BldGVyYmVhclhZ,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>单向循环链表：一个单向链表的最后一个节点的next指针，指向开头的节点。（示意图如下）<br><img src="https://img-blog.csdnimg.cn/20210219152902270.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BldGVyYmVhclhZ,size_16,color_FFFFFF,t_70"></p>
<h3 id="实现链表"><a href="#实现链表" class="headerlink" title="实现链表"></a>实现链表</h3><p>对于链表，我们要实现增删改查的功能。<br>增添数据、删除数据、修改数据、查找数据</p>
<h4 id="单向链表"><a href="#单向链表" class="headerlink" title="单向链表"></a>单向链表</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 23881</span></span><br><span class="line"><span class="comment"> * 链表的增删改查</span></span><br><span class="line"><span class="comment"> * 合并链表</span></span><br><span class="line"><span class="comment"> * 逆序打印</span></span><br><span class="line"><span class="comment"> *反转链表</span></span><br><span class="line"><span class="comment"> *打印倒是第n个元素</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleLinkedListDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">SingleLinkedList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingleLinkedList</span>();</span><br><span class="line"><span class="comment">//		list.add(new HeroNode(1,&quot;peter&quot;,&quot;peterbear&quot;));</span></span><br><span class="line"><span class="comment">//		list.add(new HeroNode(3,&quot;tony&quot;,&quot;hairCutter&quot;));</span></span><br><span class="line">		System.out.println(<span class="string">&quot;\t增添元素&quot;</span>);</span><br><span class="line">		list.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">1</span>,<span class="string">&quot;peter&quot;</span>,<span class="string">&quot;peterbear&quot;</span>));</span><br><span class="line">		list.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">3</span>,<span class="string">&quot;tony&quot;</span>,<span class="string">&quot;hairCutter&quot;</span>));</span><br><span class="line">		list.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">2</span>,<span class="string">&quot;jerry&quot;</span>,<span class="string">&quot;printf&quot;</span>));</span><br><span class="line">		list.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">5</span>,<span class="string">&quot;jim&quot;</span>,<span class="string">&quot;java&quot;</span>));</span><br><span class="line">		list.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">6</span>,<span class="string">&quot;trump&quot;</span>,<span class="string">&quot;python&quot;</span>));</span><br><span class="line">		list.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">2</span>,<span class="string">&quot;jerry&quot;</span>,<span class="string">&quot;printf&quot;</span>));</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t查找元素&quot;</span>);</span><br><span class="line">		list.Search(<span class="number">0</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\t更改元素&quot;</span>);</span><br><span class="line">		list.Update(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">2</span>,<span class="string">&quot;zhang&quot;</span>,<span class="string">&quot;专业户&quot;</span>));</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t删除元素&quot;</span>);</span><br><span class="line">		list.Delete(<span class="number">2</span>);</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t此链表中节点的个数：&quot;</span>+list.size());</span><br><span class="line">		System.out.println(<span class="string">&quot;\t倒数第n个元素\n&quot;</span>+list.NodeFromLast(<span class="number">3</span>));</span><br><span class="line">		System.out.println(<span class="string">&quot;\t反转后的链表&quot;</span>);</span><br><span class="line">		list.ReserveNode();</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t逆序打印&quot;</span>);</span><br><span class="line">		list.RevPrint();</span><br><span class="line">		list.ReserveNode();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t合并链表&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;链表1：&quot;</span>);</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;链表2：&quot;</span>);</span><br><span class="line">		<span class="type">SingleLinkedList</span> <span class="variable">list2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingleLinkedList</span>();</span><br><span class="line">		list2.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">5</span>,<span class="string">&quot;Biden&quot;</span>,<span class="string">&quot;瞌睡虫&quot;</span>));</span><br><span class="line">		list2.AddByOrder(<span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">8</span>,<span class="string">&quot;John&quot;</span>,<span class="string">&quot;somebody&quot;</span>));</span><br><span class="line">		list2.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;合并后：&quot;</span>);</span><br><span class="line">		list.Combine(list2);</span><br><span class="line">		list.print();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HeroNode</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> No;</span><br><span class="line">	<span class="keyword">public</span> String Name;</span><br><span class="line">	<span class="keyword">public</span> String NickName;</span><br><span class="line">	<span class="keyword">public</span> HeroNode next; <span class="comment">//指向下一个节点</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">HeroNode</span><span class="params">(<span class="type">int</span> No, String Name, String NickName)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.No = No;</span><br><span class="line">		<span class="built_in">this</span>.Name = Name;</span><br><span class="line">		<span class="built_in">this</span>.NickName = NickName;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Node[ No: &quot;</span>+<span class="built_in">this</span>.No+<span class="string">&quot;; Name: &quot;</span>+<span class="built_in">this</span>.Name+<span class="string">&quot;; NickName: &quot;</span>+<span class="built_in">this</span>.NickName+<span class="string">&quot; ]&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">node</span> <span class="operator">=</span> (HeroNode)obj;</span><br><span class="line">		<span class="keyword">return</span> node.No == <span class="built_in">this</span>.No &amp;&amp; node.Name.equals(node.Name) &amp;&amp; node.NickName.equals(node.NickName);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleLinkedList</span>&#123;</span><br><span class="line">	<span class="comment">//先初始化一个头节点</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">HeroNode</span> <span class="variable">Head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">0</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//添加节点</span></span><br><span class="line">	<span class="comment">//找到当前列表的最后一个节点，将最后一个节点的next指向下一个</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(HeroNode node)</span> &#123;</span><br><span class="line">		<span class="comment">//head节点不能动，用一个指针指向head</span></span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head;</span><br><span class="line">		<span class="comment">//遍历链表</span></span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		cur.next = node;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//按照heronode的编号来存储数据，判断数据是否存在与存储数据</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">AddByOrder</span><span class="params">(HeroNode node)</span> &#123;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			add(node);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.next.No &gt; node.No) &#123;</span><br><span class="line">				node.next = cur.next;</span><br><span class="line">				cur.next = node;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(cur.next.No == node.No ) &#123;</span><br><span class="line">				System.out.printf(<span class="string">&quot;%s的编号%d 已存在，无法添加\n&quot;</span>,node.Name,node.No);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">			<span class="keyword">if</span>(cur.next == <span class="literal">null</span>) &#123;</span><br><span class="line">				add(node);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//对链表中数据进行反转 </span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ReserveNode</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head.next;</span><br><span class="line"></span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HeroNode</span>(<span class="number">0</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			Head.next = cur.next;</span><br><span class="line">			cur.next = temp.next;</span><br><span class="line">			temp.next = cur;</span><br><span class="line">			cur = Head.next;</span><br><span class="line">		&#125;</span><br><span class="line">		Head = temp;</span><br><span class="line">		<span class="comment">//第二种</span></span><br><span class="line"><span class="comment">//		HeroNode next =null;</span></span><br><span class="line"><span class="comment">//		while(cur!=null) &#123;</span></span><br><span class="line"><span class="comment">//			next = cur.next;</span></span><br><span class="line"><span class="comment">//			cur.next = temp.next;</span></span><br><span class="line"><span class="comment">//			temp.next = cur;</span></span><br><span class="line"><span class="comment">//			cur = next;</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line"><span class="comment">//		Head = temp;</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//删除信息</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Delete</span><span class="params">(<span class="type">int</span> No)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;此链表为空链表，无法删除任何元素&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(No == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;无法删除头节点&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.next.No == No) &#123;</span><br><span class="line">				cur.next = cur.next.next;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;未找到匹配的信息&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//改变信息</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Update</span><span class="params">(HeroNode NewNode)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(NewNode.No == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;无法改变头节点的值&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.next.No == NewNode.No) &#123;</span><br><span class="line">				NewNode.next = cur.next.next;</span><br><span class="line">				cur.next = NewNode;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查找信息</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Search</span><span class="params">(<span class="type">int</span> No)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(No == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;此节点为头节点&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.No == No) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;编号 &quot;</span>+No+<span class="string">&quot;:&quot;</span>+cur);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;未找到匹配信息&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查找单链表倒数第k个结点</span></span><br><span class="line">	<span class="keyword">public</span> HeroNode <span class="title function_">NodeFromLast</span><span class="params">(<span class="type">int</span> k)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(k&gt;size()||k&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head.next;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(size()-k);i++) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> cur;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//判空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Head.next == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//遍历打印链表</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head.next;</span><br><span class="line">		<span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(cur);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//从尾到头打印链表</span></span><br><span class="line">	<span class="comment">//1.将单链表反转，然后遍历（会破坏原来的结构）</span></span><br><span class="line">	<span class="comment">//2.利用栈，将各个节点压入到栈中，先进后出的特点，实现逆序打印的效果</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">RevPrint</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;此链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		Stack&lt;HeroNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head.next;</span><br><span class="line">		<span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">			stack.push(cur);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(stack.size()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(stack.pop());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//获取链表节点个数</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> Head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			cur=cur.next;</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//合并链表</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Combine</span><span class="params">(SingleLinkedList list)</span> &#123;</span><br><span class="line">		<span class="type">HeroNode</span> <span class="variable">cur</span> <span class="operator">=</span> list.Head.next;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			list.Head = cur.next;</span><br><span class="line">			cur.next = <span class="literal">null</span>;</span><br><span class="line">			<span class="built_in">this</span>.AddByOrder(cur);</span><br><span class="line">			cur = list.Head;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="单向链表改进版"><a href="#单向链表改进版" class="headerlink" title="单向链表改进版"></a>单向链表改进版</h4><p>对于上方的单向链表，我们还可以进行升级，以减少代码的冗余程度，比如我们在添加或删除时，都需要对整个链表进行遍历，以找到确切的位置，我们可以把查找变成一个函数，只在添加或删除时对结点进行操作，如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在这里面，我们用2个结点，一个表示开头，一个表示结尾，一个变量表示大小	</span></span><br><span class="line"><span class="keyword">private</span> Node&lt;E&gt; beginMaker;</span><br><span class="line"><span class="keyword">private</span> Node&lt;E&gt; endMaker;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> theSize=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>





<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ReviewForDataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySingleList</span>&lt;E&gt; <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;E&gt;&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MySingleList</span><span class="params">()</span> &#123;</span><br><span class="line">		doClear();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">		doClear();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> theSize;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> size() == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//默认添加到最后</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(E element)</span> &#123;</span><br><span class="line">		add(size(), element);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//添加到指定位置</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> idx, E element)</span> &#123;</span><br><span class="line">		addAfter(getNode(idx, <span class="number">0</span>, size()),element);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> E <span class="title function_">getData</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> getNode(idx+<span class="number">1</span>, <span class="number">0</span>, size()).data;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> E <span class="title function_">remove</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> remove(size()-<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> E <span class="title function_">remove</span><span class="params">(<span class="type">int</span> idx)</span> &#123;</span><br><span class="line">		Node&lt;E&gt; pre = getNode(idx, <span class="number">0</span>, size());</span><br><span class="line">		Node&lt;E&gt; node = getNode(idx+<span class="number">1</span>, <span class="number">0</span>, size());</span><br><span class="line">		pre.next = node.next;</span><br><span class="line">		theSize--;</span><br><span class="line">		<span class="keyword">return</span> node.data;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//内部Node类</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt;&#123;</span><br><span class="line">		<span class="keyword">public</span> Node&lt;E&gt; next;</span><br><span class="line">		<span class="keyword">public</span> E data;</span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(E data, Node&lt;E&gt; nx)</span>&#123;</span><br><span class="line">			<span class="built_in">this</span>.data = data;</span><br><span class="line">			<span class="built_in">this</span>.next = nx;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">MyListIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;E&gt;&#123;</span><br><span class="line">		Node&lt;E&gt; current = beginMaker.next;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">return</span> current != endMaker;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> E <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">if</span>(!hasNext())</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NoSuchElementException</span>();</span><br><span class="line">			</span><br><span class="line">			<span class="type">E</span> <span class="variable">nextItem</span> <span class="operator">=</span> current.data;</span><br><span class="line">			current  = current.next;</span><br><span class="line"><span class="comment">//			System.out.println(&quot;\n----&quot;+nextItem);</span></span><br><span class="line">			<span class="keyword">return</span> nextItem;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">addAfter</span><span class="params">(Node&lt;E&gt; p, E element)</span> &#123;</span><br><span class="line">		p.next = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;E&gt;(element,p.next);</span><br><span class="line">		theSize++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * always get the pointed node</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> idx</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> lower</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> upper</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> Node&lt;E&gt; <span class="title function_">getNode</span><span class="params">(<span class="type">int</span> idx, <span class="type">int</span> lower, <span class="type">int</span> upper)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(idx&lt;lower || idx &gt; upper) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		Node&lt;E&gt; p=beginMaker;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;idx;i++) &#123;</span><br><span class="line">			p=p.next;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> p;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doClear</span><span class="params">()</span> &#123;</span><br><span class="line">		endMaker = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;E&gt;(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">		beginMaker = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;E&gt;(<span class="literal">null</span>, endMaker);</span><br><span class="line">		</span><br><span class="line">		theSize =<span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> Node&lt;E&gt; beginMaker;</span><br><span class="line">	<span class="keyword">private</span> Node&lt;E&gt; endMaker;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> theSize=<span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> Iterator&lt;E&gt; <span class="title function_">iterator</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyListIterator</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>











<h4 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DoubleLinkDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">DoubleLinkList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DoubleLinkList</span>();</span><br><span class="line">		list.add(<span class="number">120</span>,<span class="string">&quot;CSSE&quot;</span>);</span><br><span class="line">		list.add(<span class="number">399</span>,<span class="string">&quot;ESL&quot;</span>);</span><br><span class="line">		list.add(<span class="number">220</span>,<span class="string">&quot;CSSE&quot;</span>);</span><br><span class="line">		list.add(<span class="number">399</span>,<span class="string">&quot;ESL&quot;</span>);</span><br><span class="line">		list.add(<span class="number">102</span>,<span class="string">&quot;CSSE&quot;</span>);</span><br><span class="line">		list.add(<span class="number">221</span>,<span class="string">&quot;MA&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\tlist的大小：&quot;</span>+list.size());</span><br><span class="line">		System.out.println(<span class="string">&quot;\t正序打印&quot;</span>);</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t逆序打印&quot;</span>);</span><br><span class="line">		list.Rsprint();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t查找数据&quot;</span>);</span><br><span class="line">		Node[] array = list.search(<span class="string">&quot;CSSE&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Node node:array) &#123;</span><br><span class="line">			<span class="keyword">if</span>(node!=<span class="literal">null</span>) &#123;</span><br><span class="line">				System.out.println(node);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;\t删除数据&quot;</span>);</span><br><span class="line">		list.del(<span class="number">220</span>);</span><br><span class="line">		list.print();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t更改数据&quot;</span>);</span><br><span class="line">		list.update(<span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">221</span>,<span class="string">&quot;MA&quot;</span>), <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">113</span>,<span class="string">&quot;MA&quot;</span>));</span><br><span class="line">		list.print();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	String name;</span><br><span class="line">	Node pre;</span><br><span class="line">	Node next;</span><br><span class="line">	Node(<span class="type">int</span> num,String name)&#123;</span><br><span class="line">		<span class="built_in">this</span>.num = num;</span><br><span class="line">		<span class="built_in">this</span>.name =name;</span><br><span class="line">		pre =<span class="literal">null</span>;</span><br><span class="line">		next=<span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name+<span class="string">&quot; &quot;</span>+num;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> (Node)obj;</span><br><span class="line">		<span class="keyword">return</span> node.num == <span class="built_in">this</span>.num&amp;&amp;node.name.equals(<span class="built_in">this</span>.name);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DoubleLinkList</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Node head;</span><br><span class="line">	DoubleLinkList()&#123;</span><br><span class="line">		head =<span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//判空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//增</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num,String name)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(num,name);</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			head = node;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.equals(node)) &#123;</span><br><span class="line">				System.out.println(node+<span class="string">&quot; 节点已存在，无法添加&quot;</span>);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		cur.next = node;</span><br><span class="line">		node.pre = cur;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//删</span></span><br><span class="line">	<span class="comment">//根据编号删除数据</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">del</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="comment">//数据为空</span></span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在开头</span></span><br><span class="line">		<span class="keyword">if</span>(cur.num == num) &#123;</span><br><span class="line">			head = cur.next;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在中间</span></span><br><span class="line">		<span class="keyword">while</span>(cur.next!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.num == num) &#123;</span><br><span class="line">				cur.pre.next = cur.next;</span><br><span class="line">				cur.next.pre = cur.pre;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在末尾</span></span><br><span class="line">		<span class="keyword">if</span>(cur.num == num) &#123;</span><br><span class="line">			cur.pre.next= <span class="literal">null</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;未找到相关数据&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//改,更改数据</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Node Oldnode,Node Newnode)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="comment">//数据为空</span></span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在开头</span></span><br><span class="line">		<span class="keyword">if</span>(cur.equals(Oldnode)) &#123;</span><br><span class="line">			Newnode.next = cur.next;</span><br><span class="line">			cur.next.pre = Newnode;</span><br><span class="line">			head = Newnode;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在中间,数据在末尾</span></span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.equals(Oldnode)) &#123;</span><br><span class="line">				Newnode.next = cur.next;</span><br><span class="line">				cur.pre.next = Newnode;</span><br><span class="line">				Newnode.pre = cur.pre;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;未找到相关数据&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查</span></span><br><span class="line">	<span class="comment">//根据name查找数据</span></span><br><span class="line">	<span class="keyword">public</span> Node[] search(String name) &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="type">boolean</span> <span class="variable">exist</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">		Node[] array = <span class="keyword">new</span> <span class="title class_">Node</span>[<span class="built_in">this</span>.size()];</span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="comment">//数据为空</span></span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.name.equals(name)) &#123;</span><br><span class="line">				array[count] = cur;</span><br><span class="line">				exist =<span class="literal">true</span>;</span><br><span class="line">				count++;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!exist) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;未找到相关数据&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> array;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//list的大小</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//正遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(cur!= <span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(cur);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//逆遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Rsprint</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(cur.next!=<span class="literal">null</span>) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(cur);</span><br><span class="line">			cur = cur.pre;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="单向循环链表"><a href="#单向循环链表" class="headerlink" title="单向循环链表"></a>单向循环链表</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CircleLinkedListDemo</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">  <span class="type">CircleLinkedList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CircleLinkedList</span>();</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++) &#123;</span><br><span class="line">   list.add(i);</span><br><span class="line">  &#125;</span><br><span class="line">  System.out.println(<span class="string">&quot;\t添加数据&quot;</span>);</span><br><span class="line">  list.print();</span><br><span class="line">  System.out.println(<span class="string">&quot;\t删除头部数据&quot;</span>);</span><br><span class="line">  list.del(<span class="number">0</span>);</span><br><span class="line">  list.print();</span><br><span class="line">  System.out.println(<span class="string">&quot;\t更改数据&quot;</span>);</span><br><span class="line">  list.update(<span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">3</span>), <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">0</span>));</span><br><span class="line">  list.print();</span><br><span class="line">  System.out.println(<span class="string">&quot;\t查找数据，是否包含此数据&quot;</span>);</span><br><span class="line">  System.out.println(list.contains(<span class="number">3</span>));</span><br><span class="line"><span class="comment">//  System.out.println(&quot;\t删除中间数据&quot;);</span></span><br><span class="line"><span class="comment">//  list.del(3);</span></span><br><span class="line"><span class="comment">//  list.print();</span></span><br><span class="line"><span class="comment">//  System.out.println(&quot;\t删除尾部数据&quot;);</span></span><br><span class="line"><span class="comment">//  list.del(4);</span></span><br><span class="line"><span class="comment">//  list.print();</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line"> <span class="type">int</span> num;</span><br><span class="line"> Node next;</span><br><span class="line"> Node(<span class="type">int</span> num)&#123;</span><br><span class="line">  <span class="built_in">this</span>.num = num;</span><br><span class="line">  next = <span class="literal">null</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">  <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span>(Node) obj;</span><br><span class="line">  <span class="keyword">return</span> node.num == <span class="built_in">this</span>.num;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num+<span class="string">&quot;&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CircleLinkedList</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Node head;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">CircleLinkedList</span><span class="params">()</span> &#123;</span><br><span class="line">		head = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//增</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(num);</span><br><span class="line">		<span class="comment">//开始为空</span></span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			head = node;</span><br><span class="line">			node.next = head;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//开始不为空</span></span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next!=head) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.equals(node)) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;此数据已存在&quot;</span>);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur =cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		cur.next = node;</span><br><span class="line">		node.next = head;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//删</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">del</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="comment">//判空</span></span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(cur.next!=head) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.next.num == num) &#123;</span><br><span class="line">				<span class="comment">//数据在尾部</span></span><br><span class="line">				<span class="keyword">if</span>(cur.next.next == head) &#123;</span><br><span class="line">					cur.next = head;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				cur.next = cur.next.next;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在头部,此时指针在尾部</span></span><br><span class="line">		<span class="keyword">if</span>(cur.next.num == num) &#123;</span><br><span class="line">			head = head.next;</span><br><span class="line">			cur.next = cur.next.next;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;未找到相关数据&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//改</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Node OldNode, Node NewNode)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//中间与尾部</span></span><br><span class="line">		<span class="keyword">while</span>(cur.next != head) &#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.next.equals(OldNode)) &#123;</span><br><span class="line">				NewNode.next = cur.next.next;</span><br><span class="line">				cur.next = NewNode;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur =cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//数据在头部</span></span><br><span class="line">		<span class="keyword">if</span>(cur.next.equals(OldNode)) &#123;</span><br><span class="line">			NewNode.next = head.next;</span><br><span class="line">			head = NewNode;</span><br><span class="line">			cur.next = head;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;未找到相关数据&quot;</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">do</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(cur.num == num) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur=cur.next;</span><br><span class="line">		&#125;<span class="keyword">while</span>(cur!=head) ;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">do</span>&#123;</span><br><span class="line">			System.out.println(cur);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;<span class="keyword">while</span>(cur!= head); </span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Josephus问题（约瑟夫问题）"><a href="#Josephus问题（约瑟夫问题）" class="headerlink" title="Josephus问题（约瑟夫问题）"></a>Josephus问题（约瑟夫问题）</h5><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>链表的学习比较抽象，刚开始接触会很懵，不知道哪个是哪个。多画图，多分析，对于链表的理解就会更加深刻。</p>
<h1 id="数据结构：栈"><a href="#数据结构：栈" class="headerlink" title="数据结构：栈"></a>数据结构：栈</h1><h3 id="介绍-3"><a href="#介绍-3" class="headerlink" title="介绍"></a>介绍</h3><p>栈和队列一样是一种特殊的线性表结构，它的特点是先进后出（first in last out）。下面有一张图来描述栈</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210221105835749.png" alt="image-20210221105835749"></p>
<p>栈有两个常用方法</p>
<ul>
<li>pop()，出栈，从尾部弹出元素</li>
<li>push(int value)，压栈，把数据压入栈中</li>
</ul>
<h3 id="实现栈"><a href="#实现栈" class="headerlink" title="实现栈"></a>实现栈</h3><p>实现栈的方式有多种，我列举2种：一种是用数组来实现栈，还有一种是用链表来实现栈</p>
<ol>
<li>ArrayStack（数组）</li>
<li>LinkedListStack（链表）</li>
</ol>
<h4 id="ArrayStack"><a href="#ArrayStack" class="headerlink" title="ArrayStack"></a>ArrayStack</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayStackDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		ArrayStack stack= <span class="keyword">new</span> <span class="title class_">ArrayStack</span>(<span class="number">3</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\t压栈&quot;</span>);</span><br><span class="line">		stack.push(<span class="number">120</span>);</span><br><span class="line">		stack.push(<span class="number">220</span>);</span><br><span class="line">		stack.push(<span class="number">221</span>);</span><br><span class="line">		stack.push(<span class="number">449</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\t打印栈元素&quot;</span>);</span><br><span class="line">		stack.print();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;\t弹出栈元素&quot;</span>);</span><br><span class="line">			System.out.println(<span class="string">&quot;弹出的元素：&quot;</span>+stack.pop());</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;\t弹出后的元素&quot;</span>);</span><br><span class="line">		stack.print();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArrayStack</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> MaxSize;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> top;<span class="comment">//标号，默认为-1</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span>[] array;</span><br><span class="line">	<span class="comment">//构造器</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">ArrayStack</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">		MaxSize = size;</span><br><span class="line">		top = -<span class="number">1</span>;</span><br><span class="line">		array = <span class="keyword">new</span> <span class="title class_">int</span>[MaxSize];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> top == -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判满</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isfull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//判断满，数组最后一位下标MaxSize-1</span></span><br><span class="line">		<span class="keyword">return</span> top == MaxSize -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//入栈,压栈</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isfull()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;已满，无法添加元素:&quot;</span>+value);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		top++;<span class="comment">//压栈，先+1</span></span><br><span class="line">		array[top] = value;<span class="comment">//开始赋值</span></span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">	<span class="comment">//出栈，弹出</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;栈为空，无法弹出元素&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> array[top];</span><br><span class="line">		top--;</span><br><span class="line">		<span class="keyword">return</span> value;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//遍历栈，从上往下</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;栈为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=top;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">			System.out.printf(<span class="string">&quot;Stack[%d] = %d\n&quot;</span>,i,array[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210222214103653.png" alt="image-20210222214103653"></p>
<h4 id="LinkedListStack"><a href="#LinkedListStack" class="headerlink" title="LinkedListStack"></a>LinkedListStack</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedListStackDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		LinkedListStack stack= <span class="keyword">new</span> <span class="title class_">LinkedListStack</span>(<span class="number">3</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\t压栈&quot;</span>);</span><br><span class="line">		stack.push(<span class="number">120</span>);</span><br><span class="line">		stack.push(<span class="number">220</span>);</span><br><span class="line">		stack.push(<span class="number">221</span>);</span><br><span class="line">		stack.push(<span class="number">449</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\t打印栈元素&quot;</span>);</span><br><span class="line">		stack.print();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;\t弹出栈元素&quot;</span>);</span><br><span class="line">			System.out.println(<span class="string">&quot;弹出的元素：&quot;</span>+stack.pop());</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;\t弹出后的元素&quot;</span>);</span><br><span class="line">		stack.print();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StackNode</span>&#123;</span><br><span class="line">	<span class="type">int</span> value;</span><br><span class="line">	StackNode next;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">StackNode</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		value = num;</span><br><span class="line">		next = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> value+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkedListStack</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> MaxSize;</span><br><span class="line">	<span class="keyword">private</span> StackNode head;</span><br><span class="line">	<span class="comment">//构造器</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">LinkedListStack</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">		MaxSize = size;</span><br><span class="line">		head =<span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//容器中元素个数</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur != <span class="literal">null</span>) &#123;</span><br><span class="line">			count ++;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判满</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isfull</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> size() == MaxSize;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//压栈</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StackNode</span>(value);</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			head = node;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(isfull()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;已满，无法添加元素:&quot;</span>+value);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		cur.next = node;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//出栈</span></span><br><span class="line">	<span class="keyword">public</span> StackNode <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;栈为空，无法弹出元素&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">pre</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(size()==<span class="number">1</span>) &#123;</span><br><span class="line">			head = <span class="literal">null</span>;</span><br><span class="line">			<span class="keyword">return</span> pre;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">cur</span> <span class="operator">=</span> pre.next;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			pre = pre.next;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur;</span><br><span class="line">		pre.next = <span class="literal">null</span>;</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//从上到下遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;栈为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">LinkedListStack</span> <span class="variable">container</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedListStack</span>(size());</span><br><span class="line">		<span class="type">StackNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			container.push(cur.value);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(container.size()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(container.pop());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210222214114768.png" alt="image-20210222214114768"></p>
<h4 id="LinkedListStack-改进版"><a href="#LinkedListStack-改进版" class="headerlink" title="LinkedListStack 改进版"></a>LinkedListStack 改进版</h4><p>由于Stack First In Last Out的性质， 我们可以对之前的LinkedListStack进行优化，当pop或push元素时我们只操纵第一个元素，如下</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210508162348272.png" alt="image-20210508162348272"></p>
<p>下面是代码实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.AbstractList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedListStackDemo2</span>&lt;E&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		LinkedListStackDemo2&lt;Integer&gt; stack= <span class="keyword">new</span> <span class="title class_">LinkedListStackDemo2</span>&lt;&gt;();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t压栈&quot;</span>);</span><br><span class="line">		stack.push(<span class="number">120</span>);</span><br><span class="line">		stack.push(<span class="number">220</span>);</span><br><span class="line">		stack.push(<span class="number">221</span>);</span><br><span class="line">		stack.push(<span class="number">449</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;ShowAll&quot;</span>);</span><br><span class="line">		stack.ShowAll();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Size&quot;</span>);</span><br><span class="line">		System.out.println(stack.Size);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;出栈&quot;</span>);</span><br><span class="line">		System.out.println(stack.pop());</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Size&quot;</span>);</span><br><span class="line">		System.out.println(stack.Size);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Peek&quot;</span>);</span><br><span class="line">		System.out.println(stack.peek());</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> Node&lt;E&gt; head=<span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> Size=<span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Return the Size of this Queue</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Size;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Return whether this queue is Empty</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Add new item into the queue</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(E item)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isEmpty()) &#123;</span><br><span class="line">			head = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;&gt;(item);</span><br><span class="line">			Size++;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		head = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;&gt;(item, head);</span><br><span class="line">		Size++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Return the top data</span></span><br><span class="line">	<span class="keyword">public</span> Node&lt;E&gt; <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isEmpty())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>&lt;&gt;(head.data);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Return the top data</span></span><br><span class="line">	<span class="keyword">public</span> Node&lt;E&gt; <span class="title function_">pop</span><span class="params">()</span>&#123;</span><br><span class="line">		Node&lt;E&gt; temp = head;</span><br><span class="line">		<span class="keyword">if</span>(!isEmpty()) &#123;</span><br><span class="line">			head = head.next;</span><br><span class="line">			Size--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Show all the items in the stack</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowAll</span><span class="params">()</span> &#123;</span><br><span class="line">		ShowAll(head);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	Internal Method For Showing the items</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">ShowAll</span><span class="params">(Node&lt;E&gt; root)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(root == <span class="literal">null</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(root);</span><br><span class="line">			ShowAll(root.next);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt;&#123;</span><br><span class="line">		E data;</span><br><span class="line">		Node&lt;E&gt; next;</span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(E d)</span> &#123;</span><br><span class="line">			data =d;</span><br><span class="line">			next =<span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(E d, Node&lt;E&gt; n)</span> &#123;</span><br><span class="line">			data =d;</span><br><span class="line">			next =n;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">return</span> <span class="string">&quot;[ data: &quot;</span>+data+<span class="string">&quot; ]&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210508210722123.png" alt="image-20210508210722123"></p>
<h3 id="LinkedListStack时间复杂度"><a href="#LinkedListStack时间复杂度" class="headerlink" title="LinkedListStack时间复杂度"></a>LinkedListStack时间复杂度</h3><p>这种方法实现的栈，入栈，出栈，效率大大提升(因为每次都只是在头部操作)</p>
<p>入栈时，时间复杂度为O(1)</p>
<p>出栈，时间复杂度也为O(1)</p>
<p>查询Size，同样是O(1)</p>
<h3 id="用栈来实现计算器"><a href="#用栈来实现计算器" class="headerlink" title="用栈来实现计算器"></a>用栈来实现计算器</h3><p>本计算器支持正整数的加减乘除运算</p>
<h4 id="包含的知识"><a href="#包含的知识" class="headerlink" title="包含的知识"></a>包含的知识</h4><ol>
<li>字符串转化为字符数组</li>
<li>字符与double类型数据间的转换</li>
<li>栈的pop与push</li>
<li>链表栈（本计算器是通过链表栈来实现的）</li>
<li>优先级判断</li>
</ol>
<p>输入数字与符号给计算器时，计算器会考虑符号的优先级，例如乘号优先级&gt;减号的优先级；</p>
<h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ol>
<li>当我们从控制台输入一连串字符时，我们的程序需要对字符串进行拆解，</li>
<li>for循环区分数字与符号，然后将内容分别压入数字栈与符号栈；</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210222213634717.png" alt="image-20210222213634717"></p>
<ol start="3">
<li><p>使用while循环遍历符号栈，当符号栈为空时，运算终止</p>
</li>
<li><p>循环时，我们分别从符号栈和数字栈中pop出元素：num1, num2, operator; 计算完后再push入数字栈中（即计算完的值代替了原来的两个num）；通过循环进行最终得出最后的答案。</p>
</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210222213721057.png" alt="image-20210222213721057"></p>
<ol start="5">
<li>进行计算之前要先判断优先级，例如:”6X6-5”，我们需要先看一下符号栈后一个符号优先级是否大于即将pop的；如果是，我们要将他们数字与符号调换一下顺序：5-6X6 ，由于另一个符号是减号，我们要将减号改为+，其中一个数字乘上-1：-5+6X6</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210222213749453.png" alt="image-20210222213749453"></p>
<ol start="6">
<li>直到循环结束，numStack中的最后一个元素就是最终的答案.</li>
</ol>
<p>本计算器使用上面的链表栈来实现的，其中节点稍作改动，节点接收double类型数据，因为我们不知道用户输入的数字个数具体有多少，所以此链表栈没有isfull（判满）。</p>
<p>在链表栈中，我们还增添了peek方法，用于查看倒数第2个符号是什么（判断优先级）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StackCalculatorDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		System.out.print(<span class="string">&quot;please input the operation equation: &quot;</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">expression</span> <span class="operator">=</span> input.next();</span><br><span class="line">		<span class="type">Calculator</span> <span class="variable">cal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line">		cal.process(expression);</span><br><span class="line">		input.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumNode</span>&#123;</span><br><span class="line">	<span class="type">double</span> value;</span><br><span class="line">	NumNode next;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">NumNode</span><span class="params">(<span class="type">double</span> num)</span> &#123;</span><br><span class="line">		value = num;</span><br><span class="line">		next = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> value+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">NumNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	<span class="comment">//容器中元素个数</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur != <span class="literal">null</span>) &#123;</span><br><span class="line">			count ++;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判空</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//压栈</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">double</span> value)</span> &#123;</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumNode</span>(value);</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			head = node;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		cur.next = node;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//出栈</span></span><br><span class="line">	<span class="keyword">public</span> NumNode <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;栈为空，无法弹出元素&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">pre</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(size()==<span class="number">1</span>) &#123;</span><br><span class="line">			head = <span class="literal">null</span>;</span><br><span class="line">			<span class="keyword">return</span> pre;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">cur</span> <span class="operator">=</span> pre.next;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			pre = pre.next;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur;</span><br><span class="line">		pre.next = <span class="literal">null</span>;</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查看倒数第2个元素，但是不弹出</span></span><br><span class="line">	<span class="keyword">public</span> NumNode <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;栈为空，无法弹出元素&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">pre</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(size()==<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> pre;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">cur</span> <span class="operator">=</span> pre.next;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			pre = pre.next;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> pre;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//从上到下遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;栈为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">Stack</span> <span class="variable">container</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">		<span class="type">NumNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur!=<span class="literal">null</span>) &#123;</span><br><span class="line">			container.push(cur.value);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(container.size()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(container.pop());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">process</span><span class="params">(String question)</span> &#123;</span><br><span class="line"><span class="comment">//		String question = &quot;7*88+6*6-5/10&quot;;</span></span><br><span class="line">		<span class="comment">//将输入的字符串转为数组</span></span><br><span class="line">		<span class="type">char</span>[] array = question.toCharArray();</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		System.out.println(Arrays.toString(array));</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//创建2个栈，一个用于存储符号，另一个用于存储数字</span></span><br><span class="line">		<span class="type">Stack</span> <span class="variable">operStack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">		<span class="type">Stack</span> <span class="variable">numStack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">		<span class="comment">//number字符串用于存储多位数字的字符</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">number</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="comment">//for循环遍历一遍</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">char</span> i: array) &#123;</span><br><span class="line">			<span class="comment">//通过字符判断是否为数字，</span></span><br><span class="line">			<span class="keyword">if</span>(Character.isDigit(i)) &#123;</span><br><span class="line">				number += i;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				numStack.push(Integer.valueOf(number));</span><br><span class="line">				number=<span class="string">&quot;&quot;</span>;</span><br><span class="line">				operStack.push(i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//由于最后一个是数字，for循环最后一遍未压入数字栈，需要手动压入</span></span><br><span class="line">		numStack.push(Integer.valueOf(number));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//当最后一个符号栈遍历完，运算结束</span></span><br><span class="line">		<span class="keyword">while</span>(!operStack.isempty()) &#123;</span><br><span class="line">			<span class="type">char</span> <span class="variable">nextOpe</span> <span class="operator">=</span> (<span class="type">char</span>)operStack.peek().value;</span><br><span class="line">			<span class="comment">//判断优先级</span></span><br><span class="line">			<span class="keyword">if</span>(priority(nextOpe) == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">//				System.out.println(&quot;数字&quot;);</span></span><br><span class="line"><span class="comment">//				numStack.print();</span></span><br><span class="line"><span class="comment">//				System.out.println(&quot;符号&quot;);</span></span><br><span class="line"><span class="comment">//				operStack.print();</span></span><br><span class="line">				<span class="type">double</span> <span class="variable">num1</span> <span class="operator">=</span> numStack.pop().value;</span><br><span class="line">				<span class="type">double</span> <span class="variable">num2</span> <span class="operator">=</span> numStack.pop().value;</span><br><span class="line">				<span class="type">double</span> <span class="variable">num3</span> <span class="operator">=</span> numStack.pop().value;</span><br><span class="line">				<span class="type">double</span> <span class="variable">ope1</span> <span class="operator">=</span> operStack.pop().value;</span><br><span class="line">				<span class="comment">//看下一个是否是‘-’号，</span></span><br><span class="line">				<span class="keyword">if</span>((<span class="type">char</span>) ope1 == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">					<span class="comment">//更改符号，改变数字正负</span></span><br><span class="line">					ope1 = (<span class="type">int</span>)<span class="string">&#x27;+&#x27;</span>;</span><br><span class="line">					num1*=-<span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="type">double</span> <span class="variable">ope2</span> <span class="operator">=</span> operStack.pop().value;</span><br><span class="line">				</span><br><span class="line">				numStack.push(num1);</span><br><span class="line">				numStack.push(num3);</span><br><span class="line">				numStack.push(num2);</span><br><span class="line">				operStack.push(ope1);</span><br><span class="line">				operStack.push(ope2);	</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">double</span> <span class="variable">num1</span> <span class="operator">=</span> numStack.pop().value;</span><br><span class="line">			<span class="type">double</span> <span class="variable">num2</span> <span class="operator">=</span> numStack.pop().value;</span><br><span class="line">			<span class="type">char</span> <span class="variable">ope</span> <span class="operator">=</span> (<span class="type">char</span>)operStack.pop().value;</span><br><span class="line">			<span class="type">Double</span> <span class="variable">rst</span> <span class="operator">=</span> cal(num1, num2, ope);</span><br><span class="line">			numStack.push(rst);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;答案是：&quot;</span>+numStack.pop());</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//计算过程，使用switch case</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">cal</span><span class="params">(<span class="type">double</span> num1, <span class="type">double</span> num2, <span class="type">char</span> ope)</span> &#123;</span><br><span class="line">		<span class="type">double</span> <span class="variable">rst</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="keyword">switch</span> (ope) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">			rst = num2*num1;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">			rst = num2*<span class="number">1.0</span>/num1;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">			rst = num2+num1;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">			rst = num2-num1;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> rst;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//优先级判断</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">priority</span><span class="params">(<span class="type">char</span> ope)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(ope == <span class="string">&#x27;*&#x27;</span> || ope==<span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(ope == <span class="string">&#x27;+&#x27;</span> || ope ==<span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210223185107177.png" alt="image-20210223185107177"></p>
<h3 id="前、中、后缀表达式（波兰、逆波兰计算器）"><a href="#前、中、后缀表达式（波兰、逆波兰计算器）" class="headerlink" title="前、中、后缀表达式（波兰、逆波兰计算器）"></a>前、中、后缀表达式（波兰、逆波兰计算器）</h3><p>式子：3+(7+8)x4-6</p>
<p>按照我们常规的计算方法，我们从左往右计算，看到括号先计算括号里面的数，再根据优先级算其他的数字；这就是所谓的<strong>中缀表达式</strong> </p>
<p><strong>前缀表达式</strong>是把符号置于数字的左侧，以上面式子为例：**+3-x+7846**。当计算时，我们从右往左把数字压入栈中，顺序依次是：6-&gt;4-&gt;8-&gt;7（此时7在栈顶）；接着我们依次从栈中弹出2个元素：7和8，然后读取第一个符号进行计算。计算结果再压入栈中，依次循环，如果下一个是数字，压入栈中直到读取完最后一个符号。</p>
<p><strong>前缀表达式</strong>又称<strong>波兰表达式</strong>，是波兰逻辑学家J·Lukasiewicz所发现的。</p>
<p>因为前缀表达式是从右往左扫描，数字和符号有自己的讲究，不能乱放（要按照优先级：括号&gt;乘号&gt;加号）。</p>
<p><strong>后缀表达式</strong>被称为<strong>逆波兰表达式</strong>。和前缀表达式相似，后缀表达式的符号在数字的后面；</p>
<p>继续以上面的式子为例：**378+4x+6-**。</p>
<p>讲了这么多，既然中缀表达式与我们生活中使用的计算方式一样，为什么还要学前缀与后缀表达式呢？</p>
<p>由于计算机是线性思维，它无法立刻发现括号等，所以使用中缀表达式不好操作；相反用后缀或前缀表达式可以解决这个问题，计算机只用从前往后读，或从后往前读就行，这样可以方便检索运算。</p>
<h5 id="后缀表达式实现（逆波兰表达式）"><a href="#后缀表达式实现（逆波兰表达式）" class="headerlink" title="后缀表达式实现（逆波兰表达式）"></a>后缀表达式实现（逆波兰表达式）</h5><ol>
<li>后缀表达式从左向右扫描，如果遇到数字，将数字压入栈中</li>
<li>倘若遇到运算符，弹出2个数字，进行运算，运算后的结果压入栈</li>
<li>下一个是数字，再压入栈中，直到遇到运算符号</li>
<li>依次循环，向后遍历，直到最后一个符号被遍历完</li>
<li>最终存在栈中的元素就是计算的结果</li>
</ol>
<p>先从中缀转后缀</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PostfixDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">PolanCal</span> <span class="variable">cal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PolanCal</span>(<span class="string">&quot;3+(7+8)*4-6&quot;</span>);</span><br><span class="line">		cal.ToPostExpression();</span><br><span class="line">		System.out.println(cal.output);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PolanCal</span>&#123;</span><br><span class="line">	String input;<span class="comment">//中缀表达式</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">output</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;<span class="comment">//后缀表达式</span></span><br><span class="line">	Stack&lt;Character&gt; TempStack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;(); <span class="comment">//用于暂时存储中缀转后缀的符号</span></span><br><span class="line">	PolanCal(String input)&#123;</span><br><span class="line">		<span class="built_in">this</span>.input = input;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ToPostExpression</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//3+(7+8)*4-6</span></span><br><span class="line">		<span class="comment">//378+4*+6-</span></span><br><span class="line">		<span class="type">char</span>[] words = <span class="built_in">this</span>.input.toCharArray();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">char</span> i:words) &#123;</span><br><span class="line">			<span class="keyword">switch</span> (i) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">				Prio(i,<span class="number">1</span>);<span class="comment">//优先级判断</span></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">				Prio(i,<span class="number">2</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">				TempStack.push(i);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">				<span class="keyword">while</span>(!TempStack.isEmpty()) &#123;</span><br><span class="line">                    <span class="comment">//遍历，将括号间的符号加入到output</span></span><br><span class="line">					<span class="type">char</span> <span class="variable">operator</span> <span class="operator">=</span> TempStack.pop();</span><br><span class="line">					<span class="keyword">if</span>(operator ==<span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span> &#123;</span><br><span class="line">						output += operator;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="comment">//读取的是数字就直接加入到output字符串中</span></span><br><span class="line">				output += i;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//遍历完后，将暂时栈里面的符号弹出，存入到output</span></span><br><span class="line">		<span class="keyword">while</span>(!TempStack.isEmpty()) &#123;</span><br><span class="line">			output += TempStack.pop();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Prio</span><span class="params">(<span class="type">char</span> oper1, <span class="type">int</span> priority1)</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(!TempStack.isEmpty()) &#123;</span><br><span class="line">			<span class="type">char</span> <span class="variable">onTop</span> <span class="operator">=</span> TempStack.pop();<span class="comment">//弹出位于栈顶部的符号</span></span><br><span class="line">			<span class="keyword">if</span>(onTop ==<span class="string">&#x27;(&#x27;</span>) &#123;<span class="comment">//如果栈顶的是前括号，就不弹出</span></span><br><span class="line">				TempStack.push(onTop);</span><br><span class="line">				<span class="keyword">break</span>;<span class="comment">//将输入的符号压入栈中</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">//要比较栈顶的符号与输入的符号哪个优先级大</span></span><br><span class="line">				<span class="type">int</span> priority2;</span><br><span class="line">				<span class="keyword">if</span>(onTop ==<span class="string">&#x27;+&#x27;</span>||onTop==<span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">					priority2 = <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					priority2 = <span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="comment">//栈顶符号优先级小于输入的优先级</span></span><br><span class="line">				<span class="comment">//符号还原，不pop</span></span><br><span class="line">				<span class="keyword">if</span>(priority2 &lt; priority1) &#123;</span><br><span class="line">					TempStack.push(onTop);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					output += onTop;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		TempStack.push(oper1);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现中缀转后缀之后，现在要实现计算过程</p>
<p>其中有些代码稍作了改动</p>
<ol>
<li>原来的中缀无法转多位数字，现在支持多位中缀转后缀：“3+(7+89)*4-66+8”</li>
<li>为了处理数据方便，后缀表达式各符号用空格分开</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PostfixDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">PolanCal</span> <span class="variable">cal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PolanCal</span>(<span class="string">&quot;3+(7+89)*4-66+8&quot;</span>);</span><br><span class="line">		cal.ToPostExpression();</span><br><span class="line">		System.out.println(<span class="string">&quot;转逆波兰后缀表达式：&quot;</span>+cal.output);</span><br><span class="line">		cal.StartCal();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PolanCal</span> &#123;</span><br><span class="line">	String input;<span class="comment">// 中缀表达式</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">output</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;<span class="comment">// 后缀表达式</span></span><br><span class="line">	Stack&lt;Character&gt; TempStack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;(); <span class="comment">// 用于暂时存储中缀转后缀的符号</span></span><br><span class="line"></span><br><span class="line">	PolanCal(String input) &#123;</span><br><span class="line">		<span class="built_in">this</span>.input = input;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ToPostExpression</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// 3+(7+8)*4-6</span></span><br><span class="line">		<span class="comment">// 378+4*+6-</span></span><br><span class="line">		<span class="type">char</span>[] words = <span class="built_in">this</span>.input.toCharArray();</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;words.length;i++) &#123;</span><br><span class="line">			<span class="type">char</span> <span class="variable">word</span> <span class="operator">=</span>words[i];</span><br><span class="line">			<span class="keyword">switch</span> (word) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">				Prio(word, <span class="number">1</span>);<span class="comment">// 优先级判断</span></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">				Prio(word, <span class="number">2</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">				TempStack.push(word);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">				<span class="keyword">while</span> (!TempStack.isEmpty()) &#123;</span><br><span class="line">					<span class="type">char</span> <span class="variable">operator</span> <span class="operator">=</span> TempStack.pop();</span><br><span class="line">					<span class="keyword">if</span> (operator == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						output += operator + <span class="string">&quot; &quot;</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="comment">// 读取的是数字就直接加入到output字符串中</span></span><br><span class="line">				output += word;</span><br><span class="line">				<span class="keyword">if</span>(i&lt;words.length-<span class="number">1</span>&amp;&amp;!Character.isDigit(words[i+<span class="number">1</span>])) &#123;</span><br><span class="line">					output +=<span class="string">&quot; &quot;</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 遍历完后，将暂时栈里面的符号弹出，存入到output</span></span><br><span class="line">		output+=<span class="string">&quot; &quot;</span>;</span><br><span class="line">		<span class="keyword">while</span> (!TempStack.isEmpty()) &#123;</span><br><span class="line">			output += TempStack.pop();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Prio</span><span class="params">(<span class="type">char</span> oper1, <span class="type">int</span> priority1)</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (!TempStack.isEmpty()) &#123;</span><br><span class="line">			<span class="type">char</span> <span class="variable">onTop</span> <span class="operator">=</span> TempStack.pop();<span class="comment">// 弹出位于栈顶部的符号</span></span><br><span class="line">			<span class="keyword">if</span> (onTop == <span class="string">&#x27;(&#x27;</span>) &#123;<span class="comment">// 如果栈顶的是前括号，就不弹出</span></span><br><span class="line">				TempStack.push(onTop);</span><br><span class="line">				<span class="keyword">break</span>;<span class="comment">// 将输入的符号压入栈中</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">// 要比较栈顶的符号与输入的符号哪个优先级大</span></span><br><span class="line">				<span class="type">int</span> priority2;</span><br><span class="line">				<span class="keyword">if</span> (onTop == <span class="string">&#x27;+&#x27;</span> || onTop == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">					priority2 = <span class="number">1</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					priority2 = <span class="number">2</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="comment">// 栈顶符号优先级小于输入的优先级</span></span><br><span class="line">				<span class="comment">// 符号还原，不pop</span></span><br><span class="line">				<span class="keyword">if</span> (priority2 &lt; priority1) &#123;</span><br><span class="line">					TempStack.push(onTop);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					output += onTop + <span class="string">&quot; &quot;</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		TempStack.push(oper1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">StartCal</span><span class="params">()</span> &#123;</span><br><span class="line">		String[] nums = output.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">		Stack&lt;Double&gt; numStack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span> (String i : nums) &#123;</span><br><span class="line">			<span class="keyword">if</span> (isNumeric(i)) &#123;</span><br><span class="line">				numStack.push(Double.valueOf(i));</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="type">double</span> <span class="variable">num1</span> <span class="operator">=</span> numStack.pop();</span><br><span class="line">				<span class="type">double</span> <span class="variable">num2</span> <span class="operator">=</span> numStack.pop();</span><br><span class="line">				<span class="type">double</span> <span class="variable">rst</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">				<span class="keyword">if</span>(i.equals(<span class="string">&quot;+&quot;</span>)) &#123;</span><br><span class="line">					rst = num2+num1;</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(i.equals(<span class="string">&quot;-&quot;</span>)) &#123;</span><br><span class="line">					rst = num2-num1;</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(i.equals(<span class="string">&quot;*&quot;</span>)) &#123;</span><br><span class="line">					rst = num2*num1;</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span>(i.equals(<span class="string">&quot;/&quot;</span>)) &#123;</span><br><span class="line">					rst = num2*<span class="number">1.0</span>/num1;</span><br><span class="line">				&#125;</span><br><span class="line">				numStack.push(Double.valueOf(rst));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;最终计算结果：&quot;</span>+numStack.pop());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isNumeric</span><span class="params">(String str)</span>&#123;</span><br><span class="line">	    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> str.length();--i&gt;=<span class="number">0</span>;)&#123;  </span><br><span class="line">		     <span class="keyword">if</span> (!Character.isDigit(str.charAt(i)))&#123;</span><br><span class="line">		        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210223224626197.png" alt="image-20210223224626197"></p>
<h1 id="数据结构：队列Queue"><a href="#数据结构：队列Queue" class="headerlink" title="数据结构：队列Queue"></a>数据结构：队列Queue</h1><h2 id="介绍-4"><a href="#介绍-4" class="headerlink" title="介绍"></a>介绍</h2><p>与Stack栈相反，队列是First In First Out，像排队一样，在Java util包中，LinkedList就是一个Queue队列</p>
<h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><p>为了方便查找开头与结尾，我们在队列的头和尾都用2个Node来指向</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210508212901468.png" alt="image-20210508212901468"></p>
<p>当我们使用这种方法实现队列，同样，时间复杂度为O(1),插入和删除</p>
<p>具体我就不实现了，其实和Stack大同小异</p>
<h1 id="数据结构：哈希表-HashTable"><a href="#数据结构：哈希表-HashTable" class="headerlink" title="数据结构：哈希表 HashTable"></a>数据结构：哈希表 HashTable</h1><h2 id="介绍-5"><a href="#介绍-5" class="headerlink" title="介绍"></a>介绍</h2><p>HashTable是常见的数据结构，就像Set，List，Collition。哈希表常用于缓存中，功能与Raddis相似，但是后者比前者更强。哈希表是根据键值对来访问数据，（key）。HashTable一般由数组与链表所构成，如图</p>
<img src="C:\Users\23881\Desktop\Self_study\Java基础\哈希表.jpg" style="zoom:150%;" />

<p>每个数组元素都是由链表所构成，当存储数据时，根据散列函数我们选择对应的链表，将节点数据存入链表中。</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p>为了实现哈希表，先创建一个节点</p>
<p>因为是键值对的形式，我们的节点要有2个部分，1个key，1个value</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为key值是独一无二的，ID就是key, name就是value</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NameNode</span>&#123;</span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	String name;</span><br><span class="line">	NameNode next;</span><br><span class="line">	NameNode(<span class="type">int</span> num, String name)&#123;</span><br><span class="line">		<span class="built_in">this</span>.num = num;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		next = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;[ ID: &quot;</span>+num+<span class="string">&quot;, Name: &quot;</span>+name+<span class="string">&quot; ]&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>链表类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//List链表实现功能：增删遍历。当增添时不能增添已有ID，（满足key-value原则）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span>&#123;</span><br><span class="line">	NameNode head;</span><br><span class="line">	List()&#123;</span><br><span class="line">		head = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> head == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(NameNode node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			head = node;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(isExist(node)) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;ID已存在，请重新输入&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">NameNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		cur.next = node;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isExist</span><span class="params">(NameNode node)</span> &#123;</span><br><span class="line">		<span class="type">NameNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(node.num == cur.num) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(NameNode node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="type">NameNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">if</span>(cur.num == node.num) &#123;</span><br><span class="line">			head = cur.next;</span><br><span class="line">			System.out.println(<span class="string">&quot;删除完毕&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">do</span> &#123;</span><br><span class="line">			<span class="type">NameNode</span> <span class="variable">pre</span> <span class="operator">=</span>cur;</span><br><span class="line">			cur =cur.next;</span><br><span class="line">			<span class="keyword">if</span>(cur.num == node.num) &#123;</span><br><span class="line">				pre.next = cur.next;</span><br><span class="line">				System.out.println(<span class="string">&quot;删除完毕&quot;</span>);</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">while</span>(cur != <span class="literal">null</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;没有相关元素ID&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;链表为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">NameNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">		<span class="keyword">while</span>(cur != <span class="literal">null</span>)&#123;</span><br><span class="line">			System.out.print(cur+<span class="string">&quot; ~&quot;</span>);</span><br><span class="line">			cur = cur.next;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我们使用HashTable时，我们使用的时HashTable而不是LinkedList，所以要再创建一个HashTable类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HashTable</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">	List[] table; <span class="comment">//这个就是哈希表中的数组</span></span><br><span class="line">	HashTable(<span class="type">int</span> size)&#123;</span><br><span class="line">        <span class="comment">//根据传进去的size我们定义hashtable的大小</span></span><br><span class="line">		<span class="built_in">this</span>.size =size;</span><br><span class="line">		table  = <span class="keyword">new</span> <span class="title class_">List</span>[size];</span><br><span class="line">        <span class="comment">//初始化table数组，因为前面虽然创建，但是没有初始化，编译器会识别为null</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt; size;i++) &#123;</span><br><span class="line">			table[i] = <span class="keyword">new</span> <span class="title class_">List</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(NameNode sb)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">no</span> <span class="operator">=</span> fintable(sb.num);</span><br><span class="line">		table[no].add(sb);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;size;i++) &#123;</span><br><span class="line">			System.out.print(<span class="string">&quot;第&quot;</span>+(i+<span class="number">1</span>)+<span class="string">&quot;行： &quot;</span>);</span><br><span class="line">			table[i].print();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(NameNode node)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">no</span> <span class="operator">=</span> fintable(node.num);</span><br><span class="line">		table[no].delete(node);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//散列函数，最简单的散列函数就是取模，%</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fintable</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num % size;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试类</p>
<p>写一个循环，让用户选择是要Add，Delete，还是print</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashTableDemo1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">HashTable</span> <span class="variable">table</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashTable</span>(<span class="number">5</span>);</span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		String input=<span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="keyword">while</span>(input !=<span class="string">&quot;exit&quot;</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Add 添加用户&quot;</span>);</span><br><span class="line">			System.out.println(<span class="string">&quot;Print 打印用户&quot;</span>);</span><br><span class="line">			System.out.println(<span class="string">&quot;Delete 删除用户&quot;</span>);</span><br><span class="line">			System.out.println(<span class="string">&quot;Exit 退出&quot;</span>);</span><br><span class="line">			input = scanner.next();</span><br><span class="line">			<span class="keyword">switch</span> (input) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&quot;Add&quot;</span>:</span><br><span class="line">				System.out.print(<span class="string">&quot;用户ID：&quot;</span>);</span><br><span class="line">				<span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">				System.out.print(<span class="string">&quot;用户姓名：&quot;</span>);</span><br><span class="line">				<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">				table.add(<span class="keyword">new</span> <span class="title class_">NameNode</span>(id, name));</span><br><span class="line">				System.out.println();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&quot;Print&quot;</span>:</span><br><span class="line">				System.out.println(<span class="string">&quot;列表如下&quot;</span>);</span><br><span class="line">				table.print();</span><br><span class="line">				System.out.println();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&quot;Delete&quot;</span>:</span><br><span class="line">				System.out.print(<span class="string">&quot;删除用户的ID： &quot;</span>);</span><br><span class="line">				<span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">				table.delete(<span class="keyword">new</span> <span class="title class_">NameNode</span>(num, <span class="string">&quot;&quot;</span>));</span><br><span class="line">				System.out.println();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&quot;Exit&quot;</span>:</span><br><span class="line">				scanner.close();</span><br><span class="line">				System.exit(<span class="number">1</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h1 id="数据结构：树"><a href="#数据结构：树" class="headerlink" title="数据结构：树"></a>数据结构：树</h1><p>我们在使用其他数据结构，例如数组和链表多少会有些缺陷；数组虽然可以通过下标快速定位到数据，但是在增删数据会有缺陷，因为数组大小一开始就固定好了，当数组满时在增添需要开辟更大的空间然后复制内容，这样会浪费空间且麻烦；同样链表也有缺陷，虽然链表增删快且方便，但是为了查找一个数据我们需要遍历整个链表去寻找，这样速度可能会比较慢。为了解决这些问题，大佬们创建了树，如下：</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/%E6%A0%91.jpg"></p>
<p>上面的树是二叉树，树的一种；其继承了二分查找与链表的优点：易增删，查找快</p>
<h2 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h2><p>空树：没有任何结点</p>
<p>叶&#x2F;叶结点：位于末梢的结点</p>
<p>父结点：后面继承了结点的结点</p>
<p>兄弟结点：拥有相同的父结点</p>
<p>深度：树的层数，以上面图为例，深度为4，有4层</p>
<p>节点：等于结点，英文名 Node</p>
<p>完全二叉树：对于k层的完全二叉树，节点数的范围2^ (k - 1) -1 &lt; N&lt; 2^k - 1;</p>
<h2 id="二叉树（Binary-Tree）"><a href="#二叉树（Binary-Tree）" class="headerlink" title="二叉树（Binary Tree）"></a>二叉树（Binary Tree）</h2><h3 id="介绍-6"><a href="#介绍-6" class="headerlink" title="介绍"></a>介绍</h3><p>二叉树顾名思义，有2个叉的树，基本思路与树相同</p>
<p>二叉树遍历分为前序，中序还有后序；</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210309162811510.png" alt="image-20210309162811510"></p>
<p>前序：遍历先中间，左边再右边</p>
<p>ABDHECFG</p>
<p>中序：遍历先左边，中间再右边</p>
<p>HDBEAFCG</p>
<p>后序：遍历先左边，右边再中间</p>
<p>HDEBFGCA</p>
<h3 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h3><p>首先需要创建一个树结点</p>
<p>前序、中序、后序的区别在于打印的不同</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TreeNode_1</span>&#123;</span><br><span class="line">	<span class="type">char</span> word;</span><br><span class="line">	TreeNode_1 left;</span><br><span class="line">	TreeNode_1 right;</span><br><span class="line">	TreeNode_1(<span class="type">char</span> word)&#123;</span><br><span class="line">		<span class="built_in">this</span>.word = word;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> word+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//前序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.print(<span class="built_in">this</span>);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.preOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.preOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//中序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//先向左递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left !=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//走到左边最后一个打印,走完回溯到倒数第二个结点，打印倒数第二个</span></span><br><span class="line">		System.out.print(<span class="built_in">this</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//然后递归右结点</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//后序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.postOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.postOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.print(<span class="built_in">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>建立一个二叉树类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BinaryTree_1</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> TreeNode_1 root;</span><br><span class="line">	BinaryTree_1()&#123;</span><br><span class="line">		root = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	BinaryTree_1(TreeNode_1 root)&#123;</span><br><span class="line">		<span class="built_in">this</span>.root =root;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>二叉树的遍历方法，前，中，后序遍历</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">this</span>.root.preOrder();</span><br><span class="line">	System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">this</span>.root.infixOrder();</span><br><span class="line">	System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//后序遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">this</span>.root.postOrder();</span><br><span class="line">	System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>添加元素</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210309162811510.png"></p>
<p>在上面一个二叉树中，我们从上往下，从左往右判断是否应该添加元素</p>
<p>先添加元素A，由于开始为空，root结点直接指向A</p>
<p>读取A，判断A左和右侧是否为null, 左侧为null，就添加B，右侧为null，就添加C</p>
<p>我们要一层一层往下读取，这个就是：广度优先遍历（层次遍历）【横向为广度，纵向为深度】</p>
<p>怎么才能确保先取出A，再取出B，接着取出C呢？</p>
<p>这个需要用到队列</p>
<p>假设这个树最初有0个元素，我们要增添A,B,C,D</p>
<p>第1次</p>
<p>初始为空，root直接指向A</p>
<p>先把root加入到队列中,   [ A ]</p>
<p>弹出队列中第一个元素，此时是A</p>
<p>遍历如果A的左边为null, A.left指向添加的元素</p>
<p>再次循环，第2次</p>
<p>初始为1，把root加入到队列中[ A ]</p>
<p>弹出第一个元素A</p>
<p>A左边不为null, 把左边的元素压入 [B]</p>
<p>再判断A右边是否为null，右边是null,A.right 指向C</p>
<p>循环，第3次</p>
<p>初始为1，把root加入到队列中[ A ]</p>
<p>弹出第一个元素A</p>
<p>A左边不为null, 把左边的元素压入 [B]</p>
<p>再判断A右边是否为null，右边是C, 把C压入队列 [ B, C]</p>
<p>pop弹出队列第一个元素，B</p>
<p>判断B左侧是否为null, 是null, B.left 指向D</p>
<p>……</p>
<p>下面是add方法代码实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">        root = node;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LinkedList&lt;TreeNode_1&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode_1</span> <span class="variable">cur</span> <span class="operator">=</span> queue.pop();</span><br><span class="line">        <span class="keyword">if</span>(cur.left == <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.left = node;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            queue.add(cur.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cur.right == <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.right = node;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            queue.add(cur.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查找元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">rst</span> <span class="operator">=</span><span class="literal">false</span>;</span><br><span class="line">    System.out.println(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>+node);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.word == node.word) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">        rst = <span class="built_in">this</span>.left.preSearch(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(rst == <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> rst;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">        rst = <span class="built_in">this</span>.right.preSearch(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">infixSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">rst</span> <span class="operator">=</span><span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//先向左递归</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.left !=<span class="literal">null</span>) &#123;</span><br><span class="line">        rst = <span class="built_in">this</span>.left.infixSearch(node);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rst == <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> rst;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//走到左边最后一个打印,走完回溯到倒数第二个结点，打印倒数第二个</span></span><br><span class="line">    System.out.println(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>+node);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.word == node.word) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//然后递归右结点</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.right!=<span class="literal">null</span>) &#123;</span><br><span class="line">        rst = <span class="built_in">this</span>.right.infixSearch(node);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rst;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//后序遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">postSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">rst</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">        rst = <span class="built_in">this</span>.left.postSearch(node);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(rst == <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> rst;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">        rst = <span class="built_in">this</span>.right.postSearch(node);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>+node);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.word == node.word) &#123;</span><br><span class="line">        rst = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rst;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最终</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinaryTreeDemo1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">BinaryTree_1</span> <span class="variable">tree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BinaryTree_1</span>();</span><br><span class="line">		<span class="type">String</span> <span class="variable">words</span> <span class="operator">=</span><span class="string">&quot;ABCDEFGH&quot;</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">char</span> i : words.toCharArray()) &#123;</span><br><span class="line">			tree.add(<span class="keyword">new</span> <span class="title class_">TreeNode_1</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;前序遍历&quot;</span>);</span><br><span class="line">		tree.preOrder();</span><br><span class="line">		System.out.println(<span class="string">&quot;中序遍历&quot;</span>);</span><br><span class="line">		tree.infixOrder();</span><br><span class="line">		System.out.println(<span class="string">&quot;后序遍历&quot;</span>);</span><br><span class="line">		tree.postOrder();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;前序查找&quot;</span>);</span><br><span class="line">		System.out.println(tree.preSearch(<span class="keyword">new</span> <span class="title class_">TreeNode_1</span>(<span class="string">&#x27;B&#x27;</span>)));</span><br><span class="line">		System.out.println(<span class="string">&quot;中序查找&quot;</span>);</span><br><span class="line">		System.out.println(tree.infixSearch(<span class="keyword">new</span> <span class="title class_">TreeNode_1</span>(<span class="string">&#x27;B&#x27;</span>)));</span><br><span class="line">		System.out.println(<span class="string">&quot;后序查找&quot;</span>);</span><br><span class="line">		System.out.println(tree.postSearch(<span class="keyword">new</span> <span class="title class_">TreeNode_1</span>(<span class="string">&#x27;B&#x27;</span>)));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TreeNode_1</span>&#123;</span><br><span class="line">	<span class="type">char</span> word;</span><br><span class="line">	TreeNode_1 left;</span><br><span class="line">	TreeNode_1 right;</span><br><span class="line">	TreeNode_1(<span class="type">char</span> word)&#123;</span><br><span class="line">		<span class="built_in">this</span>.word = word;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> word+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//前序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.print(<span class="built_in">this</span>);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.preOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.preOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//中序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//先向左递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left !=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//走到左边最后一个打印,走完回溯到倒数第二个结点，打印倒数第二个</span></span><br><span class="line">		System.out.print(<span class="built_in">this</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//然后递归右结点</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right!=<span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//后序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.postOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.postOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.print(<span class="built_in">this</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//前序遍历</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">			<span class="type">boolean</span> <span class="variable">rst</span> <span class="operator">=</span><span class="literal">false</span>;</span><br><span class="line">			System.out.println(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>+node);</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.word == node.word) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">				rst = <span class="built_in">this</span>.left.preSearch(node);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(rst == <span class="literal">true</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> rst;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">				rst = <span class="built_in">this</span>.right.preSearch(node);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> rst;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//中序遍历</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">infixSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">			<span class="type">boolean</span> <span class="variable">rst</span> <span class="operator">=</span><span class="literal">false</span>;</span><br><span class="line">			<span class="comment">//先向左递归</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left !=<span class="literal">null</span>) &#123;</span><br><span class="line">				rst = <span class="built_in">this</span>.left.infixSearch(node);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(rst == <span class="literal">true</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> rst;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//走到左边最后一个打印,走完回溯到倒数第二个结点，打印倒数第二个</span></span><br><span class="line">			System.out.println(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>+node);</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.word == node.word) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//然后递归右结点</span></span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right!=<span class="literal">null</span>) &#123;</span><br><span class="line">				rst = <span class="built_in">this</span>.right.infixSearch(node);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> rst;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//后序遍历</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">postSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">			<span class="type">boolean</span> <span class="variable">rst</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">				rst = <span class="built_in">this</span>.left.postSearch(node);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(rst == <span class="literal">true</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> rst;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">				rst = <span class="built_in">this</span>.right.postSearch(node);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>+node);</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.word == node.word) &#123;</span><br><span class="line">				rst = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> rst;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BinaryTree_1</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> TreeNode_1 root;</span><br><span class="line">	BinaryTree_1()&#123;</span><br><span class="line">		root = <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	BinaryTree_1(TreeNode_1 root)&#123;</span><br><span class="line">		<span class="built_in">this</span>.root =root;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			root = node;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		LinkedList&lt;TreeNode_1&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		queue.add(root);</span><br><span class="line">		<span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">			<span class="type">TreeNode_1</span> <span class="variable">cur</span> <span class="operator">=</span> queue.pop();</span><br><span class="line">			<span class="keyword">if</span>(cur.left == <span class="literal">null</span>) &#123;</span><br><span class="line">				cur.left = node;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				queue.add(cur.left);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(cur.right == <span class="literal">null</span>) &#123;</span><br><span class="line">				cur.right = node;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				queue.add(cur.right);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//前序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">this</span>.root.preOrder();</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//中序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">this</span>.root.infixOrder();</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//后序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">this</span>.root.postOrder();</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//前序查找</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.root.preSearch(node);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//中序查找</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">infixSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.root.infixSearch(node);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//后序查找</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">postSearch</span><span class="params">(TreeNode_1 node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;树为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.root.postSearch(node);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210309220309950.png" alt="image-20210309220309950"></p>
<h3 id="顺序存储二叉树"><a href="#顺序存储二叉树" class="headerlink" title="顺序存储二叉树"></a>顺序存储二叉树</h3><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210310213638706.png" alt="image-20210310213638706"></p>
<p>我们将二叉树的结点以数组的形式储存，虽然结点在数组中保存，但是我们仍然可以像树一样遍历数组（前序遍历、中序遍历、后序遍历）</p>
<p>顺序存储二叉树的特点</p>
<ol>
<li>通常是完全二叉树</li>
<li>第n个元素的左子节点为2*n+1</li>
<li>第n个元素的右子节点为2*n+2</li>
<li>第n个元素的父节点为（n-1）&#x2F;2 (取整)</li>
</ol>
<p>举例：第0个元素的左子节点序号为1，第0个元素的右子节点序号为2， 第1个元素的父节点0，0 &#x3D; (1-1) &#x2F;2,同样第2个元素的父节点0, 0 &#x3D; (2-1) &#x2F;2</p>
<p>代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayBinaryTreeDemo1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;; <span class="comment">//定义一个顺序数组</span></span><br><span class="line">		System.out.println(<span class="string">&quot;前序遍历&quot;</span>);</span><br><span class="line">		preOrder(arr, <span class="number">0</span>); <span class="comment">//这个0指的是根的位置</span></span><br><span class="line">		System.out.println(<span class="string">&quot;\n&quot;</span>+<span class="string">&quot;中序遍历&quot;</span>);</span><br><span class="line">		infixOrder(arr, <span class="number">0</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;\n&quot;</span>+<span class="string">&quot;后序遍历&quot;</span>);</span><br><span class="line">		postOrder(arr, <span class="number">0</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//完成顺序存储二叉树的前序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;数组为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.print(arr[index]);</span><br><span class="line">		<span class="comment">//向左递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*index +<span class="number">2</span> &lt; arr.length) &#123;</span><br><span class="line">			preOrder(arr, <span class="number">2</span>*index +<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//向右递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*index +<span class="number">2</span> &lt; arr.length) &#123;</span><br><span class="line">			preOrder(arr, <span class="number">2</span>*index +<span class="number">2</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//中序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;数组为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//向左递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*index +<span class="number">2</span> &lt; arr.length) &#123;</span><br><span class="line">			preOrder(arr, <span class="number">2</span>*index +<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.print(arr[index]);</span><br><span class="line">		<span class="comment">//向右递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*index +<span class="number">2</span> &lt; arr.length) &#123;</span><br><span class="line">			preOrder(arr, <span class="number">2</span>*index +<span class="number">2</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//后序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;数组为空&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//向左递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*index +<span class="number">2</span> &lt; arr.length) &#123;</span><br><span class="line">			preOrder(arr, <span class="number">2</span>*index +<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//向右递归</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*index +<span class="number">2</span> &lt; arr.length) &#123;</span><br><span class="line">			preOrder(arr, <span class="number">2</span>*index +<span class="number">2</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.print(arr[index]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210310230156086.png" alt="image-20210310230156086"></p>
<h2 id="二叉树的应用"><a href="#二叉树的应用" class="headerlink" title="二叉树的应用"></a>二叉树的应用</h2><h3 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h3><p>堆排序是利用堆这种数据结构而设计的排序算法，堆排序是一种选择排序，它的时间复杂度为 O(nlogn),是不稳定的排序。我们使用树的思想来进行数组的排序，数组与树之间的转换，参考上面顺序存储二叉树</p>
<h4 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h4><p>当完全二叉树的每个结点的值都大于或等于其左右孩子结点的值，我们称为大顶堆。若每个结点的值都小于或等于其左右孩子结点的值，称为小顶堆。</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210310144214297.png" alt="image-20210310144214297"></p>
<p>大顶堆的图如上，小顶堆就是和大顶堆相反，小的在上，大的在下</p>
<p>一般使用大顶堆对数据进行升序排列，使用小顶堆进行降序排列</p>
<p>排序操作时操作的一直都是数组，但是为了方便理解，以树的形式来演示。</p>
<p>大顶堆特点：arr[i] &gt;&#x3D; arr[2<em>i +1] &amp;&amp; arr[i] &gt;&#x3D; arr[2</em>i +2]</p>
<ol>
<li>第n个元素大于等于其左子节点即第2*n+1个元素</li>
<li>第n个元素大于等于其右子节点即第2*n+2个元素</li>
</ol>
<p>小顶堆特点：arr[i] &lt;&#x3D; arr[2<em>i +1] &amp;&amp; arr[i] &lt;&#x3D; arr[2</em>i +2]</p>
<ol>
<li>第n个元素小于等于其左子节点即第2*n+1个元素</li>
<li>第n个元素小于等于其右子节点即第2*n+2个元素</li>
</ol>
<h4 id="排序思想"><a href="#排序思想" class="headerlink" title="排序思想"></a>排序思想</h4><ol>
<li>将待排序数列构建成一个大顶堆</li>
<li>此时序列最大值再根节点</li>
<li>将根节点与数组最后一个数进行交换</li>
<li>将剩余的n-1个数再次形成一个大顶堆，依次循环</li>
<li><strong>注意</strong>：堆排序不需要创建树，我们执行排序只是利用树的思路来解决数组的排序问题，整个过程都在处理数组</li>
</ol>
<h4 id="实现-2"><a href="#实现-2" class="headerlink" title="实现"></a>实现</h4><p>大顶堆的构建需要从下往上最下面index应该是倒数第二行第一个结点(父结点)</p>
<p>我们从下往上的顺序是：3 -&gt; 2-&gt;1,从而构建大顶堆</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210311161053589.png" alt="image-20210311161053589"></p>
<p>图解</p>
<p>第一个大顶堆</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210311161012291.png" alt="image-20210311161012291"></p>
<p>root根与最后一个交换</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210311161423085.png" alt="image-20210311161423085"></p>
<p>从剩下的n-1个数组中再找出最大的</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210311161541322.png" alt="image-20210311161541322"></p>
<p>再次循环</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210311161615463.png" alt="image-20210311161615463"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HeapSorting</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] arr = &#123;<span class="number">35</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">15</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">45</span>&#125;;</span><br><span class="line"><span class="comment">//		int[] arr = &#123;101,34,119,1&#125;;</span></span><br><span class="line">		Sort(arr);</span><br><span class="line">		System.out.println(Arrays.toString(arr));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Sort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//由下往上构建大顶堆,i指的是倒数位于中间的结点元素</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=arr.length/<span class="number">2</span> -<span class="number">1</span>;i&gt;-<span class="number">1</span>;i--) &#123;</span><br><span class="line">			heap(arr, i, arr.length);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//进行arr.length-1次循环</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=arr.length-<span class="number">1</span>; j&gt;<span class="number">0</span>; j-- ) &#123;</span><br><span class="line">            <span class="comment">//交换数组元素，第一个（本循环中最大的）与最后一个交换</span></span><br><span class="line">			temp = arr[j];</span><br><span class="line">			arr[j] = arr[<span class="number">0</span>];</span><br><span class="line">			arr[<span class="number">0</span>] = temp;</span><br><span class="line">            <span class="comment">//排除最后一个再次构建大顶堆</span></span><br><span class="line">			heap(arr, <span class="number">0</span>, j);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//建立大顶堆</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">heap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> index, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[index]; <span class="comment">//用temp储存最顶端的值</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//for循环只要k值即小于len的时候，才能开始遍历数组</span></span><br><span class="line">		<span class="comment">//bigger = bigger*2+1 指向左遍历</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> bigger=<span class="number">2</span>*index+<span class="number">1</span>; bigger &lt;len; bigger = bigger *<span class="number">2</span>+ <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="comment">//三个数进行比较，左、中、右，默认左边大于右边</span></span><br><span class="line">			<span class="comment">// 如果右边大于左边，且右边有值时</span></span><br><span class="line">			<span class="comment">//右边是index*2 +2 = bigger +1</span></span><br><span class="line">			<span class="keyword">if</span>(bigger+<span class="number">1</span> &lt; len &amp;&amp;arr[bigger] &lt; arr[bigger+<span class="number">1</span>]) &#123;</span><br><span class="line">				bigger++; <span class="comment">//更大的是右边</span></span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//如果此时左边或者右边中更大的数大于中间的数</span></span><br><span class="line">			<span class="keyword">if</span>(arr[bigger] &gt; temp) &#123;</span><br><span class="line">				<span class="comment">//中间的数与最大的数交换位置</span></span><br><span class="line">				arr[index] = arr[bigger];</span><br><span class="line">				<span class="comment">//用index记下最大的数原来的下标，方便向下查找比较</span></span><br><span class="line">				index =bigger;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//最后再交换最小的数</span></span><br><span class="line">		arr[index] =temp;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="赫夫曼树（Huffman-Tree）"><a href="#赫夫曼树（Huffman-Tree）" class="headerlink" title="赫夫曼树（Huffman Tree）"></a>赫夫曼树（Huffman Tree）</h2><h3 id="介绍-7"><a href="#介绍-7" class="headerlink" title="介绍"></a>介绍</h3><ol>
<li>给定n个权值作为n个叶子结点，构造一棵二叉树，若该树的WPL(Weighted path length) 最小，它就是Huffman Tree，同时也称最优二叉树</li>
</ol>
<p><em>WPL是指所有叶子结点的带权路径之和</em></p>
<ol start="2">
<li>Huffman Tree是带权路径长度最短的树，权值较大的结点离根较近</li>
<li>Huffman Tree的值都放在叶子结点上</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210313154401138.png" alt="image-20210313154401138"></p>
<p>上面这张图的WPL是<br>$$<br>10<em>3+30</em>2+25<em>2+20</em>2 &#x3D; 180<br>$$</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210313184403163.png" alt="image-20210313184403163"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuffmanTreeDemo1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">29</span>&#125;;</span><br><span class="line">		ArrayList&lt;HuffmanNode&gt; nodes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); </span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i:arr) &#123;</span><br><span class="line">			nodes.add(<span class="keyword">new</span> <span class="title class_">HuffmanNode</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.sort(nodes);</span><br><span class="line">		CrtTree(nodes);</span><br><span class="line">		System.out.println(<span class="string">&quot;前序遍历&quot;</span>);</span><br><span class="line">		preOrder(nodes.get(<span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">CrtTree</span><span class="params">(ArrayList&lt;HuffmanNode&gt; nodes)</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(nodes.size() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="type">HuffmanNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">			<span class="type">HuffmanNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> nodes.get(<span class="number">1</span>);</span><br><span class="line">			<span class="type">HuffmanNode</span> <span class="variable">parent</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HuffmanNode</span>(leftNode.value +rightNode.value);</span><br><span class="line">			parent.left = leftNode;</span><br><span class="line">			parent.right = rightNode;</span><br><span class="line">			nodes.remove(leftNode);</span><br><span class="line">			nodes.remove(rightNode);</span><br><span class="line">			nodes.add(parent);</span><br><span class="line">			Collections.sort(nodes);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(nodes.get(<span class="number">0</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(HuffmanNode root)</span> &#123;</span><br><span class="line">		System.out.println(root);</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			preOrder(root.left);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			preOrder(root.right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//为了使Node对象支持排序</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HuffmanNode</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;HuffmanNode&gt;&#123;</span><br><span class="line">	<span class="type">int</span> value;</span><br><span class="line">	HuffmanNode left;</span><br><span class="line">	HuffmanNode right;</span><br><span class="line">	HuffmanNode(<span class="type">int</span> num)&#123;</span><br><span class="line">		value = num;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;HuffmanNode [value=&quot;</span> + value + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(HuffmanNode node)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.value - node.value;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210313184501417.png" alt="image-20210313184501417"></p>
<h3 id="赫夫曼编码（Huffman-Coding）"><a href="#赫夫曼编码（Huffman-Coding）" class="headerlink" title="赫夫曼编码（Huffman Coding）"></a>赫夫曼编码（Huffman Coding）</h3><p>赫夫曼编码常用于通信领域，由于其优异的编码方式，可以提高传输效率</p>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><p>我们要将“hello world”进行数据传输，首先我们要把字母转成对应的ASC字母表</p>
<p>104 101 108 108 110 32 119 114 111 114 108 100</p>
<p>然后把对应的十进制数字转为二进制</p>
<p>110 1000 110 0101 110 1100 110 1100 110 1110 10 0000 111 0111 111 0010 110 1111 111 0010 110 1100 110 0100</p>
<p>可以发现转为二进制传输非常长，假如内容更多，对应的二进制内容也会更长，传输效率会下降</p>
<p>我们将上面的内容换成赫夫曼编码</p>
<p>赫夫曼编码的前提是拥有一个赫夫曼树，统一向左为0，向右为1，我们统计每个字符出现的次数，其出现的次数为权，下面有一张图来解释</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210313201131542.png" alt="image-20210313201131542"></p>
<p>赫夫曼编码中每个字符没有重复的码，保证了唯一性</p>
<p>将”hello world”按照赫夫曼编码: 11011101010010000001000101100</p>
<p>注意，赫夫曼树的排序方法不同可能会导致对应的赫夫曼编码不同（几个数权值一样），但是最终大小都是一样</p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><h5 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h5><p>1）创建一个结点，储存数据和对应的权值</p>
<p>2）将内容数据转成byte[ ] 数组</p>
<p>3）统计byte数组中每个字符出现的次数，转存到map中</p>
<p>4）构建赫夫曼树，（根据前面得到的map的data和对应的权值来构建Node），把Node加入到List中进行排序</p>
<p>5）构建好的赫夫曼树返回的是一个根节点</p>
<p>6）根据根节点我们要遍历，获取对应的密码，向左为0，向右为1，把对应的密码存入到Map中</p>
<p>7）按照之前的byte[ ]数组，我们与密码一起匹配（压缩）转换成新的byte[ ]数组，这个数组存储的就是赫夫曼码</p>
<p><strong>编码</strong></p>
<p>1） 节点构建</p>
<p>此节点继承Comparable接口，有利于树的比较</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Node节点，储存数据与权值</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Node&gt;&#123;</span><br><span class="line">	Byte data;</span><br><span class="line">	<span class="type">int</span> weight;</span><br><span class="line">	Node left;</span><br><span class="line">	Node right;</span><br><span class="line">	Node(Byte data, <span class="type">int</span> value)&#123;</span><br><span class="line">		<span class="built_in">this</span>.data =  data;</span><br><span class="line">		weight = value;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Node [data=&quot;</span> + data + <span class="string">&quot;, weight=&quot;</span> + weight + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Node o)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.weight - o.weight;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2）</p>
<p>把字符串内容转为Byte类型数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] arr = msg.getBytes();</span><br></pre></td></tr></table></figure>



<p>3）</p>
<p>统计每个字符出现的次数，储存在Map中</p>
<p>【h:1 , e:1, l:3, o:2, w:1, r:1, d:1】</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统计每个字母出现的次数</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, Integer&gt; <span class="title function_">Count</span><span class="params">(<span class="type">byte</span>[] arr)</span> &#123;</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">byte</span> i:arr) &#123;</span><br><span class="line">			<span class="type">Byte</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Byte</span>(i);</span><br><span class="line">			<span class="keyword">if</span>(!map.containsKey(data)) &#123;</span><br><span class="line">				map.put(data, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				map.replace(data, map.get(data), map.get(data)+<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>4）</p>
<p>按照这些字符出现的次数，我们进行排序，然后构建赫夫曼树</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//构建赫夫曼树，返回根节点</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Node <span class="title function_">HuffmanTree</span><span class="params">(HashMap&lt;Byte, Integer&gt; map)</span> &#123;</span><br><span class="line">		ArrayList&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(Byte i:map.keySet()) &#123;</span><br><span class="line">			nodes.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i, map.get(i)));</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.sort(nodes);</span><br><span class="line">		<span class="keyword">while</span>(nodes.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">leftNode</span> <span class="operator">=</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">rightNode</span> <span class="operator">=</span>nodes.get(<span class="number">1</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">parentNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>, leftNode.weight+rightNode.weight);</span><br><span class="line">			parentNode.left = leftNode;</span><br><span class="line">			parentNode.right = rightNode;</span><br><span class="line">			nodes.remove(leftNode);</span><br><span class="line">			nodes.remove(rightNode);</span><br><span class="line">			nodes.add(parentNode);</span><br><span class="line">			Collections.sort(nodes);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>5）</p>
<p>构建好树之后，我们要对树进行遍历，向左为0，向右为1，像这样</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210314123026917.png" alt="image-20210314123026917"></p>
<p>最终可以得到</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210314123040990.png" alt="image-20210314123040990"></p>
<p>由于权值相同，得出的code可能会与上面展示的不一样</p>
<p>我们将转好的密码存入Map</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得出密码，赫夫曼码</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, String&gt; <span class="title function_">password</span><span class="params">(Node root,StringBuffer buf,HashMap&lt;Byte, String&gt; map)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">0</span>);</span><br><span class="line">			password(root.left, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">			map.put(root.data, buf.toString());</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">1</span>);</span><br><span class="line">			password(root.right, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		if(buf.length()&gt;0)</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>6）按照密码进行字符串对应的byte[ ]数组压缩，返回的是byte[ ]数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组转换成赫夫曼编码格式</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">byte</span>[] UpdateCode(<span class="type">byte</span>[] arr, HashMap&lt;Byte, String&gt; dic) &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">meg</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">			 meg.append(dic.get(arr[i]));</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		System.out.println(meg);</span></span><br><span class="line">		<span class="comment">//转成byte数组</span></span><br><span class="line">		<span class="comment">//1 byte 等于8 bits, 0001001是bits,要转成byte </span></span><br><span class="line">		<span class="type">int</span> len;</span><br><span class="line">		<span class="keyword">if</span>(meg.length()%<span class="number">8</span>==<span class="number">0</span>) &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">byte</span>[] codes =<span class="keyword">new</span> <span class="title class_">byte</span>[len];</span><br><span class="line">		<span class="comment">//把刚才存好的字符串，8位8位读取，添加进byte数组中</span></span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;meg.length();j+=<span class="number">8</span>)&#123;</span><br><span class="line">			String temp;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">8</span> &gt; meg.length()) &#123;</span><br><span class="line">				temp = meg.substring(j);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				temp = meg.substring(j, j+<span class="number">8</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//将对应的字符串,转为2进制编码，再将对应的2进制编码转为byte类型</span></span><br><span class="line">			codes[count] = (<span class="type">byte</span>)Integer.parseInt(temp, <span class="number">2</span>);</span><br><span class="line">			</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> codes;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p><strong>最终</strong></p>
<p>只要调用Zip函数，向Zip函数传入字符串参数，就能得到相应的赫夫曼编码数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">//赫夫曼编码</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] Zip(String msg) &#123;</span><br><span class="line">		<span class="type">byte</span>[] arr = msg.getBytes();</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = Count(arr);</span><br><span class="line">		<span class="type">Node</span> <span class="variable">root</span> <span class="operator">=</span> HuffmanTree(map);</span><br><span class="line">		StringBuffer buf=<span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">		HashMap&lt;Byte, String&gt; Dic = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		password(root, buf,Dic);</span><br><span class="line"><span class="comment">//		for(Byte i:Dic.keySet()) &#123;</span></span><br><span class="line"><span class="comment">//			System.out.println((char)(byte)i+&quot;:&quot;+Dic.get(i));</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> UpdateCode(arr,Dic);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//统计每个字母出现的次数</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, Integer&gt; <span class="title function_">Count</span><span class="params">(<span class="type">byte</span>[] arr)</span> &#123;</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">byte</span> i:arr) &#123;</span><br><span class="line">			<span class="type">Byte</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Byte</span>(i);</span><br><span class="line">			<span class="keyword">if</span>(!map.containsKey(data)) &#123;</span><br><span class="line">				map.put(data, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				map.replace(data, map.get(data), map.get(data)+<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//构建赫夫曼树，返回根节点</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Node <span class="title function_">HuffmanTree</span><span class="params">(HashMap&lt;Byte, Integer&gt; map)</span> &#123;</span><br><span class="line">		ArrayList&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(Byte i:map.keySet()) &#123;</span><br><span class="line">			nodes.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i, map.get(i)));</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.sort(nodes);</span><br><span class="line">		<span class="keyword">while</span>(nodes.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">leftNode</span> <span class="operator">=</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">rightNode</span> <span class="operator">=</span>nodes.get(<span class="number">1</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">parentNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>, leftNode.weight+rightNode.weight);</span><br><span class="line">			parentNode.left = leftNode;</span><br><span class="line">			parentNode.right = rightNode;</span><br><span class="line">			nodes.remove(leftNode);</span><br><span class="line">			nodes.remove(rightNode);</span><br><span class="line">			nodes.add(parentNode);</span><br><span class="line">			Collections.sort(nodes);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//得出密码，赫夫曼码</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, String&gt; <span class="title function_">password</span><span class="params">(Node root,StringBuffer buf,HashMap&lt;Byte, String&gt; map)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">0</span>);</span><br><span class="line">			password(root.left, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">			map.put(root.data, buf.toString());</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">1</span>);</span><br><span class="line">			password(root.right, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		if(buf.length()&gt;0)</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//数组转换成赫夫曼编码格式</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">byte</span>[] UpdateCode(<span class="type">byte</span>[] arr, HashMap&lt;Byte, String&gt; dic) &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">meg</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">			 meg.append(dic.get(arr[i]));</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		System.out.println(meg);</span></span><br><span class="line">		<span class="comment">//转成byte数组</span></span><br><span class="line">		<span class="comment">//1 byte 等于8 bits, 0001001是bits,要转成byte </span></span><br><span class="line">		<span class="type">int</span> len;</span><br><span class="line">		<span class="keyword">if</span>(meg.length()%<span class="number">8</span>==<span class="number">0</span>) &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">byte</span>[] codes =<span class="keyword">new</span> <span class="title class_">byte</span>[len];</span><br><span class="line">		<span class="comment">//把刚才存好的字符串，8位8位读取，添加进byte数组中</span></span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;meg.length();j+=<span class="number">8</span>)&#123;</span><br><span class="line">			String temp;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">8</span> &gt; meg.length()) &#123;</span><br><span class="line">				temp = meg.substring(j);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				temp = meg.substring(j, j+<span class="number">8</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//将对应的字符串,转为2进制编码，再将对应的2进制编码转为byte类型</span></span><br><span class="line">			codes[count] = (<span class="type">byte</span>)Integer.parseInt(temp, <span class="number">2</span>);</span><br><span class="line">			</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> codes;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<h5 id="解码"><a href="#解码" class="headerlink" title="解码"></a>解码</h5><p>上面讲的是编码，下面的程序是解码程序</p>
<p>解码与编码相反</p>
<p>1）把得到的byte[ ]数组转为2进制，一个一个读取，存入到一个字符串中</p>
<p>2）按照字符串和之前的密码本进行匹配，最后就得出原数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Decode</span><span class="params">(String msg, HashMap&lt;Byte, String&gt; dic)</span> &#123;</span><br><span class="line">		<span class="comment">//反向查询解码</span></span><br><span class="line">		HashMap&lt;String, Byte&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//		System.out.println(msg);</span></span><br><span class="line">		System.out.println(<span class="string">&quot;Huffman decode&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Byte word:dic.keySet()) &#123;</span><br><span class="line">			map.put(dic.get(word), word);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    </span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">		String value;</span><br><span class="line">		<span class="comment">//匹配对应的字符</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;msg.length();i+= value.length()) &#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">				value = msg.substring(i, i+count);</span><br><span class="line">				<span class="keyword">if</span>(map.containsKey(value)) &#123;</span><br><span class="line">					System.out.print((<span class="type">char</span>)(<span class="type">byte</span>)map.get(value));</span><br><span class="line">					count =<span class="number">1</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				count ++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//把byte数组转为二进制类型</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">Unzip</span><span class="params">(<span class="type">byte</span>[] msg)</span> &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">container</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;msg.length;i++) &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Byte</span>(msg[i]);</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span>Integer.toBinaryString(value);</span><br><span class="line">			<span class="comment">//判断最后一位是否为8bit长度，如果不是，直接加进去</span></span><br><span class="line">			<span class="keyword">if</span>(i==msg.length-<span class="number">1</span> &amp;&amp; temp.length()&lt;<span class="number">24</span>) &#123;</span><br><span class="line">				container.append(temp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(temp.length()&gt;<span class="number">24</span>)</span><br><span class="line">					container.append(temp.substring(<span class="number">24</span>));</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;(<span class="number">8</span>-temp.length());j++) &#123;</span><br><span class="line">						container.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					container.append(temp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="comment">//			System.out.println(temp);</span></span><br><span class="line">			</span><br><span class="line">				</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> container.toString();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>压缩+解码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> HuffmanCoding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuffmanCodingDemo1</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span><span class="string">&quot;hello world my friend, this is peterbear&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">byte</span>[] arr = msg.getBytes();</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = Count(arr);</span><br><span class="line">		<span class="type">Node</span> <span class="variable">root</span> <span class="operator">=</span> HuffmanTree(map);</span><br><span class="line">		StringBuffer buf=<span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">		HashMap&lt;Byte, String&gt; Dic = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Huffman Code&quot;</span>);;</span><br><span class="line">		<span class="type">byte</span>[] code = Zip(msg);</span><br><span class="line">		System.out.println(Arrays.toString(code));</span><br><span class="line">		</span><br><span class="line">		Decode(Unzip(code),password(root, buf,Dic));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//赫夫曼编码</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">byte</span>[] Zip(String msg) &#123;</span><br><span class="line">		<span class="type">byte</span>[] arr = msg.getBytes();</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = Count(arr);</span><br><span class="line">		<span class="type">Node</span> <span class="variable">root</span> <span class="operator">=</span> HuffmanTree(map);</span><br><span class="line">		StringBuffer buf=<span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">		HashMap&lt;Byte, String&gt; Dic = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		password(root, buf,Dic);</span><br><span class="line"><span class="comment">//		for(Byte i:Dic.keySet()) &#123;</span></span><br><span class="line"><span class="comment">//			System.out.println((char)(byte)i+&quot;:&quot;+Dic.get(i));</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> UpdateCode(arr,Dic);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//统计每个字母出现的次数</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, Integer&gt; <span class="title function_">Count</span><span class="params">(<span class="type">byte</span>[] arr)</span> &#123;</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">byte</span> i:arr) &#123;</span><br><span class="line">			<span class="type">Byte</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Byte</span>(i);</span><br><span class="line">			<span class="keyword">if</span>(!map.containsKey(data)) &#123;</span><br><span class="line">				map.put(data, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				map.replace(data, map.get(data), map.get(data)+<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//构建赫夫曼树，返回根节点</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Node <span class="title function_">HuffmanTree</span><span class="params">(HashMap&lt;Byte, Integer&gt; map)</span> &#123;</span><br><span class="line">		ArrayList&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(Byte i:map.keySet()) &#123;</span><br><span class="line">			nodes.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i, map.get(i)));</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.sort(nodes);</span><br><span class="line">		<span class="keyword">while</span>(nodes.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">leftNode</span> <span class="operator">=</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">rightNode</span> <span class="operator">=</span>nodes.get(<span class="number">1</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">parentNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>, leftNode.weight+rightNode.weight);</span><br><span class="line">			parentNode.left = leftNode;</span><br><span class="line">			parentNode.right = rightNode;</span><br><span class="line">			nodes.remove(leftNode);</span><br><span class="line">			nodes.remove(rightNode);</span><br><span class="line">			nodes.add(parentNode);</span><br><span class="line">			Collections.sort(nodes);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//得出密码，赫夫曼码</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, String&gt; <span class="title function_">password</span><span class="params">(Node root,StringBuffer buf,HashMap&lt;Byte, String&gt; map)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">0</span>);</span><br><span class="line">			password(root.left, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">			map.put(root.data, buf.toString());</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">1</span>);</span><br><span class="line">			password(root.right, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		if(buf.length()&gt;0)</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//数组转换成赫夫曼编码格式</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">byte</span>[] UpdateCode(<span class="type">byte</span>[] arr, HashMap&lt;Byte, String&gt; dic) &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">meg</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">			 meg.append(dic.get(arr[i]));</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		System.out.println(meg);</span></span><br><span class="line">		<span class="comment">//转成byte数组</span></span><br><span class="line">		<span class="comment">//1 byte 等于8 bits, 0001001是bits,要转成byte </span></span><br><span class="line">		<span class="type">int</span> len;</span><br><span class="line">		<span class="keyword">if</span>(meg.length()%<span class="number">8</span>==<span class="number">0</span>) &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">byte</span>[] codes =<span class="keyword">new</span> <span class="title class_">byte</span>[len];</span><br><span class="line">		<span class="comment">//把刚才存好的字符串，8位8位读取，添加进byte数组中</span></span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;meg.length();j+=<span class="number">8</span>)&#123;</span><br><span class="line">			String temp;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">8</span> &gt; meg.length()) &#123;</span><br><span class="line">				temp = meg.substring(j);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				temp = meg.substring(j, j+<span class="number">8</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//将对应的字符串,转为2进制编码，再将对应的2进制编码转为byte类型</span></span><br><span class="line">			codes[count] = (<span class="type">byte</span>)Integer.parseInt(temp, <span class="number">2</span>);</span><br><span class="line">			</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> codes;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Decode</span><span class="params">(String msg, HashMap&lt;Byte, String&gt; dic)</span> &#123;</span><br><span class="line">		<span class="comment">//反向查询解码</span></span><br><span class="line">		HashMap&lt;String, Byte&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//		System.out.println(msg);</span></span><br><span class="line">		System.out.println(<span class="string">&quot;Huffman decode&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Byte word:dic.keySet()) &#123;</span><br><span class="line">			map.put(dic.get(word), word);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">		String value;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;msg.length();i+= value.length()) &#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">				value = msg.substring(i, i+count);</span><br><span class="line">				<span class="keyword">if</span>(map.containsKey(value)) &#123;</span><br><span class="line">					System.out.print((<span class="type">char</span>)(<span class="type">byte</span>)map.get(value));</span><br><span class="line">					count =<span class="number">1</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				count ++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//把byte数组转为二进制类型</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">Unzip</span><span class="params">(<span class="type">byte</span>[] msg)</span> &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">container</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;msg.length;i++) &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Byte</span>(msg[i]);</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span>Integer.toBinaryString(value);</span><br><span class="line">			<span class="comment">//判断最后一位是否为8bit长度，如果不是，直接加进去</span></span><br><span class="line">			<span class="keyword">if</span>(i==msg.length-<span class="number">1</span> &amp;&amp; temp.length()&lt;<span class="number">24</span>) &#123;</span><br><span class="line">				container.append(temp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(temp.length()&gt;<span class="number">24</span>)</span><br><span class="line">					container.append(temp.substring(<span class="number">24</span>));</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;(<span class="number">8</span>-temp.length());j++) &#123;</span><br><span class="line">						container.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					container.append(temp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="comment">//			System.out.println(temp);</span></span><br><span class="line">			</span><br><span class="line">				</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> container.toString();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//前序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">		System.out.println(root);</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			preOrder(root.left);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			preOrder(root.right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//中序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			infixOrder(root.left);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(root);</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			infixOrder(root.right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Node节点，储存数据与权值</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Node&gt;&#123;</span><br><span class="line">	Byte data;</span><br><span class="line">	<span class="type">int</span> weight;</span><br><span class="line">	Node left;</span><br><span class="line">	Node right;</span><br><span class="line">	Node(Byte data, <span class="type">int</span> value)&#123;</span><br><span class="line">		<span class="built_in">this</span>.data =  data;</span><br><span class="line">		weight = value;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Node [data=&quot;</span> + data + <span class="string">&quot;, weight=&quot;</span> + weight + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Node o)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.weight - o.weight;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210314124906781.png" alt="image-20210314124906781"></p>
<h3 id="文件压缩"><a href="#文件压缩" class="headerlink" title="文件压缩"></a>文件压缩</h3><p>内容和上面差不多，唯一的区别在于文件压缩需要考虑IO，压缩数据时要使用对象流写入，读取时也需要，写入时要将密码也写入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> HuffmanCoding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuffmanFileZip</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">input</span> <span class="operator">=</span><span class="string">&quot;C:\\Users\\23881\\Desktop\\Self_study\\Java基础\\HuffmanCoding\\music.mp3&quot;</span>;</span><br><span class="line">		<span class="type">String</span> <span class="variable">output</span> <span class="operator">=</span><span class="string">&quot;C:\\Users\\23881\\Desktop\\Self_study\\Java基础\\HuffmanCoding\\压缩\\store.zip&quot;</span>;</span><br><span class="line">		Zip(input, output);</span><br><span class="line">		input = output;</span><br><span class="line">		output = <span class="string">&quot;C:\\Users\\23881\\Desktop\\Self_study\\Java基础\\HuffmanCoding\\解压\\music.mp3&quot;</span>;</span><br><span class="line">		UnZipFile(input, output);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//赫夫曼编码</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Zip</span><span class="params">(String input, String output)</span> &#123;</span><br><span class="line">		FileInputStream file=<span class="literal">null</span>;</span><br><span class="line">		ObjectOutputStream oop=<span class="literal">null</span>;</span><br><span class="line">		FileOutputStream out=<span class="literal">null</span>;</span><br><span class="line">		<span class="type">byte</span>[] arr;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">		    file= <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(input);</span><br><span class="line">			arr = <span class="keyword">new</span> <span class="title class_">byte</span>[file.available()];</span><br><span class="line">			file.read(arr);</span><br><span class="line">			</span><br><span class="line">			HashMap&lt;Byte, Integer&gt; map = Count(arr);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">root</span> <span class="operator">=</span> HuffmanTree(map);</span><br><span class="line">			StringBuffer buf=<span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">			<span class="comment">//密码就存在Dic字典中</span></span><br><span class="line">			HashMap&lt;Byte, String&gt; Dic = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">			</span><br><span class="line">			password(root, buf,Dic);</span><br><span class="line">			<span class="type">byte</span>[] rst = UpdateCode(arr,Dic);</span><br><span class="line">			<span class="comment">//输出流</span></span><br><span class="line">			out = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(output);</span><br><span class="line">			<span class="comment">//与输出流关联对象流,便于恢复数据</span></span><br><span class="line">			oop = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(out);</span><br><span class="line">			<span class="comment">//把编码后的数据写入压缩文件</span></span><br><span class="line">			oop.writeObject(rst);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//同时我们还要把赫夫曼编码也写入文件中</span></span><br><span class="line">			oop.writeObject(Dic);</span><br><span class="line">			System.out.println(<span class="string">&quot;压缩完成&quot;</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			System.out.println(<span class="string">&quot;此路径为空&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				file.close();</span><br><span class="line">				out.close();</span><br><span class="line">				oop.close();</span><br><span class="line">			&#125; </span><br><span class="line">			<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//统计每个字母出现的次数</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, Integer&gt; <span class="title function_">Count</span><span class="params">(<span class="type">byte</span>[] arr)</span> &#123;</span><br><span class="line">		HashMap&lt;Byte, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">byte</span> i:arr) &#123;</span><br><span class="line">			<span class="type">Byte</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Byte</span>(i);</span><br><span class="line">			<span class="keyword">if</span>(!map.containsKey(data)) &#123;</span><br><span class="line">				map.put(data, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				map.replace(data, map.get(data), map.get(data)+<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//构建赫夫曼树，返回根节点</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Node <span class="title function_">HuffmanTree</span><span class="params">(HashMap&lt;Byte, Integer&gt; map)</span> &#123;</span><br><span class="line">		ArrayList&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(Byte i:map.keySet()) &#123;</span><br><span class="line">			nodes.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i, map.get(i)));</span><br><span class="line">		&#125;</span><br><span class="line">		Collections.sort(nodes);</span><br><span class="line">		<span class="keyword">while</span>(nodes.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">leftNode</span> <span class="operator">=</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">rightNode</span> <span class="operator">=</span>nodes.get(<span class="number">1</span>);</span><br><span class="line">			<span class="type">Node</span> <span class="variable">parentNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>, leftNode.weight+rightNode.weight);</span><br><span class="line">			parentNode.left = leftNode;</span><br><span class="line">			parentNode.right = rightNode;</span><br><span class="line">			nodes.remove(leftNode);</span><br><span class="line">			nodes.remove(rightNode);</span><br><span class="line">			nodes.add(parentNode);</span><br><span class="line">			Collections.sort(nodes);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> nodes.get(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//得出密码，赫夫曼码</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HashMap&lt;Byte, String&gt; <span class="title function_">password</span><span class="params">(Node root,StringBuffer buf,HashMap&lt;Byte, String&gt; map)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">0</span>);</span><br><span class="line">			password(root.left, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">			map.put(root.data, buf.toString());</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(root.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			buf.append(<span class="number">1</span>);</span><br><span class="line">			password(root.right, buf, map);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			buf.deleteCharAt(buf.length()-<span class="number">1</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//数组转换成赫夫曼编码格式</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">byte</span>[] UpdateCode(<span class="type">byte</span>[] arr, HashMap&lt;Byte, String&gt; dic) &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">meg</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">			 meg.append(dic.get(arr[i]));</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		System.out.println(meg);</span></span><br><span class="line">		<span class="comment">//转成byte数组</span></span><br><span class="line">		<span class="comment">//1 byte 等于8 bits, 0001001是bits,要转成byte </span></span><br><span class="line">		<span class="type">int</span> len;</span><br><span class="line">		<span class="keyword">if</span>(meg.length()%<span class="number">8</span>==<span class="number">0</span>) &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			len = meg.length()/<span class="number">8</span>+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">byte</span>[] codes =<span class="keyword">new</span> <span class="title class_">byte</span>[len];</span><br><span class="line">		<span class="comment">//把刚才存好的字符串，8位8位读取，添加进byte数组中</span></span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;meg.length();j+=<span class="number">8</span>)&#123;</span><br><span class="line">			String temp;</span><br><span class="line">			<span class="keyword">if</span>(j+<span class="number">8</span> &gt; meg.length()) &#123;</span><br><span class="line">				temp = meg.substring(j);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				temp = meg.substring(j, j+<span class="number">8</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//将对应的字符串,转为2进制编码，再将对应的2进制编码转为byte类型</span></span><br><span class="line">			codes[count] = (<span class="type">byte</span>)Integer.parseInt(temp, <span class="number">2</span>);</span><br><span class="line">			</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> codes;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">UnZipFile</span><span class="params">(String input, String output)</span> &#123;</span><br><span class="line">		System.out.println(input);</span><br><span class="line">		</span><br><span class="line">		FileInputStream file=<span class="literal">null</span>;</span><br><span class="line">		<span class="type">FileOutputStream</span> <span class="variable">Outfile</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">		ObjectInputStream ZipFile=<span class="literal">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			file = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(input);</span><br><span class="line">			Outfile =<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(output);</span><br><span class="line">			ZipFile = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(file);</span><br><span class="line">			<span class="type">byte</span>[] huffmanBytes = (<span class="type">byte</span>[])ZipFile.readObject();</span><br><span class="line">			HashMap&lt;Byte, String&gt; dic = (HashMap&lt;Byte, String&gt;)ZipFile.readObject();</span><br><span class="line">			Outfile.write(Decode(Change(huffmanBytes),dic));</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;  <span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				ZipFile.close();</span><br><span class="line">				Outfile.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">byte</span>[] Decode(String msg, HashMap&lt;Byte, String&gt; dic) &#123;</span><br><span class="line">		<span class="comment">//反向查询解码</span></span><br><span class="line">		HashMap&lt;String, Byte&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		ArrayList&lt;Byte&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		System.out.println(<span class="string">&quot;Huffman decode&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Byte word:dic.keySet()) &#123;</span><br><span class="line">			map.put(dic.get(word), word);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">		String value;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;msg.length();i+= value.length()) &#123;</span><br><span class="line">			<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">				value = msg.substring(i, i+count);</span><br><span class="line">				<span class="keyword">if</span>(map.containsKey(value)) &#123;</span><br><span class="line">					list.add(map.get(value));</span><br><span class="line">					count =<span class="number">1</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				count ++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">byte</span>[] arr = <span class="keyword">new</span> <span class="title class_">byte</span>[list.size()];</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">			arr[i] = list.get(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> arr;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//把byte数组转为二进制类型</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">Change</span><span class="params">(<span class="type">byte</span>[] msg)</span> &#123;</span><br><span class="line">		<span class="type">StringBuilder</span> <span class="variable">container</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;msg.length;i++) &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Byte</span>(msg[i]);</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span>Integer.toBinaryString(value);</span><br><span class="line">			<span class="comment">//判断最后一位是否为8bit长度，如果不是，直接加进去</span></span><br><span class="line">			<span class="keyword">if</span>(i==msg.length-<span class="number">1</span> &amp;&amp; temp.length()&lt;<span class="number">24</span>) &#123;</span><br><span class="line">				container.append(temp);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(temp.length()&gt;<span class="number">24</span>)</span><br><span class="line">					container.append(temp.substring(<span class="number">24</span>));</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;(<span class="number">8</span>-temp.length());j++) &#123;</span><br><span class="line">						container.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					container.append(temp);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">	</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> container.toString();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="BST二叉排序树"><a href="#BST二叉排序树" class="headerlink" title="BST二叉排序树"></a>BST二叉排序树</h2><p>前面也提到了二叉树拥有数组和链表的2种优点，增删快，查询快，最典型的便是二叉排序树</p>
<p>添加二叉树结点时，我们要进行比较，小的放左边，大的放右边</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210318214038670.png" alt="image-20210318214038670"></p>
<p>当我们查找特定的值时，就像二分查找一样，十分迅速；我们想要删除一个结点，也可以像链表一样。</p>
<p><strong>注意：</strong></p>
<p>二叉排序树的难点在于删除的部分，我们需要考虑如何找到其父结点与对应的节点，然后怎么处理剩余的节点</p>
<p>二叉排序树，我实现了增删查的功能</p>
<p>树节点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	Node left;</span><br><span class="line">	Node right;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>();</span><br><span class="line">		<span class="built_in">this</span>.num = num;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.num &gt; node.num) &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="built_in">this</span>.left = node; </span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">//向左遍历</span></span><br><span class="line">				<span class="built_in">this</span>.left.add(node);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="built_in">this</span>.right = node;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">//向右遍历</span></span><br><span class="line">				<span class="built_in">this</span>.right.add(node);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">Search</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.num == node.num) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(node.num &lt;<span class="built_in">this</span>.num) &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>.left.Search(node);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>.right.Search(node);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">Parent</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span> &amp;&amp; <span class="built_in">this</span>.left.num == node.num|| <span class="built_in">this</span>.right != <span class="literal">null</span> &amp;&amp; <span class="built_in">this</span>.right.num == node.num) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span> &amp;&amp; node.num &lt; <span class="built_in">this</span>.left.num ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="built_in">this</span>.left.Parent(node);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>( <span class="built_in">this</span>.right != <span class="literal">null</span>&amp;&amp;node.num &gt; <span class="built_in">this</span>.right.num ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="built_in">this</span>.right.Parent(node);</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;<span class="comment">//没有父结点</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.print(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在树结点中有2几个方法是配合二叉排序树类一起使用的，他们都使用了递归的方法，这样可以方便遍历</p>
<p>二叉排序树</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BinarySortTree</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">Node</span> <span class="variable">root</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			root = node;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			root.add(node);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//删除节点</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Node node)</span> &#123;</span><br><span class="line"><span class="comment">//树为空</span></span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;tree is empty&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line"><span class="comment">//只有一个节点</span></span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span> &amp;&amp; root.num  == node.num) &#123;</span><br><span class="line">			root = <span class="literal">null</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//目标节点未找到</span></span><br><span class="line">		<span class="type">Node</span> <span class="variable">target</span> <span class="operator">=</span> root.Search(node);</span><br><span class="line">		<span class="keyword">if</span>(target == <span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;未找到相关结点&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//寻找父结点		</span></span><br><span class="line">		<span class="type">Node</span> <span class="variable">Parent</span> <span class="operator">=</span> root.Parent(node);</span><br><span class="line">        <span class="comment">//发现父结点为头节点</span></span><br><span class="line">		<span class="keyword">if</span>(Parent == <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> root.left;</span><br><span class="line">			root = root.right; <span class="comment">//把root指向root的右侧</span></span><br><span class="line">			<span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">				root = cur; <span class="comment">//发现右侧是空，指向左侧</span></span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">            <span class="comment">//左侧不为null</span></span><br><span class="line">			<span class="keyword">if</span>(root.left != <span class="literal">null</span>)</span><br><span class="line">				root.add(cur);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//子结点在父结点左侧</span></span><br><span class="line">		<span class="keyword">if</span>(Parent.left.num == target.num) &#123;</span><br><span class="line">			Parent.left = target.right;</span><br><span class="line">			<span class="keyword">if</span>(target.left != <span class="literal">null</span>)</span><br><span class="line">				root.add(target.left);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//子节点在父结点右侧</span></span><br><span class="line">			Parent.right = target.right;</span><br><span class="line">			<span class="keyword">if</span>(target.left != <span class="literal">null</span>)</span><br><span class="line">				root.add(target.left);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		System.out.println(target);</span></span><br><span class="line"><span class="comment">//		System.out.println(targetParent);</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//中序遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Root is empty&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			root.infixOrder();</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210318215854307.png" alt="image-20210318215854307"></p>
<h2 id="AVL-tree平衡二叉树"><a href="#AVL-tree平衡二叉树" class="headerlink" title="AVL tree平衡二叉树"></a>AVL tree平衡二叉树</h2><p>AVL tree可以说是BST 二叉排序树的优化，假如我们一直往BST 树中添加大的值，BST树就会像链表一样，添加效率甚至低于链表（多了几步判断），为了避免这样的事情发生，大佬们把BST进行了优化，变成AVL tree。</p>
<p>由于发现平衡二叉树的人名字中有AVL这几个字母，所以平衡二叉树简称AVL tree</p>
<p>AVL tree基于BST tree进行优化，在添加时进行树的高度的检测，如果左子树的高度比右子树的高度大1，进行右旋转；反之右子树的高度比左子树的高度大1，进行左旋转。（3+1）&#x2F;2 &#x3D;2</p>
<p>新增添的功能：</p>
<ol>
<li>检测左右树的高度</li>
<li>左旋转</li>
<li>右旋转</li>
</ol>
<h3 id="树的高度"><a href="#树的高度" class="headerlink" title="树的高度"></a>树的高度</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="comment">//左子树的高度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">leftHeight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//判断左边节点是否为null, 如果是，则返回0，如果不是，返回左边的高度</span></span><br><span class="line">    	<span class="keyword">return</span> <span class="built_in">this</span>.left == <span class="literal">null</span> ? <span class="number">0</span>:<span class="built_in">this</span>.left.height();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//右子树的高度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">rightHeight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//判断右边节点是否为null, 如果是，则返回0，如果不是，返回右边的高度</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.right == <span class="literal">null</span> ? <span class="number">0</span>:<span class="built_in">this</span>.right.height();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//树的高度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">height</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//从所选节点开始，选取左右节点中高度最大的数值作为树的高度</span></span><br><span class="line">        <span class="keyword">return</span> Math.max(<span class="built_in">this</span>.left == <span class="literal">null</span> ? <span class="number">0</span>: <span class="built_in">this</span>.left.height(), <span class="built_in">this</span>.right == <span class="literal">null</span>? <span class="number">0</span>: <span class="built_in">this</span>.right.height())+<span class="number">1</span>;<span class="comment">//为了判断高度，要进行递归，左子树向左递归，右子树向右递归，最后+1是要加上原来的根节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="左旋转"><a href="#左旋转" class="headerlink" title="左旋转"></a>左旋转</h3><p>右子树的高度比左子树的高度大1</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321121620909.png" alt="image-20210321121620909"></p>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ol>
<li>复制此时的根节点，创建head_node 节点</li>
<li>把head_node左节点指向原左子节点</li>
<li>把head_node右节点指向原右子节点的左子节点</li>
<li>复制原右子节点，创建right_node节点</li>
<li>把right_node在右节点指向原右子节点右子节点</li>
<li>把right_node的左子节点指向head_node</li>
<li>最后把root节点指向此时的right_node节点</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321121800574.png" alt="image-20210321121800574"></p>
<p>最后</p>
<p>就像把树向左旋转以此达到左右子树高度相同的效果，</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321122713371.png" alt="image-20210321122713371"></p>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AVLtree</span>&#123;</span><br><span class="line">    <span class="comment">//左旋转</span></span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">leftRotate</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">head_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(head.num);</span><br><span class="line">		head_node.left = head.left;</span><br><span class="line">		head_node.right = head.right.left;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Node</span> <span class="variable">right_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(root.right.num);</span><br><span class="line">		right_node.right = head.right.right;</span><br><span class="line">		right_node.left = head_node;</span><br><span class="line">		head = right_node;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="右旋转"><a href="#右旋转" class="headerlink" title="右旋转"></a>右旋转</h3><p>左子树的高度比右子树的高度大1</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321122351686.png" alt="image-20210321122351686"></p>
<h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><ol>
<li>复制头（根）节点，创建一个新的节点head_node</li>
<li>把head_node左节点指向原头节点的左节点的右子节点</li>
<li>把head_node右节点指向原头节点的右子节点</li>
<li>复制原头节点的左子节点，创建一个新的节点left_node</li>
<li>把left_node左节点指向原头节点的左子节点的左子节点</li>
<li>把left_node的右节点指向head_node</li>
<li>最后把root根节点指向head_node</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321122621350.png" alt="image-20210321122621350"></p>
<p>最后效果</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321124041090.png" alt="image-20210321124041090"></p>
<h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//右旋转</span></span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">rightRotate</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">	<span class="type">Node</span> <span class="variable">head_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(head.num);</span><br><span class="line">	head_node.right = head.right;</span><br><span class="line">	head_node.left = head.left.right;</span><br><span class="line">	</span><br><span class="line">	<span class="type">Node</span> <span class="variable">left_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(head.left.num);</span><br><span class="line">	left_node.left = head.left.left;</span><br><span class="line">	left_node.right = head_node;</span><br><span class="line">	head = left_node;</span><br><span class="line">	<span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="结合左旋转与右旋转"><a href="#结合左旋转与右旋转" class="headerlink" title="结合左旋转与右旋转"></a>结合左旋转与右旋转</h3><p>把左旋转与右旋转加入到AVL tree的add方法中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加节点</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			root = node;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			root.add(node);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(rightHeight() -leftHeight() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">			root = leftRotate(root); <span class="comment">//传入的是头节点</span></span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(leftHeight() - rightHeight() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">			root = rightRotate(root);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>但是还有一个问题，当左子节点的右子节点高度大于其左子节点时，即使进行右旋转，还是无法将树的两边平衡，如图：</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321124445330.png" alt="image-20210321124445330"></p>
<p>进行右旋转</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321124731525.png" alt="image-20210321124731525"></p>
<p>为了解决这个问题</p>
<ol>
<li>要先将左子节点进行左旋转</li>
<li>再将树进行右旋转</li>
</ol>
<p>最后</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321125031823.png" alt="image-20210321125031823"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加节点</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">		root = node;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		root.add(node);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(rightHeight() -leftHeight() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="comment">//右子树的左子树高度大于其右子树的高度</span></span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span> &amp;&amp;root.left.leftHeight() - root.left.rightHeight()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="comment">//先右旋转</span></span><br><span class="line">			root.right = rightRotate(root.right);</span><br><span class="line">		&#125;</span><br><span class="line">		root = leftRotate(root);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(leftHeight() - rightHeight() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="comment">//左子树的右子树高度大于其左子树的高度</span></span><br><span class="line">		<span class="keyword">if</span>(root.left != <span class="literal">null</span> &amp;&amp;root.left.rightHeight() - root.left.leftHeight()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="comment">//先左旋转</span></span><br><span class="line">			root.left = leftRotate(root.left);</span><br><span class="line">		&#125;</span><br><span class="line">		root = rightRotate(root);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="最终实现"><a href="#最终实现" class="headerlink" title="最终实现"></a>最终实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Trees;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AVLTreeDemo1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">AVLtree</span> <span class="variable">tree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AVLtree</span>();</span><br><span class="line"><span class="comment">//		int[] arr = &#123;4,3,6,5,7,8&#125;;</span></span><br><span class="line"><span class="comment">//		int[] arr = &#123;10,12,8,9,7,6&#125;;</span></span><br><span class="line">		<span class="type">int</span>[] arr = &#123;<span class="number">10</span>,<span class="number">11</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i:arr) &#123;</span><br><span class="line">			tree.add(<span class="keyword">new</span> <span class="title class_">Node</span>(i));</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		System.out.println(&quot;删除前&quot;);</span></span><br><span class="line"><span class="comment">//		System.out.printf(&quot;树的高度：%d\n&quot;,tree.height());</span></span><br><span class="line"><span class="comment">//		tree.infixOrder();</span></span><br><span class="line"><span class="comment">//		tree.delete(new Node(7));</span></span><br><span class="line"><span class="comment">//		System.out.println(&quot;删除后&quot;);</span></span><br><span class="line"><span class="comment">//		tree.infixOrder();</span></span><br><span class="line">		System.out.printf(<span class="string">&quot;树的高度：%d\n&quot;</span>,tree.height());</span><br><span class="line">		System.out.printf(<span class="string">&quot;树的左子树高度：%d\n&quot;</span>,tree.leftHeight());</span><br><span class="line">		System.out.printf(<span class="string">&quot;树的右子树高度：%d\n&quot;</span>,tree.rightHeight());</span><br><span class="line">        tree.infixOrder();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AVLtree</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">Node</span> <span class="variable">root</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isempty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root == <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">height</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root.height();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">leftHeight</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root.leftHeight();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">rightHeight</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> root.rightHeight();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//左旋转</span></span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">leftRotate</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">head_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(head.num);</span><br><span class="line">		head_node.left = head.left;</span><br><span class="line">		head_node.right = head.right.left;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Node</span> <span class="variable">right_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(root.right.num);</span><br><span class="line">		right_node.right = head.right.right;</span><br><span class="line">		right_node.left = head_node;</span><br><span class="line">		head = right_node;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//右旋转</span></span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">rightRotate</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">head_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(head.num);</span><br><span class="line">		head_node.right = head.right;</span><br><span class="line">		head_node.left = head.left.right;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Node</span> <span class="variable">left_node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(head.left.num);</span><br><span class="line">		left_node.left = head.left.left;</span><br><span class="line">		left_node.right = head_node;</span><br><span class="line">		head = left_node;</span><br><span class="line">		<span class="keyword">return</span> head;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//添加节点</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			root = node;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			root.add(node);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(rightHeight() -leftHeight() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="comment">//右子树的左子树高度大于其右子树的高度</span></span><br><span class="line">			<span class="keyword">if</span>(root.left != <span class="literal">null</span> &amp;&amp;root.left.leftHeight() - root.left.rightHeight()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="comment">//先右旋转</span></span><br><span class="line">				root.right = rightRotate(root.right);</span><br><span class="line">			&#125;</span><br><span class="line">			root = leftRotate(root);</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(leftHeight() - rightHeight() &gt;<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="comment">//左子树的右子树高度大于其左子树的高度</span></span><br><span class="line">			<span class="keyword">if</span>(root.left != <span class="literal">null</span> &amp;&amp;root.left.rightHeight() - root.left.leftHeight()&gt;<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="comment">//先左旋转</span></span><br><span class="line">				root.left = leftRotate(root.left);</span><br><span class="line">			&#125;</span><br><span class="line">			root = rightRotate(root);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//删除</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;tree is empty&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span> &amp;&amp; root.num  == node.num) &#123;</span><br><span class="line">			root = <span class="literal">null</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">target</span> <span class="operator">=</span> root.Search(node);</span><br><span class="line">		<span class="keyword">if</span>(target == <span class="literal">null</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;未找到相关结点&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="type">Node</span> <span class="variable">Parent</span> <span class="operator">=</span> root.Parent(node);</span><br><span class="line">		<span class="keyword">if</span>(Parent == <span class="literal">null</span>) &#123;<span class="comment">//为头节点</span></span><br><span class="line">			<span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> root.left;</span><br><span class="line">			root = root.right;</span><br><span class="line">			<span class="keyword">if</span>(root == <span class="literal">null</span>) &#123;</span><br><span class="line">				root = cur;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(root.left != <span class="literal">null</span>)</span><br><span class="line">				root.add(cur);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(Parent.left.num == target.num) &#123;</span><br><span class="line">			Parent.left = target.right;</span><br><span class="line">			<span class="keyword">if</span>(target.left != <span class="literal">null</span>)</span><br><span class="line">				root.add(target.left);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			Parent.right = target.right;</span><br><span class="line">			<span class="keyword">if</span>(target.left != <span class="literal">null</span>)</span><br><span class="line">				root.add(target.left);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		System.out.println(target);</span></span><br><span class="line"><span class="comment">//		System.out.println(targetParent);</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(isempty()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Root is empty&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			root.infixOrder();</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">	<span class="type">int</span> num;</span><br><span class="line">	Node left;</span><br><span class="line">	Node right;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>();</span><br><span class="line">		<span class="built_in">this</span>.num = num;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">leftHeight</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.left == <span class="literal">null</span> ? <span class="number">0</span>:<span class="built_in">this</span>.left.height();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">rightHeight</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.right == <span class="literal">null</span> ? <span class="number">0</span>:<span class="built_in">this</span>.right.height();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">height</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Math.max(<span class="built_in">this</span>.left == <span class="literal">null</span> ? <span class="number">0</span>: <span class="built_in">this</span>.left.height(), <span class="built_in">this</span>.right == <span class="literal">null</span>? <span class="number">0</span>: <span class="built_in">this</span>.right.height())+<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.num &gt; node.num) &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="built_in">this</span>.left = node; </span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">//向左遍历</span></span><br><span class="line">				<span class="built_in">this</span>.left.add(node);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="built_in">this</span>.right = node;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">//向右遍历</span></span><br><span class="line">				<span class="built_in">this</span>.right.add(node);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">Search</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.num == node.num) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(node.num &lt;<span class="built_in">this</span>.num) &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>.left.Search(node);</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.right == <span class="literal">null</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>.right.Search(node);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> Node <span class="title function_">Parent</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span> &amp;&amp; <span class="built_in">this</span>.left.num == node.num|| <span class="built_in">this</span>.right != <span class="literal">null</span> &amp;&amp; <span class="built_in">this</span>.right.num == node.num) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span> &amp;&amp; node.num &lt; <span class="built_in">this</span>.left.num ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="built_in">this</span>.left.Parent(node);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>( <span class="built_in">this</span>.right != <span class="literal">null</span>&amp;&amp;node.num &gt; <span class="built_in">this</span>.right.num ) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="built_in">this</span>.right.Parent(node);</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;<span class="comment">//没有父结点</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">infixOrder</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.left != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.left.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.print(<span class="built_in">this</span>+<span class="string">&quot; &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span>.right != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="built_in">this</span>.right.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> num+<span class="string">&quot;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210321125404279.png" alt="image-20210321125404279"></p>
<h1 id="数据结构：-图"><a href="#数据结构：-图" class="headerlink" title="数据结构： 图"></a>数据结构： 图</h1><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326221246196.png" alt="image-20210326221246196"></p>
<p>图也是数据结构中的一种，YYSY真的经典，学习图可以参考二叉树和二维数组；</p>
<p>直接讲图论可能会十分抽象，毕竟是看文字；数据结构中的图和现实生活中的地铁交通图很类似，如下</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326222530755.png" alt="image-20210326222530755"></p>
<p>我们每一个交通枢纽可以看作是一个顶点，就像上图的A, B, C,D， 从一个枢纽（交叉口）到另一个交叉口之间的线（边）就像上面A,B,C顶点间的线，【用地铁这个解释，应该好理解一点】</p>
<h2 id="图的概念"><a href="#图的概念" class="headerlink" title="图的概念"></a>图的概念</h2><p>顶点Vertex：对象，一个一个存储的小圆点</p>
<p>边Edge：顶点间的连线</p>
<p>无向图：一个顶点与另一个顶点之间的边没有指向，边没有方向</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326223846947.png" alt="image-20210326223846947"></p>
<p>有向图：顶点与顶点间指向有方向</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326223815831.png" alt="image-20210326223815831"></p>
<p>有权图：顶点间的边上有数值</p>
<p>无权图：顶点间的边上没有数值</p>
<h2 id="图的创建"><a href="#图的创建" class="headerlink" title="图的创建"></a>图的创建</h2><p>图在程序中有2种实现方法：邻接矩阵和邻接表</p>
<p><strong>邻接矩阵</strong>：我们根据顶点的个数构建一个二维数组，这个二维数组的横向index与纵向index分别代表对应的顶点，二维数组（矩阵）中存储0或1，0代表2个顶点没有连接，1代表有连接</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327100219549.png" alt="image-20210327100219549"></p>
<p><strong>邻接表</strong>：就像HashTable一样，邻接表由数组与链表一起构成， 数组中的每个index代表不同的顶点，链表中存储的数字是顶点对应的下标</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327101116954.png" alt="image-20210327101116954"></p>
<p><strong>邻接表与邻接矩阵</strong>：很明显，在顶点数量较少的情况下，使用邻接表可以节省更多的空间</p>
<p>下面以邻接矩阵为例，实现图</p>
<h3 id="邻接矩阵"><a href="#邻接矩阵" class="headerlink" title="邻接矩阵"></a>邻接矩阵</h3><p>图的主要方法：</p>
<ol>
<li>返回顶点个数</li>
<li>返回有多少条边</li>
<li>获取根据下标获取顶点</li>
<li>添加新的顶点</li>
<li>给新的顶点建立边</li>
<li>显示图</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Graphs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Graph</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> ArrayList&lt;String&gt; vertexList;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span>[][] edges;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> numOfEdges;<span class="comment">//边的数目</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n 传入顶点个数</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	Graph(<span class="type">int</span> n)&#123;</span><br><span class="line">		edges = <span class="keyword">new</span> <span class="title class_">int</span>[n][n]; <span class="comment">//以二维邻接矩阵来构建图 </span></span><br><span class="line">		vertexList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(n);<span class="comment">//用于存储顶点信息</span></span><br><span class="line">		numOfEdges =<span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 有多少个顶点</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">VertexNum</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> vertexList.size();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 有多少条边</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">EdgeLength</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> numOfEdges;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> index 传入下标</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回对应的顶点</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">GetVertex</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> vertexList.get(index);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v1</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v2</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回2个顶点的权值</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">GetWeight</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> edges[v1][v2];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 插入节点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> vertex</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">InsertVertex</span><span class="params">(String vertex)</span> &#123;</span><br><span class="line">		vertexList.add(vertex);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v1 点1的下标，第几个顶点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v2 点2的下标，第几个顶点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> weight 表示点1与点2是否相互连接</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">InsertEdge</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2, <span class="type">int</span> weight)</span> &#123;</span><br><span class="line">		edges[v1][v2] = weight;</span><br><span class="line">		edges[v2][v1] = weight;</span><br><span class="line">		numOfEdges++;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//显示邻接矩阵图</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowGraph</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;VertexNum();i++)</span><br><span class="line">            System.out.print(vertexList.get(i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;edges.length;j++) &#123;</span><br><span class="line">            System.out.print(vertexList.get(j));</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;edges[<span class="number">0</span>].length;k++) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot; &quot;</span>+edges[j][k]);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><p>我们来实现这一张图：</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326221246196.png" alt="image-20210326221246196"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Graph</span> <span class="variable">graph</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Graph</span>(<span class="number">5</span>);</span><br><span class="line">String[] arr = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(String i:arr)</span><br><span class="line">	graph.InsertVertex(i);</span><br><span class="line"></span><br><span class="line">graph.InsertEdge(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">//将A与B建立连接</span></span><br><span class="line">graph.InsertEdge(<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>); </span><br><span class="line">graph.InsertEdge(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">graph.InsertEdge(<span class="number">0</span>, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">graph.InsertEdge(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">graph.InsertEdge(<span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">graph.ShowGraph();</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326224407251.png" alt="image-20210326224407251"></p>
<p>在图中有2个经典的遍历方法：深度优先与广度优先</p>
<h2 id="DFS深度优先遍历"><a href="#DFS深度优先遍历" class="headerlink" title="DFS深度优先遍历"></a>DFS深度优先遍历</h2><p>深度优先：depth first search</p>
<p>利用递归的思想，每次搜索都选取得到的数据中的第一个，一直到最深处，再回溯，判断剩下的有没有被遍历，如果没有，接着深入遍历</p>
<p>这个和二叉树在某些程度上有相似性</p>
<p>我们根据上面这张图来进行深度优先遍历分析</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326221246196.png" alt="image-20210326221246196"></p>
<p>我们先从顶点A开始，查找与A有所连接的顶点，选取第1个进行深度遍历， 进入B，查找与B连接的顶点，这个顶点之前没有遍历过，找到C；进入C遍历，C先发现D，对D进行打印输出后，发现D没有下一个连接，于是返回C顶点；C选取第二个E进行操作，打印E后，发现与E连接的之前都遍历过，于是返回C，返回B，返回A，结束</p>
<p>下面是分析图</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327102703120.png" alt="image-20210327102703120"></p>
<p>为了实现这些操作，我们需要一个boolean数组，来存储顶点是否被遍历过</p>
<p>boolean[ ]  isVisited &#x3D; new boolean[ VertexNum()];</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> index 传入指定的index</span></span><br><span class="line"><span class="comment"> * 1. 打印出头顶点</span></span><br><span class="line"><span class="comment"> * 2. 将头顶点isVisited设为true</span></span><br><span class="line"><span class="comment"> * 3. 遍历查找与头顶点相连的顶点且not visited</span></span><br><span class="line"><span class="comment"> * 4. 如果查找到，立马将找到的这个index传入进行递归</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//deep first search, 深度优先遍历</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">DFS</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">	System.out.print(GetVertex(index)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">	isVisited[index] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;VertexNum();j++) </span><br><span class="line">		<span class="keyword">if</span>(edges[index][j]&gt;<span class="number">0</span> &amp;&amp; !isVisited[j])</span><br><span class="line">			DFS(j);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327103126805.png" alt="image-20210327103126805"></p>
<h2 id="BFS广度优先遍历"><a href="#BFS广度优先遍历" class="headerlink" title="BFS广度优先遍历"></a>BFS广度优先遍历</h2><p>广度优先：broad first search</p>
<p>直白点说，广度优先是横着走，横着遍历，继续拿上面的图举例</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210326221246196.png" alt="image-20210326221246196"></p>
<p>我们要先读取A顶点， 打印A，找出与A顶点相连的顶点，发现有B, C, E，将这些点标明isVisited， 把这些顶点存储到容器中（使用队列实现）；从队列中弹出B，打印B，查找与B相连的顶点，若此顶点没有被加入到队列中，压入队列，此时我们发现都在，弹出C， D与C相连且未在队列中， 把D压入队列；弹出E，没有满足条件的其他顶点；弹出D，同上；当队列为空，程序结束</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327104729421.png" alt="image-20210327104729421"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 广度优先使用队列完成</span></span><br><span class="line"><span class="comment"> * 先入队列，isvisited设置为true</span></span><br><span class="line"><span class="comment"> * 进入循环，若队列为空，停止循环</span></span><br><span class="line"><span class="comment"> * 循环中，先弹出一个，打印出来</span></span><br><span class="line"><span class="comment"> * 根据这个顶点查找与其连接，且没有入队列的</span></span><br><span class="line"><span class="comment"> * 如果发现，入队列，isVisited为true</span></span><br><span class="line"><span class="comment"> * 直到循环结束</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> index 指向的顶点</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//BFS 广度优先broad first search</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BFS</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">	queue.add(index);</span><br><span class="line">	isVisited[index] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">		index = queue.pop();</span><br><span class="line">		</span><br><span class="line">		System.out.print(GetVertex(index)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;VertexNum();j++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(edges[index][j] &gt;<span class="number">0</span> &amp;&amp; !isVisited[j]) &#123;</span><br><span class="line">				queue.add(j);</span><br><span class="line">				isVisited[j] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327104800210.png" alt="image-20210327104800210"></p>
<h2 id="总和"><a href="#总和" class="headerlink" title="总和"></a>总和</h2><h3 id="测试类-1"><a href="#测试类-1" class="headerlink" title="测试类"></a>测试类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Graphs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Graph_Test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Graph</span> <span class="variable">graph</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Graph</span>(<span class="number">5</span>);</span><br><span class="line">		String[] arr = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>&#125;;</span><br><span class="line">		<span class="keyword">for</span>(String i:arr)</span><br><span class="line">			graph.InsertVertex(i);</span><br><span class="line">		</span><br><span class="line">		graph.InsertEdge(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		graph.InsertEdge(<span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">		graph.InsertEdge(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">		graph.InsertEdge(<span class="number">0</span>, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">		graph.InsertEdge(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">		graph.InsertEdge(<span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">		graph.ShowGraph();</span><br><span class="line">		System.out.println(<span class="string">&quot;深度优先&quot;</span>);</span><br><span class="line">		graph.DFS(<span class="number">0</span>);</span><br><span class="line">		graph.ClearVisit();</span><br><span class="line">		System.out.println(<span class="string">&quot;\n广度优先&quot;</span>);</span><br><span class="line">		graph.BFS(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="图类"><a href="#图类" class="headerlink" title="图类"></a>图类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Graphs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Graph</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> ArrayList&lt;String&gt; vertexList;</span><br><span class="line">	LinkedList&lt;Integer&gt; queue;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span>[][] edges;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> numOfEdges;<span class="comment">//边的数目</span></span><br><span class="line">	<span class="type">boolean</span>[] isVisited; </span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n 传入顶点个数</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	Graph(<span class="type">int</span> n)&#123;</span><br><span class="line">		edges = <span class="keyword">new</span> <span class="title class_">int</span>[n][n]; <span class="comment">//以二维邻接矩阵来构建图 </span></span><br><span class="line">		vertexList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(n);<span class="comment">//用于存储顶点信息</span></span><br><span class="line">		queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		 isVisited= <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">		numOfEdges =<span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 有多少个顶点</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">VertexNum</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> vertexList.size();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 有多少条边</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">EdgeLength</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> numOfEdges;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> index 传入下标</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回对应的顶点</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">GetVertex</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> vertexList.get(index);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v1</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v2</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回2个顶点的权值</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">GetWeight</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> edges[v1][v2];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 插入节点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> vertex</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">InsertVertex</span><span class="params">(String vertex)</span> &#123;</span><br><span class="line">		vertexList.add(vertex);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v1 点1的下标，第几个顶点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> v2 点2的下标，第几个顶点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> weight 表示点1与点2是否相互连接</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">InsertEdge</span><span class="params">(<span class="type">int</span> v1, <span class="type">int</span> v2, <span class="type">int</span> weight)</span> &#123;</span><br><span class="line">		edges[v1][v2] = weight;</span><br><span class="line">		edges[v2][v1] = weight;</span><br><span class="line">		numOfEdges++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> index 传入指定的index</span></span><br><span class="line"><span class="comment">	 * 1. 打印出头顶点</span></span><br><span class="line"><span class="comment">	 * 2. 将头顶点isVisited设为true</span></span><br><span class="line"><span class="comment">	 * 3. 遍历查找与头顶点相连的顶点且not visited</span></span><br><span class="line"><span class="comment">	 * 4. 如果查找到，立马将找到的这个index传入进行递归</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//deep first search, 深度优先遍历</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">DFS</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		System.out.print(GetVertex(index)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">		isVisited[index] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;VertexNum();j++) </span><br><span class="line">			<span class="keyword">if</span>(edges[index][j]&gt;<span class="number">0</span> &amp;&amp; !isVisited[j])</span><br><span class="line">				DFS(j);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * clear isVisited数组</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="comment">//清空visited记录</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ClearVisit</span><span class="params">()</span> &#123;</span><br><span class="line">		isVisited= <span class="keyword">new</span> <span class="title class_">boolean</span>[VertexNum()];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 广度优先使用队列完成</span></span><br><span class="line"><span class="comment">	 * 先入队列，isvisited设置为true</span></span><br><span class="line"><span class="comment">	 * 进入循环，若队列为空，停止循环</span></span><br><span class="line"><span class="comment">	 * 循环中，先弹出一个，打印出来</span></span><br><span class="line"><span class="comment">	 * 根据这个顶点查找与其连接，且没有入队列的</span></span><br><span class="line"><span class="comment">	 * 如果发现，入队列，isVisited为true</span></span><br><span class="line"><span class="comment">	 * 直到循环结束</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> index 指向的顶点</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="comment">//BFS 广度优先broad first search</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BFS</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		queue.add(index);</span><br><span class="line">		isVisited[index] = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">			index = queue.pop();</span><br><span class="line">			</span><br><span class="line">			System.out.print(GetVertex(index)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;VertexNum();j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(edges[index][j] &gt;<span class="number">0</span> &amp;&amp; !isVisited[j]) &#123;</span><br><span class="line">					queue.add(j);</span><br><span class="line">					isVisited[j] = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//显示邻接矩阵图</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowGraph</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.print(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;VertexNum();i++)</span><br><span class="line">			System.out.print(vertexList.get(i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">		System.out.println();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;edges.length;j++) &#123;</span><br><span class="line">			System.out.print(vertexList.get(j));</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;edges[<span class="number">0</span>].length;k++) &#123;</span><br><span class="line">				System.out.print(<span class="string">&quot; &quot;</span>+edges[j][k]);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210327103234045.png" alt="image-20210327103234045"></p>
<h1 id="常用数据结构CRUD时间复杂度总结"><a href="#常用数据结构CRUD时间复杂度总结" class="headerlink" title="常用数据结构CRUD时间复杂度总结"></a>常用数据结构CRUD时间复杂度总结</h1><h2 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h2><h3 id="Add-O-n"><a href="#Add-O-n" class="headerlink" title="Add:O(n)"></a>Add:O(n)</h3><p>添加时会根据指定的index下标去添加，找到下标后，添加然后移位，同样会花费O(n)的时间，有时Array容量不够，我们还需要扩大Array的容量，所以add最坏时间复杂度是O(n)</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509124701152.png" alt="image-20210509124701152"></p>
<h3 id="Set-O-1-与-Get-O-1"><a href="#Set-O-1-与-Get-O-1" class="headerlink" title="Set:O(1) 与 Get:O(1)"></a>Set:O(1) 与 Get:O(1)</h3><p>Get 与 Set 在进行时，都可以根据下标快速找到位置，所以时间复杂度为O(1)</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509124608575.png" alt="image-20210509124608575"></p>
<h3 id="Remove-O-n"><a href="#Remove-O-n" class="headerlink" title="Remove:O(n)"></a>Remove:O(n)</h3><p>当删除时，由于是ArrayList，需要将后面的内容一个一个向前移动1格，时间复杂度为O(n)</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509124423161.png" alt="image-20210509124423161"></p>
<h2 id="ArraySet"><a href="#ArraySet" class="headerlink" title="ArraySet"></a>ArraySet</h2><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509130909389.png" alt="image-20210509130909389"></p>
<h3 id="Contain-O-n"><a href="#Contain-O-n" class="headerlink" title="Contain:O(n)"></a>Contain:O(n)</h3><p>contain方法用于判断是否存在此元素，由于是无序array，我们需要从头到尾进行遍历，所以为O(n)</p>
<h3 id="Add-O-n-1"><a href="#Add-O-n-1" class="headerlink" title="Add:O(n)"></a>Add:O(n)</h3><p>由于是Set，我们在插入元素时，需要考虑插入的元素是否重复，所以要先调用contain方法判断，然后把元素插入到尾部；因为是array，当room满时，需要ensure capacity扩大容量，此时时间复杂度为O(n)</p>
<h3 id="Remove-O-n-1"><a href="#Remove-O-n-1" class="headerlink" title="Remove:O(n)"></a>Remove:O(n)</h3><p>和arrayList相比，虽然arraySet的remove方法只是将要删除的元素与最后一个进行替换，把最后一个删除，但是在寻找的过程中，时间复杂度依然是O(n)</p>
<h2 id="ArraySortedSet"><a href="#ArraySortedSet" class="headerlink" title="ArraySortedSet"></a>ArraySortedSet</h2><p>这个集合是ArraySet的升级版，当我们存入数据到集合中，我们要对其进行排序，升序或降序</p>
<h3 id="Contain-O-logN"><a href="#Contain-O-logN" class="headerlink" title="Contain:O(logN)"></a>Contain:O(logN)</h3><p>由于是有序的数组，我们可以使用二分查找(Binary Search)算法来查询是否存在，二分查找算法时间复杂度为O(logN)</p>
<h3 id="Add-O-n-2"><a href="#Add-O-n-2" class="headerlink" title="Add:O(n)"></a>Add:O(n)</h3><p>虽然说在ArraySortedSet中，查找相同的时间为log(n)，但是当我们添加新的元素后，有可能破坏整个数组的order，所以add后还需要进行排序，可以用冒泡排序，从后往前比较，直到最佳，此时的时间复杂度为O(n)；</p>
<ul>
<li>有些人可能会说冒泡排序时间复杂度不是O(n^2)吗？</li>
</ul>
<p>其实当我们添加新的元素后，除去新的元素，原数组依然是有序的，我们从后往前，这样最坏时间就是O(n);</p>
<ul>
<li>为什么不用快排？</li>
</ul>
<p>注意，快排最优也仅仅是O(NlogN),在现在这种情境下时间复杂度远远大于冒泡排序</p>
<h3 id="Remove-O-n-2"><a href="#Remove-O-n-2" class="headerlink" title="Remove:O(n)"></a>Remove:O(n)</h3><p>和上面的添加一样，查找时虽然为O(logN)，其最终的最坏时间复杂度依然为O(n),因为需要进行排序最终结果和Add相同：O(n)</p>
<h2 id="SingleLinkedList"><a href="#SingleLinkedList" class="headerlink" title="SingleLinkedList"></a>SingleLinkedList</h2><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509142042381.png" alt="image-20210509142042381"></p>
<h3 id="Add-O-n-3"><a href="#Add-O-n-3" class="headerlink" title="Add:O(n)"></a>Add:O(n)</h3><p>add方法同样要添加到对应的下标，由于是链表，需要从head开头遍历到对应的下标，所以最坏时间复杂度为O(n)</p>
<h3 id="Remove-O-n-3"><a href="#Remove-O-n-3" class="headerlink" title="Remove:O(n)"></a>Remove:O(n)</h3><p>删除分为按下标删除与按内容删除，按index下标删除，需要从头遍历至对应下标，所以最坏时间复杂度与add一样O(n)；按内容删除由于要从头开始匹配相应的内容，最坏时间复杂度依然是O(n)，综上O(n)</p>
<h3 id="Get-O-n-与-Set-O-n"><a href="#Get-O-n-与-Set-O-n" class="headerlink" title="Get:O(n) 与 Set:O(n)"></a>Get:O(n) 与 Set:O(n)</h3><p>为了获取指定下标元素，依然要从头遍历到尾部，所以Get与Set都是O(n)</p>
<h2 id="ArrayStack-1"><a href="#ArrayStack-1" class="headerlink" title="ArrayStack"></a>ArrayStack</h2><h3 id="Push-一般为O-1-但特殊为O-n"><a href="#Push-一般为O-1-但特殊为O-n" class="headerlink" title="Push: 一般为O(1)但特殊为O(n)"></a>Push: 一般为O(1)但特殊为O(n)</h3><p>使用数组来模拟stack，一般入栈都是O(1),但当栈满时需要扩容ensure capacity,导致时间复杂度变为O(n)</p>
<h3 id="Pop-O-1"><a href="#Pop-O-1" class="headerlink" title="Pop: O(1)"></a>Pop: O(1)</h3><p>出栈，都是temp &#x3D; array[count] &#x3D; null; count –;  return temp; 所以最坏时间复杂度仅仅是O(1)</p>
<h2 id="LinkedStack"><a href="#LinkedStack" class="headerlink" title="LinkedStack"></a>LinkedStack</h2><h3 id="Pop-O-1-与-Push-O-1"><a href="#Pop-O-1-与-Push-O-1" class="headerlink" title="Pop: O(1) 与 Push:O(1)"></a>Pop: O(1) 与 Push:O(1)</h3><p>stack的操作都是在头部进行，无需遍历，所以是O(1)</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509143147526.png" alt="image-20210509143147526"></p>
<h2 id="LinkedQueue"><a href="#LinkedQueue" class="headerlink" title="LinkedQueue"></a>LinkedQueue</h2><h3 id="Pop-O-1-与-Push-O-1-1"><a href="#Pop-O-1-与-Push-O-1-1" class="headerlink" title="Pop:O(1) 与 Push:O(1)"></a>Pop:O(1) 与 Push:O(1)</h3><p>用2个指针，一个指头，一个指尾，队列是先进先出，出队列pop时操作front指针，时间复杂度为O(1);入队列时操作尾部back指针,时间复杂度为O(1)</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509143313700.png" alt="image-20210509143313700"></p>
<h2 id="Linked-Set"><a href="#Linked-Set" class="headerlink" title="Linked Set"></a>Linked Set</h2><h3 id="contains-O-n"><a href="#contains-O-n" class="headerlink" title="contains:O(n)"></a>contains:O(n)</h3><p>链式存储，在寻找对应结点时都需要从头到尾，时间复杂度都为O(n)</p>
<h3 id="add-O-n-与-remove-O-n"><a href="#add-O-n-与-remove-O-n" class="headerlink" title="add:O(n) 与 remove:O(n)"></a>add:O(n) 与 remove:O(n)</h3><p>由于查找重复元素时间复杂度为O(n)，导致add与remove也是O(n)</p>
<h2 id="BSTtree"><a href="#BSTtree" class="headerlink" title="BSTtree"></a>BSTtree</h2><p>一般情况</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/%E6%A0%91.jpg"></p>
<p>特殊情况</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509145854486.png" alt="image-20210509145854486"></p>
<h3 id="add-一般O-logN-最坏O-N"><a href="#add-一般O-logN-最坏O-N" class="headerlink" title="add:一般O(logN), 最坏O(N)"></a>add:一般O(logN), 最坏O(N)</h3><p>一般通过比较然后寻找最终的位置，这种比较是O(logN), 但是当整个树变为一条线时，我们要寻找对应的位置，需要遍历整个树才能找到，所以最坏为O(n)</p>
<h3 id="remove-一般O-logN-最坏O-N"><a href="#remove-一般O-logN-最坏O-N" class="headerlink" title="remove: 一般O(logN), 最坏O(N)"></a>remove: 一般O(logN), 最坏O(N)</h3><p>remove的情况与add插入情况一样，当整个树变为一条线时，其最坏时间复杂度也会变为O(N)</p>
<h1 id="Disjoint-Set并查集"><a href="#Disjoint-Set并查集" class="headerlink" title="Disjoint Set并查集"></a>Disjoint Set并查集</h1><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210501132259731.png" alt="image-20210501132259731"></p>
<h2 id="介绍-8"><a href="#介绍-8" class="headerlink" title="介绍"></a>介绍</h2><p>并查集是一种数据结构，其实现简单，仅仅需要几行代码与一个数组就可以实现；</p>
<ol>
<li>创建一个数组，用于储存每个顶点的父结点，默认都是自己</li>
<li>union合并方法，用于将2个顶点合并在一起</li>
<li>find方法，用于寻找最终的根节点</li>
</ol>
<p>克鲁斯卡尔算法中就运用到并查集的知识，用于寻找2个顶点之间是否构成回路</p>
<p>我们自动生成迷宫时，也会需要使用disjoint方法，当入口与出口构成回路时，我们就完成了迷宫的设计</p>
<h2 id="实现-3"><a href="#实现-3" class="headerlink" title="实现"></a>实现</h2><h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> s[];</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Disjoint1</span><span class="params">(<span class="type">int</span> numElements)</span> &#123;</span><br><span class="line">    s = <span class="keyword">new</span> <span class="title class_">int</span>[numElements];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length;i++)</span><br><span class="line">        s[i] = -<span class="number">1</span>; <span class="comment">//初始化默认每个点的根节点就是自己，即-1</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//非递归版本</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="type">int</span> temp=x;</span><br><span class="line">    <span class="keyword">while</span>(s[temp]!=-<span class="number">1</span>)</span><br><span class="line">        temp = s[temp];</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//递归版本</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s[x] &lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> find(s[x]); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="并"><a href="#并" class="headerlink" title="并"></a>并</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> root1, <span class="type">int</span> root2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s[root2]&lt;s[root1]) <span class="comment">//root2 is depper</span></span><br><span class="line">        s[root1] = root2; <span class="comment">//make root2 new root</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[root1] == s[root2]) </span><br><span class="line">            s[root1] --;  <span class="comment">//Update height if same</span></span><br><span class="line">        s[root2] = root1; <span class="comment">//make root1 new root</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="路径压缩"><a href="#路径压缩" class="headerlink" title="路径压缩"></a>路径压缩</h3><p>对于路径压缩，我们是在find函数中进行修改，当我们寻找到一个顶点的根节点后，在递归时，我们把剩下的顶点的根节点都设为最后一个顶点的根节点，这样可以简化下次递归的深度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s[x] &lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s[x] = find(s[x]); <span class="comment">//path compression, decrease the running time</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然，这种方法也有个缺点，如下图</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210501132306016.png" alt="image-20210501132306016"></p>
<p>我们如果使用find(4),这样可以使整个树扁平化</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210501132444325.png" alt="image-20210501132444325"></p>
<p>但是如果我们使用find(3)，最后只能使包含3在内的之前的顶点扁平化</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210501132545706.png" alt="image-20210501132545706"></p>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><h3 id="判断是否构成环路"><a href="#判断是否构成环路" class="headerlink" title="判断是否构成环路"></a>判断是否构成环路</h3><p>传入一个二维数组，包含这张图的信息</p>
<p>每个顶点对应的下标按照英文字母的顺序排列，从0开始</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210501144130550.png" alt="image-20210501144130550"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DisjointSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CircleJudge</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">int</span>[][] a= &#123;</span><br><span class="line">				&#123;<span class="number">0</span>, <span class="number">1</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>, <span class="number">2</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>, <span class="number">4</span>&#125;,</span><br><span class="line">				&#123;<span class="number">1</span>, <span class="number">2</span>&#125;,</span><br><span class="line">				&#123;<span class="number">2</span>, <span class="number">4</span>&#125;,</span><br><span class="line">				&#123;<span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">		&#125;;</span><br><span class="line">		isCircle(a, <span class="number">5</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] p;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">/*查找root*/</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(p[x] &lt;<span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> x;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> p[x] = find(p[x]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*合并,前提是没构成环路*/</span></span><br><span class="line">    <span class="comment">//构成环路返回true</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">		<span class="type">int</span> x=find(i);</span><br><span class="line">		<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span>find(j);</span><br><span class="line">		<span class="keyword">if</span>(x!=y) &#123;</span><br><span class="line">			<span class="keyword">if</span>(p[y] &lt; p[x])</span><br><span class="line">				p[x]= y;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				p[y] =x;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">isCircle</span><span class="params">(<span class="type">int</span>[][] a, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">		<span class="comment">/*初始化*/</span></span><br><span class="line">        p = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;p.length;i++)</span><br><span class="line">			p[i]=-<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">		<span class="type">boolean</span> rst;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span>[] i:a) &#123;</span><br><span class="line">			rst = union(i[<span class="number">0</span>],i[<span class="number">1</span>]);</span><br><span class="line">			<span class="keyword">if</span>(rst) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;These data include circle&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="Kruskal算法"><a href="#Kruskal算法" class="headerlink" title="Kruskal算法"></a>Kruskal算法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Kruskar算法</span></span><br><span class="line"><span class="comment"> * 1. 创建每条边的List</span></span><br><span class="line"><span class="comment"> * 2. 把边添加进List</span></span><br><span class="line"><span class="comment"> * 3. 对List排序</span></span><br><span class="line"><span class="comment"> * 4. 从头到尾读取List， 判断边的两个顶点是否形成回路</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 23881</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KruskalAlgorithm</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		String[] data = &#123;&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;&#125;;</span></span><br><span class="line"><span class="comment">//		int[][] weight= &#123;</span></span><br><span class="line"><span class="comment">//				&#123;0,3,3,7&#125;,</span></span><br><span class="line"><span class="comment">//				&#123;3,0,2,4&#125;,</span></span><br><span class="line"><span class="comment">//				&#123;3,2,0,6&#125;,</span></span><br><span class="line"><span class="comment">//				&#123;7,4,6,0&#125;</span></span><br><span class="line"><span class="comment">//		&#125;;</span></span><br><span class="line">		</span><br><span class="line">		String[] data = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>,<span class="string">&quot;F&quot;</span>,<span class="string">&quot;G&quot;</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[][] weight= &#123;</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">12</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">16</span>,<span class="number">14</span>&#125;,</span><br><span class="line">				&#123;<span class="number">12</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">8</span>&#125;,</span><br><span class="line">				&#123;<span class="number">16</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">9</span>&#125;,</span><br><span class="line">				&#123;<span class="number">14</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		Kruskar(data, weight);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Kruskar</span><span class="params">(String[] data, <span class="type">int</span>[][] weight)</span> &#123;</span><br><span class="line">		<span class="type">boolean</span>[][] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[data.length][data.length];</span><br><span class="line">		LinkedList&lt;Edge&lt;String&gt;&gt; list =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		LinkedList&lt;Edge&lt;String&gt;&gt; result =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;weight.length;i++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;weight.length;j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(isVisited[i][j] == <span class="literal">false</span>&amp;&amp; isVisited[j][i] == <span class="literal">false</span> &amp;&amp; weight[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">					list.add(<span class="keyword">new</span> <span class="title class_">Edge</span>&lt;String&gt;(i, j, weight[i][j]));</span><br><span class="line">					isVisited[i][j] = <span class="literal">true</span>;</span><br><span class="line">					isVisited[j][i] = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		Collections.sort(list);</span><br><span class="line">		<span class="keyword">for</span>(Edge&lt;String&gt; e:list) </span><br><span class="line">			System.out.println(e.print(data));</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span>[] ends = <span class="keyword">new</span> <span class="title class_">int</span>[data.length];</span><br><span class="line">		<span class="keyword">for</span>(Edge&lt;String&gt; e:list) &#123;</span><br><span class="line">			<span class="keyword">if</span>(result.size() == data.length-<span class="number">1</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//克鲁斯卡尔算法精髓, Disjoint Set</span></span><br><span class="line">			<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> GetEnd(ends, e.x);</span><br><span class="line">			<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> GetEnd(ends, e.y);</span><br><span class="line">			<span class="comment">//判断终点是否是一样的，即是否形成回路</span></span><br><span class="line">			<span class="keyword">if</span>(m !=n) &#123;</span><br><span class="line">				ends[m]=n;</span><br><span class="line">				result.add(e);</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Edge&lt;String&gt; e:result) </span><br><span class="line">			System.out.println(e.print(data));</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取对应下标的终点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> ends</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> i</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">GetEnd</span><span class="params">(<span class="type">int</span>[] ends, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(ends[i] !=<span class="number">0</span>)</span><br><span class="line">			i = ends[i];</span><br><span class="line">		<span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Edge</span>&lt;E&gt; <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Edge&lt;String&gt;&gt;&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> x;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> y;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> weight;</span><br><span class="line">		Edge(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> w)&#123;</span><br><span class="line">			x = a;</span><br><span class="line">			y = b;</span><br><span class="line">			weight = w;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> String <span class="title function_">print</span><span class="params">(E[] data)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> data[x]+<span class="string">&quot; &quot;</span>+data[y]+<span class="string">&quot; : &quot;</span>+weight;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Edge&lt;String&gt; e)</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">return</span> weight -e.weight;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h1 id="算法：递归"><a href="#算法：递归" class="headerlink" title="算法：递归"></a>算法：递归</h1><h3 id="介绍-9"><a href="#介绍-9" class="headerlink" title="介绍"></a>介绍</h3><p>递归是一种常见的算法，由递归书写的代码较为简洁，一般用于处理有规律的循环问题，与for类似。直白点说，递归就是函数自己调用自己；在使用递归时，注意留出口（递归循环结束），否则程序会无限递归下去，最终ERROR。当然因为递归表示比较简洁，理解起来也是算法的一大难点。</p>
<h3 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h3><p>下面写2个关于递归的例子：</p>
<ol>
<li>打印3！(3的阶乘)</li>
<li>从0到9报数</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//计算阶乘</span></span><br><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FactorialWithRecursion</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		System.out.println(factorial(<span class="number">3</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">factorial</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">1</span>) &#123;<span class="comment">//出口</span></span><br><span class="line">		<span class="keyword">return</span> n;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> n*factorial(n-<span class="number">1</span>);</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>递归的本质还是栈，当要运行一道程序时，java虚拟机会在栈中开辟一道空间</p>
<p>下面用一张图来说明这几行代码</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210224183503805.png" alt="image-20210224183503805"></p>
<p>假如我们没有给出对应的出口，n&#x3D;&#x3D;1,编译器会报错</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210224183613709.png" alt="image-20210224183613709"></p>
<p>从0到9报数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionDemo2</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		System.out.println(print(<span class="number">9</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(print(num-<span class="number">1</span>));</span><br><span class="line">		<span class="keyword">return</span> num;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="排列组合"><a href="#排列组合" class="headerlink" title="排列组合"></a>排列组合</h5><p>排列：上，下，左，右</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210225114403789.png" alt="image-20210225114403789"></p>
<p>很明显，上下左右的排列可以用递归来完成</p>
<ol>
<li>需要2个容器，一个容器temp来存储暂时读取的字符，还有一个list用来存储最终结果</li>
<li>每次把字符存入temp时，要考虑temp中是否包含此字符，(用for遍历)如果有，跳过添加</li>
<li>当暂时存储的容器temp为4时，把此时temp中的字符串存入list，然后返回</li>
<li>返回后要将temp最后一个元素清除，例如：此时temp是“上下左右”，添加进list后，去除temp最后一个元素，temp就是“上下左”，由于此时for已循环，回到上一个递归：temp为“上下右”</li>
</ol>
<p>暂时容器使用stringbuffer</p>
<p>最终容器使用arraylist</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DirectionRecursion</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">char</span>[] directions = &#123;<span class="string">&#x27;上&#x27;</span>,<span class="string">&#x27;下&#x27;</span>,<span class="string">&#x27;左&#x27;</span>,<span class="string">&#x27;右&#x27;</span>&#125;;</span><br><span class="line">		ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); </span><br><span class="line">		test(list, directions, <span class="keyword">new</span> <span class="title class_">StringBuffer</span>());</span><br><span class="line">		Iterator&lt;String&gt; itr = list.iterator();</span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(itr.hasNext()) &#123;</span><br><span class="line">			System.out.println(itr.next());</span><br><span class="line">			count+=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;一共有&quot;</span>+count+<span class="string">&quot;种可能&quot;</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(ArrayList&lt;String&gt; list,<span class="type">char</span>[] directions,StringBuffer temp)</span> &#123;</span><br><span class="line">        </span><br><span class="line">		<span class="keyword">if</span>(temp.length() == directions.length) &#123;</span><br><span class="line">			list.add(temp.toString());</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;directions.length;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(temp.toString().indexOf(directions[i])!=-<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">			temp.append(directions[i]);</span><br><span class="line">			test(list, directions, temp);</span><br><span class="line">			temp.deleteCharAt(temp.length()-<span class="number">1</span>);</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210225113653927.png" alt="image-20210225113653927"></p>
<h3 id="利用递归解决迷宫问题"><a href="#利用递归解决迷宫问题" class="headerlink" title="利用递归解决迷宫问题"></a>利用递归解决迷宫问题</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>问题：小球在迷宫中运动，怎样到达终点</p>
<ol>
<li>使用二维数组先创建迷宫</li>
<li>创建一个boolean方法，接收map和初始位置i, j</li>
<li>数字1表示墙，数字2表示可以走的点，数字3表示不能走的点</li>
</ol>
<p>当小球寻路时（下-&gt;右-&gt;左-&gt;上），我们需要用递归的方法：</p>
<p>先判断小球是否已经到达终点，到达终点，返回true</p>
<p>没有就进入寻路的递归中：我们假设下一步能走的通，即map[i] [j] &#x3D;2； 先向下走得通，返回true，直到走不通，将走不通的点标为3，返回false（返回上一个位置）；向下继续走不通，就向右走，循环递归，直到走不通为止；</p>
<h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MazeRecursionDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 构建地图</span></span><br><span class="line">		<span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>; a &lt; map[<span class="number">0</span>].length; a++) &#123;</span><br><span class="line">			map[<span class="number">0</span>][a] = <span class="number">1</span>;</span><br><span class="line">			map[map.length - <span class="number">1</span>][a] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>; b &lt; map.length; b++) &#123;</span><br><span class="line">			map[b][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			map[b][map[<span class="number">0</span>].length - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		map[<span class="number">1</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">2</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">4</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">6</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">7</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">8</span>] = <span class="number">1</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;\t地图&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; map[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">				System.out.print(map[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		tryWay(map, <span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">		System.out.println();</span><br><span class="line">		System.out.println(<span class="string">&quot;\t路线&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; map[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">				System.out.print(map[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">tryWay</span><span class="params">(<span class="type">int</span>[][] map, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="comment">//如果到达终点，直接返回true，程序结束</span></span><br><span class="line">		<span class="keyword">if</span> (map[<span class="number">8</span>][<span class="number">8</span>] == <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125; </span><br><span class="line">        <span class="comment">//没有到达终点</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//如果所在位置之前没有走过，之前走过标为2，也不能走</span></span><br><span class="line">			<span class="keyword">if</span>(map[i][j] ==<span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//假设能走通</span></span><br><span class="line">				map[i][j] = <span class="number">2</span>;</span><br><span class="line">                <span class="comment">//向下走得通</span></span><br><span class="line">				<span class="keyword">if</span> (tryWay(map, i+<span class="number">1</span>, j)) &#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125; </span><br><span class="line">                <span class="comment">//向右走得通</span></span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (tryWay(map, i, j+<span class="number">1</span>)) &#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125; </span><br><span class="line">                <span class="comment">//向左走得通</span></span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (tryWay(map, i, j - <span class="number">1</span>)) &#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">                <span class="comment">//向上走得通</span></span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (tryWay(map, i-<span class="number">1</span>, j)) &#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">                <span class="comment">//上下左右都走不通</span></span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//表示这个点不能走，返回上一个节点</span></span><br><span class="line">					map[i][j] = <span class="number">3</span>;</span><br><span class="line">					<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">            <span class="comment">//所在位置是墙，或不能走的位置，或已经走过的地方</span></span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//map[i][j] =1或2或3</span></span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//返回false，返回上一个节点位置</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210226192618665.png" alt="image-20210226192618665"></p>
<h4 id="迷宫最优解（目前）"><a href="#迷宫最优解（目前）" class="headerlink" title="迷宫最优解（目前）"></a>迷宫最优解（目前）</h4><p>小球在迷宫中移动，其走的路径长短很大一部分与其设定的方向有关，当我们开始递归时，小球的方向就已经确定下来，所以为了找出小球按照哪种方向形式走才能达到最小路径，我们需要使用排列组合；通过“上下左右”的排列组合，得出所有方向，然后在程序中我们要小球按照我们给出的方向行走，最终统计步数，相比较得出最佳方向</p>
<p>“上下左右”的排列组合上文已经给出解法，下面我们要与前面的迷宫程序相结合</p>
<p>因为小球在迷宫中走的方向都是我们设定好的，所以在递归时我们要加上一个String direction</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">0</span>;a&lt;<span class="number">4</span>;a++) &#123;</span><br><span class="line">    <span class="comment">//由于一定要判断上下左右的方向，但是顺序不同，我用一个for循环来读取direction中的四个方向</span></span><br><span class="line">    <span class="keyword">switch</span> (direction.charAt(a)) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;上&#x27;</span>:</span><br><span class="line">            <span class="comment">//向上走得通</span></span><br><span class="line">            <span class="keyword">if</span> (tryWay(map, i-<span class="number">1</span>, j,direction)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;下&#x27;</span>:</span><br><span class="line">            <span class="comment">//向下走得通</span></span><br><span class="line">            <span class="keyword">if</span> (tryWay(map, i+<span class="number">1</span>, j, direction)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; </span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;左&#x27;</span>:</span><br><span class="line">            <span class="comment">//向左走得通</span></span><br><span class="line">            <span class="keyword">if</span> (tryWay(map, i, j - <span class="number">1</span>, direction)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;右&#x27;</span>:</span><br><span class="line">            <span class="comment">//向右走得通</span></span><br><span class="line">            <span class="keyword">if</span> (tryWay(map, i, j+<span class="number">1</span>, direction)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; </span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="最终"><a href="#最终" class="headerlink" title="最终"></a>最终</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MazeRecursionDemo2</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// 构建地图</span></span><br><span class="line">		<span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">		InitMap(map); <span class="comment">//地图初始化</span></span><br><span class="line">		System.out.println(<span class="string">&quot;\t地图&quot;</span>);</span><br><span class="line">		PrintMap(map);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//求出最短路径</span></span><br><span class="line">		<span class="type">char</span>[] directions = &#123;<span class="string">&#x27;上&#x27;</span>,<span class="string">&#x27;下&#x27;</span>,<span class="string">&#x27;左&#x27;</span>,<span class="string">&#x27;右&#x27;</span>&#125;;</span><br><span class="line">		ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		Search(list, directions, <span class="keyword">new</span> <span class="title class_">StringBuffer</span>());</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//Map是用来储存此时的方向与小球运动步数的</span></span><br><span class="line">		HashMap&lt;String, Integer&gt; dic = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">		Iterator&lt;String&gt; itr = list.iterator();</span><br><span class="line">		<span class="keyword">while</span>(itr.hasNext()) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">move</span> <span class="operator">=</span> itr.next();</span><br><span class="line">            <span class="comment">//寻路</span></span><br><span class="line">			tryWay(map, <span class="number">1</span>,<span class="number">1</span>,move);</span><br><span class="line">            <span class="comment">//统计方向与步数</span></span><br><span class="line">			dic.put(move, Count(map));</span><br><span class="line">            <span class="comment">//完了要将map还原（初始化）</span></span><br><span class="line">			InitMap(map);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">		System.out.println(<span class="string">&quot;所有方向可能性与步数&quot;</span>);</span><br><span class="line">        <span class="comment">//集合的打印</span></span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String, Integer&gt; i : dic.entrySet()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;\t&quot;</span>+i.getKey()+<span class="string">&quot;----&quot;</span>+i.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//在集合中比较大小</span></span><br><span class="line">		Collection&lt;Integer&gt; values = dic.values();</span><br><span class="line">		<span class="type">int</span> <span class="variable">smallest</span> <span class="operator">=</span> Collections.min(values);</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		System.out.println(<span class="string">&quot;最优的路径----步数：&quot;</span>+smallest);</span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String, Integer&gt; i : dic.entrySet()) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i.getValue() == smallest) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;\t&quot;</span>+i.getKey());</span><br><span class="line">				tryWay(map, <span class="number">1</span>,<span class="number">1</span>,i.getKey());</span><br><span class="line">				PrintMap(map);</span><br><span class="line">				InitMap(map);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//打印地图</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">PrintMap</span><span class="params">(<span class="type">int</span>[][] map)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; map[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">				System.out.print(map[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//初始化地图</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">InitMap</span><span class="params">(<span class="type">int</span>[][] map)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; map[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">				map[i][j] =<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>; a &lt; map[<span class="number">0</span>].length; a++) &#123;</span><br><span class="line">			map[<span class="number">0</span>][a] = <span class="number">1</span>;</span><br><span class="line">			map[map.length - <span class="number">1</span>][a] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>; b &lt; map.length; b++) &#123;</span><br><span class="line">			map[b][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			map[b][map[<span class="number">0</span>].length - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		map[<span class="number">1</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">2</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">4</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">5</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">6</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">7</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">5</span>][<span class="number">8</span>] = <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//统计小球走的路径距离</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">Count</span><span class="params">(<span class="type">int</span>[][] map)</span> &#123;</span><br><span class="line">		<span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; map[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(map[i][j] ==<span class="number">2</span> ||map[i][j] ==<span class="number">3</span>) &#123;</span><br><span class="line">					cnt++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> cnt;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用递归改变方向（上下左右的排列组合）</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Search</span><span class="params">(ArrayList&lt;String&gt; list,<span class="type">char</span>[] directions,StringBuffer sb)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(sb.length() == directions.length) &#123;</span><br><span class="line">			list.add(sb.toString());</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;directions.length;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(sb.toString().indexOf(directions[i])!=-<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">			sb.append(directions[i]);</span><br><span class="line">			Search(list, directions, sb);</span><br><span class="line">			sb.deleteCharAt(sb.length()-<span class="number">1</span>);</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//使用递归寻找出口</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">tryWay</span><span class="params">(<span class="type">int</span>[][] map, <span class="type">int</span> i, <span class="type">int</span> j, String direction)</span> &#123;</span><br><span class="line">        <span class="comment">//如果到达终点，直接返回true，程序结束</span></span><br><span class="line">		<span class="keyword">if</span> (map[<span class="number">8</span>][<span class="number">8</span>] == <span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125; </span><br><span class="line">        <span class="comment">//没有到达终点</span></span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//如果所在位置之前没有走过，之前走过标为2，也不能走</span></span><br><span class="line">			<span class="keyword">if</span>(map[i][j] ==<span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//假设能走通</span></span><br><span class="line">				map[i][j] = <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">0</span>;a&lt;<span class="number">4</span>;a++) &#123;</span><br><span class="line">					<span class="keyword">switch</span> (direction.charAt(a)) &#123;</span><br><span class="line">					<span class="keyword">case</span> <span class="string">&#x27;上&#x27;</span>:</span><br><span class="line">						<span class="comment">//向上走得通</span></span><br><span class="line">						<span class="keyword">if</span> (tryWay(map, i-<span class="number">1</span>, j,direction)) &#123;</span><br><span class="line">							<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					<span class="keyword">case</span> <span class="string">&#x27;下&#x27;</span>:</span><br><span class="line">						<span class="comment">//向下走得通</span></span><br><span class="line">						<span class="keyword">if</span> (tryWay(map, i+<span class="number">1</span>, j, direction)) &#123;</span><br><span class="line">							<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">						&#125; </span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					<span class="keyword">case</span> <span class="string">&#x27;左&#x27;</span>:</span><br><span class="line">						<span class="comment">//向左走得通</span></span><br><span class="line">						<span class="keyword">if</span> (tryWay(map, i, j - <span class="number">1</span>, direction)) &#123;</span><br><span class="line">							<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					<span class="keyword">case</span> <span class="string">&#x27;右&#x27;</span>:</span><br><span class="line">						<span class="comment">//向右走得通</span></span><br><span class="line">						<span class="keyword">if</span> (tryWay(map, i, j+<span class="number">1</span>, direction)) &#123;</span><br><span class="line">							<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">						&#125; </span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					</span><br><span class="line">					<span class="keyword">default</span>:</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				</span><br><span class="line">                <span class="comment">//上下左右都走不通</span></span><br><span class="line">                <span class="comment">//表示这个点不能走，返回上一个节点</span></span><br><span class="line">				map[i][j] = <span class="number">3</span>;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">            <span class="comment">//所在位置是墙，或不能走的位置，或已经走过的地方</span></span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//map[i][j] =1或2或3</span></span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//返回false，返回上一个节点位置</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210227142025240.png" alt="image-20210227142025240"></p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210227142039257.png" alt="image-20210227142039257"></p>
<h3 id="八皇后问题"><a href="#八皇后问题" class="headerlink" title="八皇后问题"></a>八皇后问题</h3><p>题目：需要在8*8的棋盘上摆棋子，每行摆一个，每个棋子不能在同一列或同一对角线上</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210226192021931.png" alt="image-20210226192021931"></p>
<p>需要用到回溯思想，比如第4行的棋子不能放在和第3行棋子的同一列上，为了避免这样，第4行的棋子在第四行上一个一个试，假如都不可以，回到第3行，更改第3行的棋子位置，再尝试第4行，戒指第5行，不行就往回</p>
<h4 id="程序"><a href="#程序" class="headerlink" title="程序"></a>程序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DataStructure;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EightGueenDemo</span> &#123;</span><br><span class="line">	<span class="comment">//定义一个max表示一共有多少个皇后</span></span><br><span class="line">	<span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span><span class="number">8</span>;</span><br><span class="line">	<span class="comment">//定义一个一维数组，数组下标表示第几行，下标对应的数表示第几列</span></span><br><span class="line">	<span class="type">int</span>[] array =<span class="keyword">new</span> <span class="title class_">int</span>[max];</span><br><span class="line">	<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">EightGueenDemo</span> <span class="variable">queen</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EightGueenDemo</span>();</span><br><span class="line">		queen.check(<span class="number">0</span>);</span><br><span class="line">		System.out.printf(<span class="string">&quot;一共有%d种可能&quot;</span>,queen.count);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//打印数组</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;array.length;i++) &#123;</span><br><span class="line">			System.out.print(array[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//判断是否安全(冲突)</span></span><br><span class="line">	<span class="comment">//n表示第n个皇后</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">safe</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">			<span class="comment">//表示在同一列或同一斜线</span></span><br><span class="line">			<span class="keyword">if</span>(array[i] ==array[n] || Math.abs(n-i)==Math.abs(array[n] - array[i])) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//编写方法，放置第n个皇后</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(n==max) &#123;</span><br><span class="line">			print();</span><br><span class="line">			count++;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//一共要放8个皇后，8个循环递归，</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;max;i++) &#123;</span><br><span class="line">			<span class="comment">//先把该皇后放在第n行第i列</span></span><br><span class="line">			array[n] =i;</span><br><span class="line">			<span class="comment">//是否冲突</span></span><br><span class="line">			<span class="keyword">if</span>(safe(n)) &#123;</span><br><span class="line">				<span class="comment">//如果不冲突，接着放第n+1个皇后，递归</span></span><br><span class="line">				check(n+<span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//如果冲突，i++,将皇后在第n行向后移动一位，直到不冲突</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210226192101084.png" alt="image-20210226192101084"></p>
<h1 id="算法：排序算法"><a href="#算法：排序算法" class="headerlink" title="算法：排序算法"></a>算法：排序算法</h1><h2 id="最优"><a href="#最优" class="headerlink" title="最优"></a>最优</h2><p>有一句谚语：“All roads lead to Rome.” 面对一个编程问题时，我们有多种方法来实现；</p>
<p>但是怎样才能判断哪种方法才是最优的呢？</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/u=1304647842,610354735&fm=26&gp=0.jpg"></p>
<p>我们运行程序，当然希望程序越快，占内存越小；但是速度与空间，就像杠杆中的力臂与力，两者必须做出取舍。如果选择速度快，即时间复杂度小，程序所占内存空间的大小就会增加；而希望程序占内存小，程序运行的速度也会随之受影响。</p>
<p>当然，现如今大家考虑最优一般是从速度（时间复杂度）的角度出发。</p>
<h3 id="时间频度"><a href="#时间频度" class="headerlink" title="时间频度"></a>时间频度</h3><p>时间频度，一个算法中的语句执行的次数称为时间频度，记作T(n)</p>
<p>随着程序规模的变大，时间频度的常数项、低次项、系数可以忽略</p>
<h5 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h5><p>同样是计算100以内数的和，我们有2种实现方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="comment">//1， for循环相加</span></span><br><span class="line"><span class="type">int</span> end=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=end;i++)&#123;</span><br><span class="line">    total += i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2，利用等差数列公式</span></span><br><span class="line">total =(<span class="number">1</span>+end)*end /<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>第一种方法的时间频度：T(n) &#x3D; n+1  &#x2F;&#x2F;因为进入循环+判断</p>
<p>第二种方法的时间频度：T(n) &#x3D; 1 &#x2F;&#x2F;直接计算得出结果</p>
<h3 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h3><p>时间复杂度，也叫大O时间复杂度，表示方法是O(n)</p>
<p>由于程序规模的变大，时间频度有些地方可以忽略，从而产生了时间复杂度</p>
<p>例如，T(n) &#x3D; n^2 +7n+6 ; T(n) &#x3D; 3n^2 +2n+2</p>
<p>两者虽然时间频度不同，但是时间复杂度确实一样，都是O(n^2)</p>
<table>
<thead>
<tr>
<th>常见的时间复杂度</th>
<th>阶</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>常数阶</td>
<td>O(1)</td>
<td>12</td>
</tr>
<tr>
<td>对数阶</td>
<td>O(logn)</td>
<td>5log2n+20</td>
</tr>
<tr>
<td>平方阶(双层for循环)</td>
<td>O(n^2)</td>
<td>3n^2+2n+1</td>
</tr>
<tr>
<td>线性阶</td>
<td>O(n)</td>
<td>2n+3</td>
</tr>
<tr>
<td>线性对数阶</td>
<td>O(nlogn)</td>
<td>2n+3nlog2n+19</td>
</tr>
<tr>
<td>立方阶(三层for循环)</td>
<td>O(n^3)</td>
<td>6n^3+2n^2+3n+4</td>
</tr>
<tr>
<td>指数阶(要尽量避免)</td>
<td>O(2^n)</td>
<td>2^n+3</td>
</tr>
<tr>
<td>k次方阶</td>
<td>O(n^k)</td>
<td>n^k</td>
</tr>
</tbody></table>
<p>时间复杂度排序，由小变大：O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n^2) &lt; O(n^3) &lt; O(n^k) &lt; O(2^n)</p>
<h2 id="冒泡排序（Bubble-Sorting）"><a href="#冒泡排序（Bubble-Sorting）" class="headerlink" title="冒泡排序（Bubble Sorting）"></a>冒泡排序（Bubble Sorting）</h2><p>用2个指针比较2个数，从左往右，如果第1个大于第2个，两个数交换位置</p>
<p>因为排序的数字是一个一个累加的，所以称之为冒泡排序</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210228221715602.png" alt="image-20210228221715602"></p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210228222824017.png" alt="image-20210228222824017"></p>
<ol>
<li>将指针从左往右遍历，需要一次for循环</li>
<li>至多遍历4次，才能达到最终的顺序，还需要for循环</li>
</ol>
<p>第1次遍历完后，数组最后一个元素可以不用比较了， 所以for循环大小-1，也就是说：</p>
<p>第一次 —- array.length -1</p>
<p>第二次 —- array.length -2</p>
<p>第三次 —- array.length -3</p>
<p>第四次 —- array.length -4</p>
<p>所以：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BubbleSorting</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">3</span>, <span class="number">9</span>, -<span class="number">1</span>, <span class="number">10</span>, -<span class="number">2</span>&#125;;</span><br><span class="line">		<span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=array.length-<span class="number">1</span>; i&gt;<span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;i;j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(array[j] &gt; array[j+<span class="number">1</span>]) &#123;</span><br><span class="line">					tmp = array[j];</span><br><span class="line">					array[j] = array[j+<span class="number">1</span>];</span><br><span class="line">					array[j+<span class="number">1</span>] =tmp;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>冒泡排序优化</p>
<p>假设给出的数组原来就是有序的，或仅仅经过2次就正序了，我们可以直接跳出循环，中止程序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BubbleSorting</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//		int[] array = &#123;3, 9, -1, 10, -2&#125;;</span></span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">		<span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">boolean</span> flag=<span class="literal">false</span>; <span class="comment">//flag判断是否进行了排序交换</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=array.length-<span class="number">1</span>; i&gt;<span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt; i;j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(array[j] &gt; array[j+<span class="number">1</span>]) &#123;</span><br><span class="line">					tmp = array[j];</span><br><span class="line">					array[j] = array[j+<span class="number">1</span>];</span><br><span class="line">					array[j+<span class="number">1</span>] =tmp;</span><br><span class="line">					flag = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">&quot;第&quot;</span>+(array.length-i)+<span class="string">&quot;次遍历&quot;</span>);</span><br><span class="line">			System.out.println(Arrays.toString(array));</span><br><span class="line">			<span class="keyword">if</span>(!flag) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				flag = <span class="literal">false</span>; <span class="comment">//用于判断下一次有没有交换，如果没有，表示数据已正序</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210228225103859.png" alt="image-20210228225103859"></p>
<p>第1次遍历在交换顺序，第2次遍历判断是否正序</p>
<p>因为有2个嵌套式的循环，冒泡排序的时间复杂度是n^2</p>
<h2 id="选择排序（Select-Sorting）"><a href="#选择排序（Select-Sorting）" class="headerlink" title="选择排序（Select Sorting）"></a>选择排序（Select Sorting）</h2><p>选择排序和冒泡排序很像，但是两者还是有所区别</p>
<p>在选择排序中，我们要选择最小的数据，并把最小的数据放到整个数组最前面</p>
<p>当我们遍历数组查找最小元素时，我们仅仅记下最小元素下标，只有当前数组遍历结束时，数组才会发生交换，效率相比于冒泡排序（每次遍历都要相互交换）大大提高。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] array = &#123;<span class="number">101</span>,<span class="number">34</span>,<span class="number">119</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="comment">//第一轮将最小的移到最前面 1, 34, 119, 101</span></span><br><span class="line"><span class="comment">//第二轮将剩下的最小的移到前面 1, 34, 119, 101</span></span><br><span class="line"><span class="comment">//第三轮将剩下的最小的移到前面 1，34，101，119</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>从上我们可以看出，每次循环遍历后，初始位置都会向后挪1位（因为最小的已经在前面了）</p>
<p>我们依次比较剩下的数，所以需要array.length-1次才能将数从小到大依次移到前面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectionSorting</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">101</span>,<span class="number">34</span>,<span class="number">119</span>,<span class="number">1</span>&#125;;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;array.length-<span class="number">1</span>;i++) &#123;</span><br><span class="line">			<span class="type">int</span> smallest=i;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=i;j&lt;array.length;j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(array[j]&lt; array[smallest]) &#123;</span><br><span class="line">					smallest = j;<span class="comment">//我们仅仅记下最小元素下标</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//结束遍历后才能发生交换</span></span><br><span class="line">			<span class="keyword">if</span>(i!=smallest) &#123;</span><br><span class="line">				<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> array[i];</span><br><span class="line">				array[i] = array[smallest];</span><br><span class="line">				array[smallest] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">&quot;第&quot;</span>+(i+<span class="number">1</span>)+<span class="string">&quot;轮循环：&quot;</span>+Arrays.toString(array));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210301133320597.png" alt="image-20210301133320597"></p>
<h2 id="插入排序（Insert-Sorting）"><a href="#插入排序（Insert-Sorting）" class="headerlink" title="插入排序（Insert Sorting）"></a>插入排序（Insert Sorting）</h2><p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F.png"></p>
<p>第1轮：我们从第2个数开始，把第2个数和前面的数进行比较，从右往左，如果第2个数小于第1个数，两者交换位置</p>
<p>第2轮：我们从第3个数开始，把第3个数和前面的数进行比较（0，1），如果第3个数小于第2个数，两者交换，如果交换后，第1个数比交换后的第2个数大，继续交换，直至到最后</p>
<p>……</p>
<p>第n轮：从第n+1个数开始，把第n+1个数和前面的数(n个数)进行比较，找个合适的地方插入（这就是插入排序）</p>
<p>一共有array.length-1轮</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InsertSorting</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123; <span class="number">93</span>, <span class="number">54</span>, <span class="number">77</span>, <span class="number">31</span>, <span class="number">44</span>, <span class="number">226</span>, <span class="number">55</span> &#125;;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		<span class="comment">//换位法</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">				<span class="keyword">if</span> (array[j] &lt; array[j - <span class="number">1</span>]) &#123;</span><br><span class="line">					temp = array[j];</span><br><span class="line">					array[j] = array[j - <span class="number">1</span>];</span><br><span class="line">					array[j - <span class="number">1</span>] = temp;</span><br><span class="line">				&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="comment">//移位法</span></span><br><span class="line"><span class="comment">//			temp = array[i];</span></span><br><span class="line"><span class="comment">//			int j =i;</span></span><br><span class="line"><span class="comment">//			while(j&gt;0 &amp;&amp; temp&lt;array[j-1]) &#123;</span></span><br><span class="line"><span class="comment">//				array[j] = array[j - 1];</span></span><br><span class="line"><span class="comment">//				j--;</span></span><br><span class="line"><span class="comment">//			&#125;</span></span><br><span class="line"><span class="comment">//			</span></span><br><span class="line"><span class="comment">//			if (j != i) &#123;</span></span><br><span class="line"><span class="comment">//                array[j] = temp;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">			System.out.println(<span class="string">&quot;第&quot;</span> + i + <span class="string">&quot;轮：&quot;</span> + Arrays.toString(array));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210301163004626.png" alt="image-20210301163004626"></p>
<h2 id="希尔排序（Shell-Sorting）"><a href="#希尔排序（Shell-Sorting）" class="headerlink" title="希尔排序（Shell Sorting）"></a>希尔排序（Shell Sorting）</h2><p>希尔排序是由希尔所发现的，所以命名为Shell Sorting. 希尔排序本质上还是插入排序Insert Sorting, 但是希尔排序运行效率相比上面大大提升。</p>
<p>第一轮：</p>
<p>排序前要先给数据分组，让数组的长度&#x2F;2，即array.length &#x2F;2, 得出的是组中数据的间隔。我们在分好的组内进行插入排序，间距此时是array.length 除以2。第1组插入排序进行完后，移入第2组，依次进行，直到最后一组。</p>
<p>第二轮：</p>
<p>总体和上面一样，但是每组数据的间隔是之前的一半，(array.length&#x2F;2)&#x2F;2</p>
<p>…</p>
<p>直到最后一轮，步数为1，普通的插入排序，但是遍历次数减少</p>
<p><img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3017381794,2063417424&fm=26&gp=0.jpg" alt="点击查看源网页"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShellSorting</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">59</span>,<span class="number">48</span>,<span class="number">75</span>,<span class="number">107</span>,<span class="number">86</span>,<span class="number">23</span>,<span class="number">37</span>,<span class="number">59</span>,<span class="number">65</span>,<span class="number">14</span> &#125;;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> array.length;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		<span class="comment">//步长</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> length/<span class="number">2</span>;step &gt;<span class="number">0</span>; step /=<span class="number">2</span>) &#123;</span><br><span class="line">			<span class="comment">//插入算法循环次数</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=step;i&lt;length;i++) &#123;</span><br><span class="line">				<span class="comment">//控制插入算法的比较和交换</span></span><br><span class="line">				<span class="comment">//移位法</span></span><br><span class="line">				temp = array[i];</span><br><span class="line">				<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span>i;</span><br><span class="line">				<span class="keyword">if</span>(array[j] &lt; array[j-step]) &#123;</span><br><span class="line">					<span class="keyword">while</span>(j&gt;=step &amp;&amp; temp&lt;array[j-step]) &#123;</span><br><span class="line">						array[j] = array[j - step];</span><br><span class="line">						j-=step;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">	            array[j] = temp;</span><br><span class="line">	            </span><br><span class="line">				</span><br><span class="line">				<span class="comment">/**</span></span><br><span class="line"><span class="comment">				 * 换位法</span></span><br><span class="line"><span class="comment">				for(int j=i;j&gt;=step;j-=step) &#123;</span></span><br><span class="line"><span class="comment">					if(array[j]&lt;array[j-step]) &#123;</span></span><br><span class="line"><span class="comment">						temp = array[j];</span></span><br><span class="line"><span class="comment">						array[j] = array[j-step];</span></span><br><span class="line"><span class="comment">						array[j-step] = temp;</span></span><br><span class="line"><span class="comment">					&#125;</span></span><br><span class="line"><span class="comment">					else</span></span><br><span class="line"><span class="comment">						break;</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">				*/</span></span><br><span class="line">			&#125;</span><br><span class="line">            System.out.println(Arrays.toString(array));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">				</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210303112332749.png" alt="image-20210303112332749"></p>
<h2 id="快速排序（Quick-Sorting）"><a href="#快速排序（Quick-Sorting）" class="headerlink" title="快速排序（Quick Sorting）"></a>快速排序（Quick Sorting）</h2><p>快速排序是一种非常经典的排序算法，它的运行效率非常高，当然快排属于空间换时间的一类，因为要使用递归。</p>
<p>For very small arrays (<em>N</em> ≤ 20), quicksort does not perform as well as insertion sort </p>
<p>注意，快排在数字很多的时候才会展现其有时，当数据很少，例如小于20时，快排并不比插入排序好多少</p>
<p>基本思路：</p>
<p>选取数组最中间的数为基数（以这个数为基准），用2个指针分别从最左边和最右边读取数据，将小于基数的数放在左边，大于基数的数放在右边。最后排完，小于的都在左侧，大的都在右侧。我们继续进行递归，由于此时左侧和右侧的指针都指向基数，为了分别进行左排序递归和右排序递归，左侧指针右移1格，右指针左移1格。</p>
<p>图解：</p>
<p>（哎，图片不清晰）</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210303153253353.png" alt="image-20210303153253353"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickSorting2</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//		int[] array = &#123;59,48,75,107,86,23,37,59,65,14 &#125;;</span></span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">77</span>,<span class="number">26</span>,<span class="number">93</span>,<span class="number">17</span>,<span class="number">54</span>,<span class="number">31</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">20</span> &#125;;</span><br><span class="line">		QuickSort(array, <span class="number">0</span>, array.length-<span class="number">1</span>);</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">QuickSort</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span>left;</span><br><span class="line">		<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span>right;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		<span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> array[(left+right)/<span class="number">2</span>];</span><br><span class="line">		<span class="keyword">while</span>(l&lt;r) &#123;</span><br><span class="line">			<span class="comment">//左边往右走</span></span><br><span class="line">			<span class="keyword">while</span>(array[l]&lt;pivot) &#123;</span><br><span class="line">				l+=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//右边往左走</span></span><br><span class="line">			<span class="keyword">while</span>(array[r]&gt;pivot) &#123;</span><br><span class="line">				r -=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l&gt;=r) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			temp =array[l];</span><br><span class="line">			array[l]=array[r];</span><br><span class="line">			array[r] = temp;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//交换后发现array[l] == pivot的值 r--;前移</span></span><br><span class="line">			<span class="keyword">if</span>(array[l] == pivot) &#123;</span><br><span class="line">				r -=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//交换后发现array[r] == pivot的值 l++;前移</span></span><br><span class="line">			<span class="keyword">if</span>(array[r] == pivot) &#123;</span><br><span class="line">				l +=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//递归</span></span><br><span class="line">		<span class="keyword">if</span>(left&lt;r) &#123;</span><br><span class="line">			QuickSort(array, left, r-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(right&gt;l) &#123;</span><br><span class="line">			QuickSort(array, l+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>以第一个数为基准的快速排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickSorting3</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">77</span>,<span class="number">26</span>,<span class="number">93</span>,<span class="number">17</span>,<span class="number">54</span>,<span class="number">31</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">20</span> &#125;;</span><br><span class="line">		Sort(array, <span class="number">0</span>, array.length-<span class="number">1</span>);</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Sort</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> left;</span><br><span class="line">		<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> right;</span><br><span class="line">		<span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> array[left]; <span class="comment">//以第一个数为基准</span></span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="keyword">while</span>(array[r] &gt;= pivot&amp;&amp;l&lt;r) &#123;</span><br><span class="line">				r-=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l&lt;r) &#123;</span><br><span class="line">				array[l] =array[r];</span><br><span class="line">				l+=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(array[l] &lt;= pivot&amp;&amp;l&lt;r) &#123;</span><br><span class="line">				l +=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l&lt;r) &#123;</span><br><span class="line">				array[r] = array[l];</span><br><span class="line">				r -=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l==r) &#123;</span><br><span class="line">				array[l] = pivot;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(left&lt;r) &#123;</span><br><span class="line">			Sort(array, left, r-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(right &gt; l) &#123;</span><br><span class="line">			Sort(array, l+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>关于Pivot我们也可以根据数组中位数来定，pivot选好对程序的复杂度有直观影响</p>
<p>就像Mark 的 Data Structure And Algorithm Analysis In Java书中写的</p>
<blockquote>
<p>Although the algorithm as described works no matter which element is chosen as the pivot, some choices are obviously better than others. </p>
<p>The median of a group of <em>N</em> numbers is the [*N&#x2F;*2]th largest number. The best choice of pivot would be the median of the array</p>
</blockquote>
<p>这里贴出Mark的源码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickSorting4</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">77</span>,<span class="number">26</span>,<span class="number">93</span>,<span class="number">17</span>,<span class="number">54</span>,<span class="number">31</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">20</span> &#125;;</span><br><span class="line">		quicksort(array);</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quicksort</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">		quicksort(a, <span class="number">0</span>, a.length-<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swapReference</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> a[n];</span><br><span class="line">		a[n] = a[m];</span><br><span class="line">		a[m] = temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">median3</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">center</span> <span class="operator">=</span>(left+right)/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[center] &lt; a[left])</span><br><span class="line">			swapReference(a, left, center);</span><br><span class="line">		<span class="keyword">if</span>(a[right] &lt; a[left])</span><br><span class="line">			swapReference(a, left, right);</span><br><span class="line">		<span class="keyword">if</span>(a[right]&lt;a[center])</span><br><span class="line">			swapReference(a, center, right);</span><br><span class="line">		</span><br><span class="line">		swapReference(a, center, right-<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">return</span> a[right-<span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">CUTOFF</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quicksort</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(left + CUTOFF &lt;= right) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> median3(a, left, right);</span><br><span class="line">			</span><br><span class="line">			<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left;</span><br><span class="line">			<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> right-<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">				<span class="keyword">while</span>(a[i] &lt; pivot) &#123;</span><br><span class="line">					i++;</span><br><span class="line">				&#125;</span><br><span class="line">					</span><br><span class="line">				<span class="keyword">while</span>(a[j]&gt;pivot) &#123;</span><br><span class="line">					j--;</span><br><span class="line">				&#125;</span><br><span class="line">					</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(i&lt;j)</span><br><span class="line">					swapReference(a, i, j);</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			swapReference(a, i, right-<span class="number">1</span>);</span><br><span class="line">			</span><br><span class="line">			quicksort(a, left, i-<span class="number">1</span>);</span><br><span class="line">			quicksort(a, i+<span class="number">1</span>, right);</span><br><span class="line">		</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			InsertSorting.insertsort(a, left, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="归并排序（Merge-Sorting）"><a href="#归并排序（Merge-Sorting）" class="headerlink" title="归并排序（Merge Sorting）"></a>归并排序（Merge Sorting）</h2><p>归并排序和上面的快速排序思想上类似，都用到了经典的分治算法(divide and conquer),即先将复杂的问题划分divide成小的问题然后递归求解，然后再conquer（把各个划分阶段的答案修补在一起）</p>
<p>Divide</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210304125300389.png" alt="image-20210304125300389"></p>
<p>Conquer</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210304130026195.png" alt="image-20210304130026195"></p>
<p>为了方便操作，我们传进去的数组会被复制，输出的是一个新的数组，这个数组就是排序好的数组</p>
<p>Divide分的时候要采用递归，每次分2份，直到数组每个元素都被分别分在1个数组中</p>
<p>当递归完后，回溯时从最后一个数组开始，即一个一个元素的数组，返回上一层，将此时的数组赋给left或right，接着调用Conquer，把2个数组排序放入一个新的数组，然后再返回，依次进行，直到全部排序完成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MergeSorting</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//		int[] array = &#123;59,48,75,107,86,23,37,59,65,14 &#125;;</span></span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">77</span>,<span class="number">26</span>,<span class="number">93</span>,<span class="number">17</span>,<span class="number">54</span>,<span class="number">31</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">20</span> &#125;;</span><br><span class="line">		MergeSort(array);</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">MergeSort</span><span class="params">(<span class="type">int</span>[] arr)</span>&#123;</span><br><span class="line">        <span class="type">int</span>[] temp = <span class="keyword">new</span> <span class="title class_">int</span>[arr.length];</span><br><span class="line">        Divide(arr, temp, <span class="number">0</span>, arr.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Divide</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span>[] temp, <span class="type">int</span> left, <span class="type">int</span> right)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> (left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(left&lt;right)&#123;</span><br><span class="line">            Divide(arr, temp, left, pivot);</span><br><span class="line">            Divide(arr, temp, pivot+<span class="number">1</span>, right);</span><br><span class="line">            Conquer(arr, temp, left, pivot+<span class="number">1</span>, right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Conquer</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span>[] temp, <span class="type">int</span> leftPos, <span class="type">int</span> rightPos, <span class="type">int</span> rightEnd)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">nums</span> <span class="operator">=</span> rightEnd - leftPos +<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftEnd</span> <span class="operator">=</span> rightPos -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> leftPos;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(leftPos&lt;= leftEnd &amp;&amp; rightPos &lt;= rightEnd)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[leftPos].compareTo(arr[rightPos])&lt;<span class="number">0</span>)</span><br><span class="line">                temp[cur++] = arr[leftPos++];</span><br><span class="line">            <span class="keyword">if</span>(arr[leftPos].compareTo(arr[rightPos])&gt;<span class="number">0</span>)</span><br><span class="line">                 temp[cur++] = arr[rightPos++];</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                temp[cur++] = arr[leftPos++];</span><br><span class="line">                temp[cur++] = arr[rightPos++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(leftPos&lt;=leftEnd)&#123;</span><br><span class="line">             temp[cur++] = arr[leftPos++];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(rightPos &lt;= rightEnd)&#123;</span><br><span class="line">             temp[cur++] = arr[rightPos++];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums;i++, rightEnd--)</span><br><span class="line">            arr[rightEnd] = temp[rightEnd];</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="堆排序（Heap-Sort）"><a href="#堆排序（Heap-Sort）" class="headerlink" title="堆排序（Heap Sort）"></a>堆排序（Heap Sort）</h2><p>前面在二叉树时讲了，这里就只贴部分代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HeapSorting2</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		Integer[] arr = &#123; <span class="number">35</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">15</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">45</span> &#125;;</span><br><span class="line">		HeapSorting(arr);</span><br><span class="line">		System.out.println(Arrays.toString(arr));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * internal method for heapsort</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> i the index of an item in the heap</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> the index of the left child</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">leftChild</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">2</span>*i +<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Internal method for heapsort that is used in deleteMax and buildHeap</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &lt;AnyType&gt; anyType is a generic type</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> a an array of comparable items</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> i the position from which to precolate down</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> n the logic size of the binary heap</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> &lt;AnyType <span class="keyword">extends</span> <span class="title class_">Comparable</span> &lt;? <span class="built_in">super</span> AnyType&gt;&gt; <span class="keyword">void</span> <span class="title function_">precDown</span><span class="params">(AnyType[] a, <span class="type">int</span> i, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">		<span class="type">int</span> child;</span><br><span class="line">		AnyType temp;</span><br><span class="line">		<span class="keyword">for</span>(temp =a[i]; leftChild(i) &lt; n;i=child) &#123;</span><br><span class="line">			child = leftChild(i);</span><br><span class="line">			<span class="comment">//找出三个中最大的</span></span><br><span class="line">			<span class="keyword">if</span>(child != n-<span class="number">1</span> &amp;&amp; a[child].compareTo(a[child+<span class="number">1</span>])&lt;<span class="number">0</span>) <span class="comment">//判断左边小于右边</span></span><br><span class="line">				child++;</span><br><span class="line">			<span class="keyword">if</span>(temp.compareTo(a[child])&lt;<span class="number">0</span>) <span class="comment">//判断父结点是否小于子节点</span></span><br><span class="line">				a[i] =a[child];</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		a[i] =temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &lt;AnyType&gt;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> a an array of Comparable items</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> b the top item of the heap</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> c the bottom item of the heap</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> &lt;AnyType <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;? <span class="built_in">super</span> AnyType&gt;&gt; <span class="keyword">void</span> <span class="title function_">SwapReference</span> <span class="params">(AnyType[] a, <span class="type">int</span> b, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">		<span class="type">AnyType</span> <span class="variable">temp</span> <span class="operator">=</span> a[b];</span><br><span class="line">		a[b] = a[c];</span><br><span class="line">		a[c] = temp;</span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Standard heapsort</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> &lt;AnyType&gt;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> a an array of Comparable items</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> &lt;AnyType <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;? <span class="built_in">super</span> AnyType&gt;&gt; <span class="keyword">void</span> <span class="title function_">HeapSorting</span><span class="params">(AnyType[] a)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=a.length/<span class="number">2</span>; i &gt;=<span class="number">0</span> ;i--) &#123; <span class="comment">/*Build Heap*/</span></span><br><span class="line">			precDown(a, i, a.length);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=a.length-<span class="number">1</span>; i&gt;<span class="number">0</span>;i--) &#123;</span><br><span class="line">			SwapReference(a, <span class="number">0</span>, i); <span class="comment">/*Delete the Max*/</span></span><br><span class="line">			precDown(a, <span class="number">0</span>, i);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="基数排序（Radix-Sorting）"><a href="#基数排序（Radix-Sorting）" class="headerlink" title="基数排序（Radix Sorting）"></a>基数排序（Radix Sorting）</h2><p>基数排序是特殊的桶排序</p>
<p>步骤：</p>
<ol>
<li>先将数组按个位排序分类，分好后一个一个放入原数组</li>
<li>再把数组按照十位排序分类，同上</li>
<li>直到分到原数组中最大数的位数，例如最大数是3789，我们最后就要按照千位来排序</li>
</ol>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F.png"></p>
<p>由小到大，这样依次我们就完成对数组的排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedixSorting</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">77</span>,<span class="number">26</span>,<span class="number">93</span>,<span class="number">17</span>,<span class="number">54</span>,<span class="number">107</span>,<span class="number">31</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">20</span> &#125;;</span><br><span class="line">		RadixSort(array);</span><br><span class="line">		System.out.println(Arrays.toString(array));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">RadixSort</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="comment">//找出最大的一位</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">Max</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;array.length;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(array[Max] &lt;array[i]) &#123;</span><br><span class="line">				Max =i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//得出最大一位的个数</span></span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span>array[Max];</span><br><span class="line">		<span class="keyword">while</span>(temp&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			temp /= <span class="number">10</span>;</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;count;j++) &#123;</span><br><span class="line">			busket(array, pow(<span class="number">10</span>,j));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//计算一个数的几次方</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">pow</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> exp)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(exp==<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;exp-<span class="number">1</span>;i++) &#123;</span><br><span class="line">			num *= num;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> num;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">busket</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> digit)</span> &#123;</span><br><span class="line">		<span class="comment">//创建一个桶用来记录数据</span></span><br><span class="line">		<span class="type">int</span>[][] bucket = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][array.length];</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//创建一个数组来记录每个桶里面元素的个数</span></span><br><span class="line">		<span class="type">int</span>[] itemNum = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;array.length;i++) &#123; </span><br><span class="line">		</span><br><span class="line">			<span class="type">int</span> <span class="variable">no</span> <span class="operator">=</span> array[i]/digit%<span class="number">10</span>; <span class="comment">//哪一个桶</span></span><br><span class="line">			bucket[no][itemNum[no]] = array[i] +<span class="number">10</span>;</span><br><span class="line">			itemNum[no] +=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;bucket.length;k++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(bucket[j][k] !=<span class="number">0</span>) &#123;</span><br><span class="line">					array[index] = bucket[j][k]-<span class="number">10</span>;</span><br><span class="line">					bucket[j][k] =<span class="number">0</span>;</span><br><span class="line">					index++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			itemNum[j] =<span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		index =<span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="排序算法的时间复杂度比较"><a href="#排序算法的时间复杂度比较" class="headerlink" title="排序算法的时间复杂度比较"></a>排序算法的时间复杂度比较</h2><table>
<thead>
<tr>
<th>排序法</th>
<th>平均时间</th>
<th>最差情况</th>
</tr>
</thead>
<tbody><tr>
<td>冒泡</td>
<td>O(n^2)</td>
<td>O(n^2)</td>
</tr>
<tr>
<td>交换</td>
<td>O(n^2)</td>
<td>O(n^2)</td>
</tr>
<tr>
<td>选择</td>
<td>O(n^2)</td>
<td>O(n^2)</td>
</tr>
<tr>
<td>插入</td>
<td>O(n^2)</td>
<td>O(n^2)</td>
</tr>
<tr>
<td>基数</td>
<td>O(logR B)</td>
<td>O(logR B)</td>
</tr>
<tr>
<td>Shell</td>
<td>O(nlogn)</td>
<td>O(n^s) 1&lt;s&lt;2</td>
</tr>
<tr>
<td>快排</td>
<td>O(nlogn)</td>
<td>O(n^2)</td>
</tr>
<tr>
<td>归并</td>
<td>O(nlogn)</td>
<td>O(nlogn)</td>
</tr>
<tr>
<td>堆</td>
<td>O(nlogn)</td>
<td>O(nlogn)</td>
</tr>
</tbody></table>
<p>术语：</p>
<p>稳定：两个数据在排序后任然保持之前的相对前后位置</p>
<p>时间复杂度：算法运行所消耗的时间</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2019/03/0B319B38-B70E-4118-B897-74EFA7E368F9.png" alt="img"></p>
<p>测试程序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Sorting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSortingTime</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">80000</span>];</span><br><span class="line">		</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;BubbleSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		BubbleSorting(array);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">		System.out.println();</span><br><span class="line"></span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;SelectionSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		SelectionSorting(array);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line"></span><br><span class="line">		System.out.println();</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;InsertSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		InsertSorting(array);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;ShellSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		ShellSorting(array);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;QuickSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		QuickSort(array, <span class="number">0</span>, array.length-<span class="number">1</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;QuickSorting2&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		QuickSort2(array, <span class="number">0</span>, array.length-<span class="number">1</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;MergeSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		MergeSort(array);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		Init(array);</span><br><span class="line">		System.out.println(<span class="string">&quot;RedixSorting&quot;</span>);</span><br><span class="line">		PrintTime(<span class="string">&quot;Start: &quot;</span>);</span><br><span class="line">		RadixSort(array);</span><br><span class="line">		PrintTime(<span class="string">&quot;End: &quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Init</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">			array[i] = (<span class="type">int</span>) (Math.random() * <span class="number">80000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">PrintTime</span><span class="params">(String words)</span> &#123;</span><br><span class="line">		<span class="type">Date</span> <span class="variable">date1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">		<span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;HH:mm:ss&quot;</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">time</span> <span class="operator">=</span> sdf.format(date1);</span><br><span class="line">		System.out.println(words + time);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">BubbleSorting</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// flag判断是否进行了排序交换</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> array.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (array[j] &gt; array[j + <span class="number">1</span>]) &#123;</span><br><span class="line">					tmp = array[j];</span><br><span class="line">					array[j] = array[j + <span class="number">1</span>];</span><br><span class="line">					array[j + <span class="number">1</span>] = tmp;</span><br><span class="line">					flag = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				flag = <span class="literal">false</span>; <span class="comment">// 用于判断下一次有没有交换，如果没有，表示数据已正序</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">SelectionSorting</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">smallest</span> <span class="operator">=</span> i;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; array.length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (array[j] &lt; array[smallest]) &#123;</span><br><span class="line">					smallest = j;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (i != smallest) &#123;</span><br><span class="line">				<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> array[i];</span><br><span class="line">				array[i] = array[smallest];</span><br><span class="line">				array[smallest] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">InsertSorting</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">				<span class="keyword">if</span> (array[j] &lt; array[j - <span class="number">1</span>]) &#123;</span><br><span class="line">					temp = array[j];</span><br><span class="line">					array[j] = array[j - <span class="number">1</span>];</span><br><span class="line">					array[j - <span class="number">1</span>] = temp;</span><br><span class="line">				&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">ShellSorting</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> array.length;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> length/<span class="number">2</span>;step &gt;<span class="number">0</span>; step /=<span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=step;i&lt;length;i++) &#123;</span><br><span class="line">				temp = array[i];</span><br><span class="line">				<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span>i;</span><br><span class="line">				<span class="keyword">if</span>(array[j] &lt; array[j-step]) &#123;</span><br><span class="line">					<span class="keyword">while</span>(j&gt;=step &amp;&amp; temp&lt;array[j-step]) &#123;</span><br><span class="line">						array[j] = array[j - step];</span><br><span class="line">						j-=step;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (j != i) &#123;</span><br><span class="line">	                array[j] = temp;</span><br><span class="line">	            &#125;</span><br><span class="line"><span class="comment">//				for(int j=i;j&gt;=step;j-=step) &#123;</span></span><br><span class="line"><span class="comment">//					if(array[j]&lt;array[j-step]) &#123;</span></span><br><span class="line"><span class="comment">//						temp = array[j];</span></span><br><span class="line"><span class="comment">//						array[j] = array[j-step];</span></span><br><span class="line"><span class="comment">//						array[j-step] = temp;</span></span><br><span class="line"><span class="comment">//					&#125;</span></span><br><span class="line"><span class="comment">//					else</span></span><br><span class="line"><span class="comment">//						break;</span></span><br><span class="line"><span class="comment">//				&#125;</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">QuickSort</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span>left;</span><br><span class="line">		<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span>right;</span><br><span class="line">		<span class="type">int</span> temp;</span><br><span class="line">		<span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> array[(left+right)/<span class="number">2</span>];</span><br><span class="line">		<span class="keyword">while</span>(l&lt;r) &#123;</span><br><span class="line">			<span class="comment">//左边往右走</span></span><br><span class="line">			<span class="keyword">while</span>(array[l]&lt;pivot) &#123;</span><br><span class="line">				l+=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//右边往左走</span></span><br><span class="line">			<span class="keyword">while</span>(array[r]&gt;pivot) &#123;</span><br><span class="line">				r -=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l&gt;=r) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			temp =array[l];</span><br><span class="line">			array[l]=array[r];</span><br><span class="line">			array[r] = temp;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//不进行下面的操作程序会卡死</span></span><br><span class="line">			<span class="comment">//交换后发现array[l] == pivot的值 r--;前移</span></span><br><span class="line">			<span class="keyword">if</span>(array[l] == pivot) &#123;</span><br><span class="line">				r -=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//交换后发现array[r] == pivot的值 l++;前移</span></span><br><span class="line">			<span class="keyword">if</span>(array[r] == pivot) &#123;</span><br><span class="line">				l +=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(left&lt;r) &#123;</span><br><span class="line">			QuickSort(array, left, r-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(right&gt;l) &#123;</span><br><span class="line">			QuickSort(array, l+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">QuickSort2</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> left;</span><br><span class="line">		<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> right;</span><br><span class="line">		<span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> array[left];</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="keyword">while</span>(array[r] &gt;= pivot&amp;&amp;l&lt;r) &#123;</span><br><span class="line">				r-=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l&lt;r) &#123;</span><br><span class="line">				array[l] =array[r];</span><br><span class="line">				l+=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(array[l] &lt;= pivot&amp;&amp;l&lt;r) &#123;</span><br><span class="line">				l +=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l&lt;r) &#123;</span><br><span class="line">				array[r] = array[l];</span><br><span class="line">				r -=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(l==r) &#123;</span><br><span class="line">				array[l] = pivot;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(left&lt;r) &#123;</span><br><span class="line">			QuickSort2(array, left, r-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(right &gt; l) &#123;</span><br><span class="line">			QuickSort2(array, l+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//归并排序</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">MergeSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] arr2 = Divide(arr);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr2.length;i++) &#123;</span><br><span class="line">			arr[i]=arr2[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] Divide(<span class="type">int</span>[] arr) &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> (arr.length)/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(pivot&gt;=<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span>[pivot];</span><br><span class="line">			<span class="type">int</span>[] right = <span class="keyword">new</span> <span class="title class_">int</span>[arr.length-pivot];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;left.length;i++) &#123;</span><br><span class="line">				left[i] = arr[i];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;right.length;j++) &#123;</span><br><span class="line">				right[j]=arr[pivot+j];</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			left = Divide(left);</span><br><span class="line">			right = Divide(right);</span><br><span class="line">		</span><br><span class="line">			<span class="keyword">return</span> Conquer(left, right);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> arr;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] Conquer(<span class="type">int</span>[] arr1, <span class="type">int</span>[] arr2) &#123;</span><br><span class="line">		<span class="type">int</span>[] temp = <span class="keyword">new</span> <span class="title class_">int</span>[arr1.length+arr2.length];</span><br><span class="line">		<span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(arr1[left]&lt;arr2[right]) &#123;</span><br><span class="line">				temp[cur] = arr1[left];</span><br><span class="line">				cur++;</span><br><span class="line">				left++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(arr1[left] &gt; arr2[right]) &#123;</span><br><span class="line">				temp[cur] = arr2[right];</span><br><span class="line">				cur++;</span><br><span class="line">				right++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				temp[cur] =arr1[left];</span><br><span class="line">				cur++;</span><br><span class="line">				left++;</span><br><span class="line">				temp[cur] = arr2[right];</span><br><span class="line">				cur++;</span><br><span class="line">				right++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(left&gt;=arr1.length) &#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> i=right;i&lt;arr2.length;i++) &#123;</span><br><span class="line">					temp[cur] = arr2[i];</span><br><span class="line">					cur++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(right&gt;=arr2.length)&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> i=left;i&lt;arr1.length;i++) &#123;</span><br><span class="line">					temp[cur] = arr1[i];</span><br><span class="line">					cur++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">RadixSort</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">		<span class="comment">//找出最大的一位</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">Max</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;array.length;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(array[Max] &lt;array[i]) &#123;</span><br><span class="line">				Max =i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//得出最大一位的个数</span></span><br><span class="line">		<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span>array[Max];</span><br><span class="line">		<span class="keyword">while</span>(temp&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			temp /= <span class="number">10</span>;</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;count;j++) &#123;</span><br><span class="line">			busket(array, pow(<span class="number">10</span>,j));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//计算一个数的几次方</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">pow</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> exp)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(exp==<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;exp-<span class="number">1</span>;i++) &#123;</span><br><span class="line">			num *= num;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> num;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">busket</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> digit)</span> &#123;</span><br><span class="line">		<span class="comment">//创建一个桶用来记录数据</span></span><br><span class="line">		<span class="type">int</span>[][] bucket = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][array.length];</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//创建一个数组来记录每个桶里面元素的个数</span></span><br><span class="line">		<span class="type">int</span>[] itemNum = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;array.length;i++) &#123; </span><br><span class="line">		</span><br><span class="line">			<span class="type">int</span> <span class="variable">no</span> <span class="operator">=</span> array[i]/digit%<span class="number">10</span>; <span class="comment">//哪一个桶</span></span><br><span class="line">			bucket[no][itemNum[no]] = array[i] +<span class="number">10</span>;</span><br><span class="line">			itemNum[no] +=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;bucket.length;k++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(bucket[j][k] !=<span class="number">0</span>) &#123;</span><br><span class="line">					array[index] = bucket[j][k] -<span class="number">10</span>;</span><br><span class="line">					bucket[j][k] =<span class="number">0</span>;</span><br><span class="line">					index++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			itemNum[j] =<span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		index =<span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​	</p>
<p>运行结果</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210304164908951.png" alt="image-20210304164908951"></p>
<h1 id="查找算法"><a href="#查找算法" class="headerlink" title="查找算法"></a>查找算法</h1><h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><p>二分查找的条件是必须在有序数组中</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210306194544964.png" alt="image-20210306194544964"></p>
<p>3种查询方法</p>
<ol>
<li>把数组复制再查询</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> array.length/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(array.length &gt;=<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(array[index] &gt; num) &#123;</span><br><span class="line">				<span class="type">int</span>[] left = Arrays.copyOfRange(array,<span class="number">0</span>,index);</span><br><span class="line">				<span class="keyword">return</span> search(left, num);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(array[index] &lt; num) &#123;</span><br><span class="line">				<span class="type">int</span>[] right = Arrays.copyOfRange(array, index+<span class="number">1</span>, array.length);</span><br><span class="line">				<span class="keyword">return</span> search(right, num);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(array[index] == num) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>数组不复制，对下标进行操作</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(search(array, <span class="number">31</span>, <span class="number">0</span>, array.length-<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> num, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> (left+right)/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(left&gt;right) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		print(array, left, right);</span><br><span class="line">		<span class="keyword">if</span>(array[index] &gt; num) &#123;</span><br><span class="line">			<span class="keyword">return</span> search(array, num, left, index-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(array[index] &lt; num) &#123;</span><br><span class="line">			<span class="keyword">return</span> search(array, num, index+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>非递归法</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> array.length-<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left+right)/<span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(array[mid] == num) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(array[mid] &gt; num) &#123;</span><br><span class="line">				right = mid -<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				left = mid+<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>



<h2 id="插值查找"><a href="#插值查找" class="headerlink" title="插值查找"></a>插值查找</h2><p>相比于二分查找，插值查找改变了查找的基数，假如差值大，基数就大，差值小，跨度就小。可以说插值查找就是二分查找的改进。</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/%E6%9F%A5%E5%80%BC%E6%9F%A5%E6%89%BE.jpg"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Search;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InsertSearching</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span>[] array = &#123;<span class="number">17</span>, <span class="number">20</span>, <span class="number">26</span>, <span class="number">31</span>, <span class="number">44</span>,<span class="number">44</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">77</span>, <span class="number">93</span>&#125;;</span><br><span class="line">		System.out.println(search(array, <span class="number">1</span>, <span class="number">0</span>, array.length-<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//递归版本</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> num, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> left+(right-left)*(num-array[left])/(array[right]-array[left]);</span><br><span class="line">		<span class="keyword">if</span>(left&gt;right || index&lt;<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(array[index] &gt; num) &#123;</span><br><span class="line">			<span class="keyword">return</span> search(array, num, left, index-<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(array[index] &lt; num) &#123;</span><br><span class="line">			<span class="keyword">return</span> search(array, num, index+<span class="number">1</span>, right);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<h1 id="程序员必会十大算法"><a href="#程序员必会十大算法" class="headerlink" title="程序员必会十大算法"></a>程序员必会十大算法</h1><h2 id="1-二分查找算法"><a href="#1-二分查找算法" class="headerlink" title="1. 二分查找算法"></a>1. 二分查找算法</h2><h3 id="介绍-10"><a href="#介绍-10" class="headerlink" title="介绍"></a>介绍</h3><p>二分查找是常见的查找算法，使用二分查找的前提是要拥有一组有序的数组，查找时我们根据数组下标，把数组一分为二，通过比较中间的数来确认目标的位置，如下图</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419111722840.png" alt="image-20210419111722840"></p>
<p>这样查找相比于一般的for循环遍历，效率大大提高，时间可达log(N)</p>
<h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><p>二分查找有2种实现方法：递归版和非递归版</p>
<p><strong>非递归版</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//非递归版本</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span><span class="number">0</span>; <span class="comment">//left表示左侧下标</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> array.length-<span class="number">1</span>; <span class="comment">//right表示右侧下标</span></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123; <span class="comment">//结束的条件是左边大于右边</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left+right)/<span class="number">2</span>; <span class="comment">//我们假设中间的数是目标</span></span><br><span class="line">        <span class="keyword">if</span>(array[mid] == num) &#123; <span class="comment">// 判断，是</span></span><br><span class="line">            <span class="keyword">return</span> mid; <span class="comment">//返回下标</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(array[mid] &gt; num) &#123; <span class="comment">//判断发现中间的数比目标数大</span></span><br><span class="line">            right = mid -<span class="number">1</span>; <span class="comment">//把中间的数的下标设置为右边， 减1是因为mid已经判断过了，比num大</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">//若小，则设置为左边</span></span><br><span class="line">            left = mid+<span class="number">1</span>;<span class="comment">//加1的原因和上面类似</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//找完后发现没有找到，返回-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>递归版本</strong></p>
<p>具体步骤和上面非递归版本类似，推荐非递归版本</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//递归版本</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> num, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> (left+right)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;right) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    print(array, left, right);</span><br><span class="line">    <span class="keyword">if</span>(array[index] &gt; num) &#123;</span><br><span class="line">        <span class="keyword">return</span> search(array, num, left, index-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(array[index] &lt; num) &#123;</span><br><span class="line">        <span class="keyword">return</span> search(array, num, index+<span class="number">1</span>, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-分治算法"><a href="#2-分治算法" class="headerlink" title="2. 分治算法"></a>2. 分治算法</h2><h3 id="介绍-11"><a href="#介绍-11" class="headerlink" title="介绍"></a>介绍</h3><p>分治算法，蕴含分而治之的思想，Divide and Conquer. 我们把难的问题逐个逐个拆分，拆分为小的问题，然后对于这个小的问题我们要给出解决办法，最后一步一步返回过去，将难的问题给解决，使用分治算法时，我们还利用了递归的思想，从拆分到组合</p>
<h3 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h3><p>我们举汉诺塔的例子来讲分治算法</p>
<p>故事大家也都知道</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%A4%A7%E6%A2%B5%E5%A4%A9/711550">大梵天</a>创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。大梵天命令<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%A9%86%E7%BD%97%E9%97%A8/1796550">婆罗门</a>把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。</p>
</blockquote>
<p>64个盘看似很多，我们把这64个简化为3个</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419123047227.png" alt="image-20210419123047227"></p>
<p>3个盘，我们先把上面两个盘想办法<strong>从第1个柱子移到第2个柱子</strong></p>
<p>为了按照大小的顺序移动，先把第1个盘从第1个柱子移到第3个柱子，第2个盘从第1个柱子移到第2个柱子</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419124339062.png" alt="image-20210419124339062"></p>
<p>接着把盘从第3个柱子移到第2个柱子</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419124415703.png" alt="image-20210419124415703"></p>
<p>然后，把仅存在第1个柱子的盘移到第3个柱子</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419124444560.png" alt="image-20210419124444560"></p>
<p>最后想办法把<strong>第2个柱子上的盘移到第3个柱子</strong></p>
<p>先把第2个柱子上的移到第1个柱子</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419124656537.png" alt="image-20210419124656537"></p>
<p>再把最后一个移到第3个柱子</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419124729238.png" alt="image-20210419124729238"></p>
<p><strong>最后一步</strong></p>
<p>把盘从第1个柱子移到第3个柱子</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419124828794.png" alt="image-20210419124828794"></p>
<p>假设有n个盘，3个柱A, B, C</p>
<ol>
<li>把n-1个盘从A到B</li>
<li>最后1个从A到C</li>
<li>再把n-1个盘从B移到C</li>
</ol>
<p>落实到代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HanoiTower</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		move(<span class="number">3</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>);</span><br><span class="line">		System.out.println(count);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">(<span class="type">int</span> num, <span class="type">char</span> a, <span class="type">char</span> b, <span class="type">char</span> c)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(num==<span class="number">1</span>) &#123;</span><br><span class="line">			<span class="comment">//只有1个盘，从A移动到C</span></span><br><span class="line">			System.out.println(a+<span class="string">&quot;-&gt;&quot;</span>+c);</span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">//把n-1个盘，从A移动到B</span></span><br><span class="line">			move(num-<span class="number">1</span>, a, c, b);<span class="comment">//由于实参和形参的不同，我们可以改变实参以达到变换的目的</span></span><br><span class="line">			System.out.println(a+<span class="string">&quot;-&gt;&quot;</span>+c);</span><br><span class="line">			count++;</span><br><span class="line">			<span class="comment">//再把剩下的从B移动到C</span></span><br><span class="line">			move(num-<span class="number">1</span>,b,a,c);</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419140825279.png" alt="image-20210419140825279"></p>
<h2 id="3-动态规划算法"><a href="#3-动态规划算法" class="headerlink" title="3. 动态规划算法"></a>3. 动态规划算法</h2><h3 id="介绍-12"><a href="#介绍-12" class="headerlink" title="介绍"></a>介绍</h3><p>和上面的分治算法有点类似，都是把复杂或大的问题拆解为小的问题，然后求解</p>
<p>不同在于，动态规划算法每一步和上一步之间有联系，所以动态规划算法适用于重叠的子问题求解</p>
<p>动态规划算法通常用于求解（最大值和最小值），在应用动态规划之前要分析能否把大问题拆解为小问题，然后每个小问题都是最优解。</p>
<p>动态规划算法从上往下分析问题，从下往上解决问题，先解决最小的问题，再解决最大问题。</p>
<p>常见的利用动态规划算法求解的莫过于背包问题（01背包问题）</p>
<p>去商店买东西，背包有固定的容量，我们每个物品有且只能装入1次，最后我们要挑选出价值最高的物品组合。</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419132120492.png" alt="image-20210419132120492"></p>
<p>为了获取每个子问题的最优解，我们用二维数组来解决背包问题</p>
<p>列表示背包容量</p>
<p>行表示对应的商品</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419132323341.png" alt="image-20210419132323341"></p>
<p>第1列我们也设置为0</p>
<p>用双重for循环，从左往右，从上往下</p>
<p>当然，由于我们第1行和第1列都设置为0，我们从第2列和第2行开始bag[1][1]</p>
<p>从左往右，判断背包容量是否可以装入吉他，不行读取上面1格的值，然后向后，发现2kg可以装入吉他，把吉他装入，设置为$200，</p>
<p>走到电脑这一行，1kg无法放下，读取上面1格的值，向后，还是不行，继续向后，直到能装下，4kg，和上一个做对比，看哪个最后的值大，把大的放入</p>
<p>最后一行是书， 与上文一样，直到bag容量为3kg时，我们先装入1本书，还剩余2kg，我们选取没加这本书的时候的最佳值，也就是书所在上一行，剩余容量所在的位置的值， 就是$200 + $100, 然后我们比较和上一行的大小</p>
<table>
<thead>
<tr>
<th></th>
<th>0 kg</th>
<th><strong>1 kg</strong></th>
<th><strong>2 kg</strong></th>
<th><strong>3 kg</strong></th>
<th><strong>4 kg</strong></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>$0</td>
<td>$0</td>
<td>$0</td>
<td>$0</td>
<td>$0</td>
</tr>
<tr>
<td>吉他</td>
<td>$0</td>
<td>$0</td>
<td>$200</td>
<td>$200</td>
<td>$200</td>
</tr>
<tr>
<td>电脑</td>
<td>$0</td>
<td>$0</td>
<td>$200</td>
<td>$200</td>
<td>$300</td>
</tr>
<tr>
<td>书</td>
<td>$0</td>
<td>$100</td>
<td>$200</td>
<td>$200+$100</td>
<td>$300</td>
</tr>
</tbody></table>
<h3 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h3><p>我们除了要知道背包能存入的最大值，还应该知道存入的是哪些物品，所以我们还需要一个二维数组用来表示存了哪些物品</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[][] path=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>][m+<span class="number">1</span>];</span><br></pre></td></tr></table></figure>

<p>存入path所在的位置为1， 没有就是默认的0</p>
<p>打印</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th><strong>1 kg</strong></th>
<th><strong>2 kg</strong></th>
<th><strong>3 kg</strong></th>
<th><strong>4 kg</strong></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>吉他</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>电脑</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>书</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody></table>
<p>打印从右下角开始向上读，如果此时的标记为1，打印这个下标对应商品的下标，横坐标减去这个商品对应的容量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//为了显示装入的物品有哪些</span></span><br><span class="line">        </span><br><span class="line"><span class="type">int</span> i=path.length-<span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> j=path[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(i&gt;<span class="number">0</span> &amp;&amp; j&gt;<span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(path[i][j]==<span class="number">1</span>) &#123;</span><br><span class="line">        System.out.printf(<span class="string">&quot;把%s放入背包\n&quot;</span>,obj[i-<span class="number">1</span>]);</span><br><span class="line">        j -= w[i-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    i--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>最后</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dynamic_Programming_Bag2</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		String[] obj = &#123;<span class="string">&quot;Guitar&quot;</span>,<span class="string">&quot;Computer&quot;</span>,<span class="string">&quot;Book&quot;</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[] v= &#123;<span class="number">200</span>,<span class="number">300</span>,<span class="number">100</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[] w= &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>&#125;;</span><br><span class="line">		<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span><span class="number">4</span>;<span class="comment">//背包的容量</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> w.length;<span class="comment">//物品的个数</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//背包</span></span><br><span class="line">		<span class="type">int</span>[][] bag =<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>][m+<span class="number">1</span>];</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//存储数组</span></span><br><span class="line">		<span class="type">int</span>[][] path=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>][m+<span class="number">1</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;bag.length;i++)</span><br><span class="line">			bag[i][<span class="number">0</span>]=<span class="number">0</span>;<span class="comment">//第一列设置为0</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;bag[<span class="number">0</span>].length;i++)</span><br><span class="line">			bag[<span class="number">0</span>][i]=<span class="number">0</span>;<span class="comment">//第一行设置为0</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;bag.length;i++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;bag[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(w[i-<span class="number">1</span>]&gt;j) &#123;</span><br><span class="line">					<span class="comment">//容量不满足，直接继承上面一个</span></span><br><span class="line">					bag[i][j] = bag[i-<span class="number">1</span>][j];</span><br><span class="line">				&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="comment">//容量满足，和上面一个对比，选取最佳的value</span></span><br><span class="line">					<span class="comment">//装入i-1个商品，到剩余空间j-w[i]的最大值</span></span><br><span class="line"><span class="comment">//					bag[i][j] = Math.max(bag[i-1][j], v[i-1]+bag[i-1][j-w[i-1]]);</span></span><br><span class="line">					<span class="keyword">if</span>(bag[i-<span class="number">1</span>][j]&lt;v[i-<span class="number">1</span>]+bag[i-<span class="number">1</span>][j-w[i-<span class="number">1</span>]]) &#123;</span><br><span class="line">						bag[i][j] = v[i-<span class="number">1</span>]+bag[i-<span class="number">1</span>][j-w[i-<span class="number">1</span>]];</span><br><span class="line">						<span class="comment">//把当前情况记录到path</span></span><br><span class="line">						path[i][j]=<span class="number">1</span>;</span><br><span class="line">					&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">						bag[i][j] = bag[i-<span class="number">1</span>][j];</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">      </span><br><span class="line"><span class="comment">//打印背包的Table</span></span><br><span class="line">        </span><br><span class="line">		<span class="comment">//i表示行</span></span><br><span class="line">		<span class="comment">//j表示列</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;bag.length;i++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;bag[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">				System.out.printf(bag[i][j]+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line"><span class="comment">//为了显示装入的物品有哪些</span></span><br><span class="line">        </span><br><span class="line">		<span class="type">int</span> i=path.length-<span class="number">1</span>;</span><br><span class="line">		<span class="type">int</span> j=path[<span class="number">0</span>].length-<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(i&gt;<span class="number">0</span> &amp;&amp; j&gt;<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(path[i][j]==<span class="number">1</span>) &#123;</span><br><span class="line">				System.out.printf(<span class="string">&quot;把%s放入背包\n&quot;</span>,obj[i-<span class="number">1</span>]);</span><br><span class="line">				j -= w[i-<span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			i--;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419140711349.png" alt="image-20210419140711349"></p>
<h2 id="4-贪婪算法"><a href="#4-贪婪算法" class="headerlink" title="4. 贪婪算法"></a>4. 贪婪算法</h2><h3 id="介绍-13"><a href="#介绍-13" class="headerlink" title="介绍"></a>介绍</h3><p>贪婪算法，又称贪心算法，Greedy Algorithm。 在解决问题时，每次都选择最好的情况，用这种方法得出最后的解，注意：虽然贪婪算法每次都选最好的，但是最后的结果并不一定是最佳的</p>
<p>广播集合覆盖问题（贪心算法的应用）</p>
<p>我们要构建广播站，每个广播站覆盖的地区不一样，有些有交叉的地方，我们要用哪些广播站去覆盖全部地区。 </p>
<p>如图</p>
<table>
<thead>
<tr>
<th>地区： <strong>北京、上海、天津、广州、深圳、成都、杭州、大连</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>电台</td>
<td>覆盖数</td>
<td>地区</td>
</tr>
<tr>
<td>K1</td>
<td>3</td>
<td>北京、上海、天津</td>
</tr>
<tr>
<td>K2</td>
<td>3</td>
<td>广州、北京、深圳</td>
</tr>
<tr>
<td>K3</td>
<td>3</td>
<td>成都、上海、杭州</td>
</tr>
<tr>
<td>K4</td>
<td>2</td>
<td>上海、天津</td>
</tr>
<tr>
<td>K5</td>
<td>2</td>
<td>杭州、大连</td>
</tr>
</tbody></table>
<p>从电台里面选，哪些电台组合在一起就覆盖了全部地区？</p>
<p>首先，我们将每个电台与其覆盖的地区放入HashMap中， Key是电台名称， Value是储存此电台覆盖地区的HashSet。然后我们还要创建一个HashSet用来储存所有地区名称， 一个ArrayList储存最后的结果</p>
<p>我们构建一个循环，每次从循环找出地区数覆盖最多的电台，将这个电台加入到ArrayList中，然后从所有地区中清除这些地区，接着循环，当地区集合大小为0时停止。</p>
<p>这个看代码比较好理解</p>
<h3 id="代码实现-4"><a href="#代码实现-4" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GreedyAlgorithm</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		HashMap&lt;String, HashSet&lt;String&gt;&gt; radios = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">		HashSet&lt;String&gt; k1 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		k1.add(<span class="string">&quot;北京&quot;</span>);</span><br><span class="line">		k1.add(<span class="string">&quot;上海&quot;</span>);</span><br><span class="line">		k1.add(<span class="string">&quot;天津&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; k2 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		k2.add(<span class="string">&quot;广州&quot;</span>);</span><br><span class="line">		k2.add(<span class="string">&quot;北京&quot;</span>);</span><br><span class="line">		k2.add(<span class="string">&quot;深圳&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; k3 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		k3.add(<span class="string">&quot;成都&quot;</span>);</span><br><span class="line">		k3.add(<span class="string">&quot;上海&quot;</span>);</span><br><span class="line">		k3.add(<span class="string">&quot;杭州&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; k4 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		k4.add(<span class="string">&quot;上海&quot;</span>);</span><br><span class="line">		k4.add(<span class="string">&quot;天津&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; k5 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		k5.add(<span class="string">&quot;杭州&quot;</span>);</span><br><span class="line">		k5.add(<span class="string">&quot;大连&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		radios.put(<span class="string">&quot;k1&quot;</span>, k1);</span><br><span class="line">		radios.put(<span class="string">&quot;k2&quot;</span>, k2);</span><br><span class="line">		radios.put(<span class="string">&quot;k3&quot;</span>, k3);</span><br><span class="line">		radios.put(<span class="string">&quot;k4&quot;</span>, k4);</span><br><span class="line">		radios.put(<span class="string">&quot;k5&quot;</span>, k5);</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; allAreas = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		allAreas.addAll(k1);</span><br><span class="line">		allAreas.addAll(k2);</span><br><span class="line">		allAreas.addAll(k3);</span><br><span class="line">		allAreas.addAll(k4);</span><br><span class="line">		allAreas.addAll(k5);</span><br><span class="line">		</span><br><span class="line">		ArrayList&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		</span><br><span class="line">		<span class="type">String</span> <span class="variable">MaxKey</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">		<span class="keyword">while</span>(!allAreas.isEmpty()) &#123;</span><br><span class="line">			<span class="keyword">for</span>(String key:radios.keySet()) &#123;</span><br><span class="line">				HashSet&lt;String&gt; temp = radios.get(key);</span><br><span class="line">				temp.retainAll(allAreas); <span class="comment">//选取交集</span></span><br><span class="line">				</span><br><span class="line">				<span class="comment">//必须交集大于0 或者 交集的大小大于最大的大小</span></span><br><span class="line">				<span class="keyword">if</span>( temp.size() &gt;<span class="number">0</span> &amp;&amp; (MaxKey == <span class="literal">null</span> || temp.size() &gt; radios.get(MaxKey).size())) &#123;</span><br><span class="line">					MaxKey = key; <span class="comment">//才能赋值</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//当最大赋值不为NULL时，把答案添加进去，移除对应的地区</span></span><br><span class="line">			<span class="keyword">if</span>(MaxKey != <span class="literal">null</span>) &#123;</span><br><span class="line">				result.add(MaxKey);</span><br><span class="line">				allAreas.removeAll(radios.get(MaxKey));</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(result);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419143839349.png" alt="image-20210419143839349"></p>
<h2 id="5-KMP算法"><a href="#5-KMP算法" class="headerlink" title="5. KMP算法"></a>5. KMP算法</h2><h3 id="介绍-14"><a href="#介绍-14" class="headerlink" title="介绍"></a>介绍</h3><p>KMP算法是常见的匹配字符串的算法，起初由名字里含有K, M, P的3个人所创建。讨论KMP算法之前我们要先了解暴力匹配字符串算法</p>
<h3 id="暴力匹配算法"><a href="#暴力匹配算法" class="headerlink" title="暴力匹配算法"></a>暴力匹配算法</h3><p>为什么叫暴力匹配算法？这个方法虽然也是算法，也能帮我们解决问题，但是它的运行效率是比较低的。</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419150304534.png" alt="image-20210419150304534"></p>
<p>找出‘FFD’所匹配的字符串的下标</p>
<p>第一行字符串假设为s1</p>
<p>第二行是s2</p>
<p>在While循环中，用s2的下标向s1的下标进行匹配，若所指下标不匹配，s2向后挪动1格</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419150609480.png" alt="image-20210419150609480"></p>
<p>如此一直到s1上的FFD与s2上的FFD相互匹配，此时返回下标，当然这个下标应该要减去s2的长度</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419150742638.png" alt="image-20210419150742638"></p>
<h4 id="暴力匹配代码实现"><a href="#暴力匹配代码实现" class="headerlink" title="暴力匹配代码实现"></a>暴力匹配代码实现</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ViolentMatching</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">//暴力匹配算法 </span></span><br><span class="line">		System.out.println(matching(<span class="string">&quot;ABCDBCEFFDHFCD&quot;</span>,<span class="string">&quot;FFD&quot;</span>));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">matching</span><span class="params">(String str1, String str2)</span> &#123;</span><br><span class="line">		<span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">		<span class="type">char</span>[] s1 =str1.toCharArray();</span><br><span class="line">		<span class="type">char</span>[] s2 =str2.toCharArray();</span><br><span class="line">		<span class="keyword">while</span>(i&lt;s1.length &amp;&amp; j&lt;s2.length) &#123;</span><br><span class="line">			<span class="keyword">if</span>(s1[i] == s2[j]) &#123; <span class="comment">//相匹配，两下标各向后移动1</span></span><br><span class="line">				i++;</span><br><span class="line">				j++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123; <span class="comment">//发现不匹配，s2的下标从头开始， s1的下标应该减去刚才匹配的长度然后+1</span></span><br><span class="line">                </span><br><span class="line">				i= i-j+<span class="number">1</span>;</span><br><span class="line">				j=<span class="number">0</span>;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//最后找到返回下标</span></span><br><span class="line">		<span class="keyword">if</span>(j==s2.length)</span><br><span class="line">			<span class="keyword">return</span> i-j;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>在暴力匹配当中，s2每次只往后移动1格，有些之前匹配过的还要再匹配，一旦字符串较长时，匹配所需要的时间就会增加很多，所以我们需要用KMP算法来进行优化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span><span class="string">&quot;BBC ABCDAB ABCDABCDABDE&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span><span class="string">&quot;ABCDABD&quot;</span>;</span><br></pre></td></tr></table></figure>



<p>KMP在实现匹配之前要根据s2的前后缀最大公共元素的长度来建立一个匹配池</p>
<table>
<thead>
<tr>
<th><strong>A</strong></th>
<th><strong>B</strong></th>
<th><strong>C</strong></th>
<th><strong>D</strong></th>
<th><strong>A</strong></th>
<th><strong>B</strong></th>
<th><strong>D</strong></th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>0</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th><strong>字串</strong></th>
<th><strong>前缀</strong></th>
<th><strong>后缀</strong></th>
<th><strong>最大公共长度</strong></th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>空</td>
<td>空</td>
<td>0</td>
</tr>
<tr>
<td>AB</td>
<td>A</td>
<td>B</td>
<td>0</td>
</tr>
<tr>
<td>ABC</td>
<td>A, AB</td>
<td>BC, C</td>
<td>0</td>
</tr>
<tr>
<td>ABCD</td>
<td>A,AB,ABC</td>
<td>BCD, CD, D</td>
<td>0</td>
</tr>
<tr>
<td>ABCDA</td>
<td>A,AB,ABC,ABCD</td>
<td>BCDA, CDA, DA, A</td>
<td>1</td>
</tr>
<tr>
<td>ABCDAB</td>
<td>A, AB, ABC, ABCD, ABCDA</td>
<td>BCDAB, CDAB, DAB, AB, B</td>
<td>2</td>
</tr>
<tr>
<td>ABCDABD</td>
<td>A, AB, ABC, ABCD, ABCDA, ABCDAB</td>
<td>BCDABD, CDABD, DABD, ABD, BD, D</td>
<td>0</td>
</tr>
</tbody></table>
<p>有了匹配表后，我们要对之前暴力匹配的算法进行更新</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//若字符匹配不相等</span></span><br><span class="line"><span class="comment">//KMP算法核心</span></span><br><span class="line"><span class="keyword">while</span>(j &gt;<span class="number">0</span> &amp;&amp; st1.charAt(i)!=st2.charAt(j)) &#123;</span><br><span class="line">    j = map[j-<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//失配时，模式串向右移动的位数为：已匹配字符数 - 失配字符的上一位字符所对应的最大长度值</span></span><br></pre></td></tr></table></figure>





<h3 id="KMP代码实现"><a href="#KMP代码实现" class="headerlink" title="KMP代码实现"></a>KMP代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KMPAlgorithm</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span><span class="string">&quot;BBC ABCDAB ABCDABCDABDE&quot;</span>;</span><br><span class="line">		<span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span><span class="string">&quot;ABCDABD&quot;</span>;</span><br><span class="line">		System.out.println(KMP(str1, str2, MatchMap(str2)));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 构建字符匹配表</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> dest 传入字符串 </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回匹配后的数组</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] MatchMap(String dest) &#123;</span><br><span class="line">		<span class="type">int</span>[] map = <span class="keyword">new</span> <span class="title class_">int</span>[dest.length()];</span><br><span class="line">		map[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>, j=<span class="number">0</span>; i&lt;dest.length();i++) &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//KMP算法核心</span></span><br><span class="line">			<span class="keyword">while</span>(j &gt;<span class="number">0</span> &amp;&amp; dest.charAt(i)!=dest.charAt(j)) &#123;</span><br><span class="line">				j = map[j-<span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//部分匹配值+1</span></span><br><span class="line">			<span class="keyword">if</span>(dest.charAt(i)==dest.charAt(j)) &#123;</span><br><span class="line">				j++;</span><br><span class="line">			&#125;</span><br><span class="line">			map[i] =j;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> st1 被匹配的长字符串</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> st2 拿来匹配的字符串</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> map 字符匹配表</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> 返回-1 或对应匹配的位置</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">KMP</span><span class="params">(String st1, String st2, <span class="type">int</span>[] map)</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>, j=<span class="number">0</span>;i&lt;st1.length();i++) &#123;</span><br><span class="line">			<span class="comment">//若字符匹配不相等</span></span><br><span class="line">			<span class="comment">//KMP算法核心</span></span><br><span class="line">			<span class="keyword">while</span>(j &gt;<span class="number">0</span> &amp;&amp; st1.charAt(i)!=st2.charAt(j)) &#123;</span><br><span class="line">				j = map[j-<span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//字符匹配相等</span></span><br><span class="line">			<span class="keyword">if</span>(st1.charAt(i)==st2.charAt(j)) &#123;</span><br><span class="line">				j++;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(j &gt;= st2.length())</span><br><span class="line">				<span class="keyword">return</span> i-j+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="6-Prim算法"><a href="#6-Prim算法" class="headerlink" title="6. Prim算法"></a>6. Prim算法</h2><h3 id="介绍-15"><a href="#介绍-15" class="headerlink" title="介绍"></a>介绍</h3><p>Prim算法用于解决修路最短路径问题，有7个村庄，要用路把它们连接，问怎么修路使总路程最短，且路可以到达每个村庄</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419184711756.png" alt="image-20210419184711756"></p>
<p>最小生成树问题</p>
<ol>
<li><p>这个问题要利用图的知识来求解</p>
</li>
<li><p>需要构建二维数组（邻接矩阵）来表示顶点间的关系</p>
</li>
<li><p>既然每个顶点只能访问一次，需要一个boolean 数组，来储存该顶点是否被访问过</p>
</li>
<li><p>最终边（路）的条数应该为顶点数-1</p>
</li>
<li><p>为了知道是哪2个顶点之间相互连接，我们要将顶点的数据（顶点是哪2个，边的权值是多少）存起来</p>
</li>
<li><p>图</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用静态内部类的形式来构建</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Graph</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> vertex;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span>[] data;</span><br><span class="line">    <span class="type">int</span>[][] weight;</span><br><span class="line">    Graph(<span class="type">char</span>[] d, <span class="type">int</span>[][] w)&#123;</span><br><span class="line">        vertex = d.length;</span><br><span class="line">        data = d;</span><br><span class="line">        weight = w;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>二维数组</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [][] weight= &#123;</span><br><span class="line">    &#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>&#125;,</span><br><span class="line">    &#123;<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">    &#123;<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>&#125;,</span><br><span class="line">    &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">    &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>&#125;,</span><br><span class="line">    &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>boolean数组</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span>[] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[graph.vertex]; <span class="comment">//表示是否访问过</span></span><br></pre></td></tr></table></figure>



<ol start="4">
<li>Prim算法的核心</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编写Prim算法，得到最小生成树</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> v 从图的第几个顶点开始找</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Prim</span><span class="params">(<span class="type">int</span> v)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[graph.vertex]; <span class="comment">//表示是否访问过</span></span><br><span class="line">    isVisited[v] = <span class="literal">true</span>; <span class="comment">//默认设置从第v个顶点开始</span></span><br><span class="line">    <span class="comment">/**用 h1和h2 记录2个顶点的下标*/</span></span><br><span class="line">    <span class="type">int</span> h1=-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> h2=-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> max=getMax(); <span class="comment">// getMax是一个函数，用于获取此矩阵中的最大值，方便后面做比较</span></span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>; <span class="comment">//用于统计总路径长度</span></span><br><span class="line">    HashMap&lt;String, Integer&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();  <span class="comment">//储存最后的结果</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;graph.vertex;k++) &#123; <span class="comment">//根据算法，最后边个数应该为vertex-1个</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">minWeight</span> <span class="operator">=</span> max;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//双重循环</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;graph.vertex;i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;graph.vertex;j++) &#123;</span><br><span class="line">                <span class="comment">//确定子图中哪2个节点最近，这2个顶点其中一个被访问过，另一个没有</span></span><br><span class="line">                <span class="keyword">if</span>(isVisited[i]==<span class="literal">true</span> </span><br><span class="line">                   &amp;&amp; isVisited[j]==<span class="literal">false</span> </span><br><span class="line">                   &amp;&amp; graph.weight[i][j] &lt; minWeight <span class="comment">//比目前最大的数要小</span></span><br><span class="line">                   &amp;&amp; graph.weight[i][j] != <span class="number">0</span>) &#123; <span class="comment">//且不为0</span></span><br><span class="line">                    minWeight = graph.weight[i][j]; <span class="comment">//将最小的换为此时的权重</span></span><br><span class="line">                    h1=i; </span><br><span class="line">                    h2=j; <span class="comment">//标记这2个点</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        isVisited[h2] = <span class="literal">true</span>; <span class="comment">//第二个点设为已访问，之后会从这一行开始访问</span></span><br><span class="line">        result.put(graph.data[h1]+<span class="string">&quot;-&quot;</span>+graph.data[h2], graph.weight[h1][h2]);</span><br><span class="line">        count += graph.weight[h1][h2];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="keyword">for</span>(Entry&lt;String, Integer&gt; rst:result.entrySet())</span><br><span class="line">        System.out.println(rst.getKey()+<span class="string">&quot; : &quot;</span>+rst.getValue());</span><br><span class="line">    System.out.println(<span class="string">&quot;Min Path: &quot;</span>+count);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="代码实现-5"><a href="#代码实现-5" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrimAlgorithm</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">char</span>[] data = &#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>&#125;;</span><br><span class="line">		<span class="comment">//邻接矩阵的关系用二维数组来表示</span></span><br><span class="line">		<span class="type">int</span> [][] weight= &#123;</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>&#125;,</span><br><span class="line">				&#123;<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>&#125;,</span><br><span class="line">				&#123;<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>&#125;,</span><br><span class="line">				&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="type">MinTree</span> <span class="variable">tree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MinTree</span>();</span><br><span class="line">		tree.createGraph(<span class="keyword">new</span> <span class="title class_">Graph</span>(data, weight));</span><br><span class="line">		tree.showGraph();</span><br><span class="line">		</span><br><span class="line">		tree.Prim(<span class="number">0</span>);</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MinTree</span>&#123;</span><br><span class="line">		<span class="keyword">private</span> Graph graph;</span><br><span class="line">		<span class="comment">//创建图的邻接矩阵</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createGraph</span><span class="params">(Graph g)</span> &#123;</span><br><span class="line">			graph = g;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//打印图</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showGraph</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span>[] w:graph.weight)</span><br><span class="line">				System.out.println(Arrays.toString(w));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//编写Prim算法，得到最小生成树</span></span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * </span></span><br><span class="line"><span class="comment">		 * <span class="doctag">@param</span> v 从图的第几个顶点开始找</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Prim</span><span class="params">(<span class="type">int</span> v)</span> &#123;</span><br><span class="line">			<span class="type">boolean</span>[] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[graph.vertex]; <span class="comment">//表示是否访问过</span></span><br><span class="line">			isVisited[v] = <span class="literal">true</span>; <span class="comment">//默认设置从第v个顶点开始</span></span><br><span class="line">			<span class="comment">/**用 h1和h2 记录2个顶点的下标*/</span></span><br><span class="line">			<span class="type">int</span> h1=-<span class="number">1</span>;</span><br><span class="line">			<span class="type">int</span> h2=-<span class="number">1</span>;</span><br><span class="line">			<span class="type">int</span> max=getMax();</span><br><span class="line">			<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">			HashMap&lt;String, Integer&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); </span><br><span class="line">	</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;graph.vertex;k++) &#123; <span class="comment">//根据算法，最后边个数应该为vertex-1个</span></span><br><span class="line">				<span class="type">int</span> <span class="variable">minWeight</span> <span class="operator">=</span> max;</span><br><span class="line">				</span><br><span class="line">				<span class="comment">//双重循环</span></span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;graph.vertex;i++) &#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;graph.vertex;j++) &#123;</span><br><span class="line">						<span class="comment">//确定子图中哪2个节点最近，这2个顶点其中一个被访问过，另一个没有</span></span><br><span class="line">						<span class="keyword">if</span>(isVisited[i]==<span class="literal">true</span> &amp;&amp; isVisited[j]==<span class="literal">false</span> &amp;&amp; graph.weight[i][j] &lt; minWeight &amp;&amp; graph.weight[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">							minWeight = graph.weight[i][j];</span><br><span class="line">							h1=i;</span><br><span class="line">							h2=j;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				isVisited[h2] = <span class="literal">true</span>; <span class="comment">//设置成访问，之后会从这一行开始访问</span></span><br><span class="line">				result.put(graph.data[h1]+<span class="string">&quot;-&quot;</span>+graph.data[h2], graph.weight[h1][h2]);</span><br><span class="line">				count += graph.weight[h1][h2];</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			System.out.println();</span><br><span class="line">			<span class="keyword">for</span>(Entry&lt;String, Integer&gt; rst:result.entrySet())</span><br><span class="line">				System.out.println(rst.getKey()+<span class="string">&quot; : &quot;</span>+rst.getValue());</span><br><span class="line">			System.out.println(<span class="string">&quot;Min Path: &quot;</span>+count);</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getMax</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="type">int</span> max=graph.weight[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;graph.vertex;i++) &#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;graph.vertex;j++) &#123;</span><br><span class="line">					<span class="keyword">if</span>(graph.weight[i][j]&gt;max)</span><br><span class="line">						max = graph.weight[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> max;</span><br><span class="line">				</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Graph</span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> vertex;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">char</span>[] data;</span><br><span class="line">		<span class="type">int</span>[][] weight;</span><br><span class="line">		Graph(<span class="type">char</span>[] d, <span class="type">int</span>[][] w)&#123;</span><br><span class="line">			vertex = d.length;</span><br><span class="line">			data = d;</span><br><span class="line">			weight = w;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210419194332111.png" alt="image-20210419194332111"></p>
<h3 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h3><p>上面的代码时间复杂度很高，（n^3）， 一般的Prim算法时间复杂度仅（n^2），下面贴出更改后的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrimAlgorithm2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> INF=Integer.MAX_VALUE;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">char</span>[] data = &#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;G&#x27;</span>&#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//不相邻的顶点，用INF表示</span></span><br><span class="line">		<span class="type">int</span> [][] map= &#123;</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">7</span>,INF,INF,INF,<span class="number">2</span>&#125;,</span><br><span class="line">				&#123;<span class="number">5</span>,<span class="number">0</span>,INF,<span class="number">9</span>,INF,INF,<span class="number">3</span>&#125;,</span><br><span class="line">				&#123;<span class="number">7</span>,INF,<span class="number">0</span>,INF,<span class="number">8</span>,INF,INF&#125;,</span><br><span class="line">				&#123;INF,<span class="number">9</span>,INF,<span class="number">0</span>,INF,<span class="number">4</span>,INF&#125;,</span><br><span class="line">				&#123;INF,INF,<span class="number">8</span>,INF,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">				&#123;INF,INF,INF,<span class="number">4</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>&#125;,</span><br><span class="line">				&#123;<span class="number">2</span>,<span class="number">3</span>,INF,INF,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		System.out.println(<span class="string">&quot;Start&quot;</span>);</span><br><span class="line">		Prim(<span class="number">1</span>, map, data);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//输入起始顶点，邻接矩阵，顶点信息</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Prim</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span>[][] map, <span class="type">char</span>[] data)</span> &#123;</span><br><span class="line">        <span class="comment">//用于存储最终的各种信息</span></span><br><span class="line">		HashMap&lt;String, Integer&gt; paths = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//存储整个data长度</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> data.length;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//存放前顶点</span></span><br><span class="line">		<span class="type">int</span>[] pre =<span class="keyword">new</span> <span class="title class_">int</span>[num];</span><br><span class="line">        <span class="comment">//权重 </span></span><br><span class="line">		<span class="type">int</span>[] weights = <span class="keyword">new</span> <span class="title class_">int</span>[num]; </span><br><span class="line">		<span class="comment">//初始化</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;weights.length;i++) &#123;</span><br><span class="line">			weights[i] = map[start][i]; <span class="comment">//默认权重以start为基准</span></span><br><span class="line">            <span class="comment">//与start顶点相连</span></span><br><span class="line">			<span class="keyword">if</span>(weights[i] !=INF)</span><br><span class="line">				pre[i] =start; <span class="comment">//把前节点设为start</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//start自身权重为0 </span></span><br><span class="line">		weights[start] =<span class="number">0</span>; </span><br><span class="line">        <span class="comment">//start前结点为-1，即不存在</span></span><br><span class="line">		pre[start] =-<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//主体程序</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt; num;i++) &#123;</span><br><span class="line">            <span class="comment">//start顶点前面已经初始化过了</span></span><br><span class="line">			<span class="keyword">if</span>(i == start)</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">            </span><br><span class="line">			<span class="comment">//设置2 个下标，用来记录最短边的顶点</span></span><br><span class="line">			<span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">			<span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">			</span><br><span class="line">            <span class="comment">//最小长度</span></span><br><span class="line">			<span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> INF;</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            <span class="comment">//从左往右对weights遍历， 找出最小边</span></span><br><span class="line">			<span class="keyword">while</span>(j &lt; num) &#123;</span><br><span class="line">				<span class="comment">//权重最小且不为0</span></span><br><span class="line">				<span class="keyword">if</span>(weights[j]!=<span class="number">0</span> &amp;&amp;weights[j] &lt; min) &#123;</span><br><span class="line">					min = weights[j];</span><br><span class="line">					k = j; <span class="comment">//赋值</span></span><br><span class="line">				&#125;</span><br><span class="line">				j++;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//把最小边相连的一个顶点设为0</span></span><br><span class="line">			weights[k] =<span class="number">0</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//重置权重（比较重要）</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> n=<span class="number">0</span>;n&lt;num;n++) &#123;</span><br><span class="line">                <span class="comment">//权重不为0， 且新的两顶点之间权重小于目前的</span></span><br><span class="line">				<span class="keyword">if</span>(weights[n]!=<span class="number">0</span> &amp;&amp; map[k][n] &lt; weights[n]) &#123;</span><br><span class="line">                    <span class="comment">//更新权重和前节点</span></span><br><span class="line">					pre[n] = k; </span><br><span class="line">					weights[n] = map[k][n];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//最小生成树信息</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;num;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(pre[i] !=-<span class="number">1</span>) &#123;</span><br><span class="line">				paths.put(data[pre[i]]+<span class="string">&quot;-&quot;</span>+data[i], map[pre[i]][i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//打印信息</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String, Integer&gt; p:paths.entrySet()) &#123;</span><br><span class="line">			count += p.getValue();</span><br><span class="line">			System.out.println(p.getKey()+<span class="string">&quot; : &quot;</span>+p.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//打印最终长度</span></span><br><span class="line">		System.out.println(<span class="string">&quot;Least : &quot;</span>+count);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210528231519025.png" alt="image-20210528231519025"></p>
<p>网友的另一种解法，使用优先队列</p>
<p>这里摘取网友的解法</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">1) Initialize keys of all vertices as infinite and </span><br><span class="line">parent of every vertex as -1.</span><br><span class="line"></span><br><span class="line">2) Create an empty priority_queue pq.  Every item</span><br><span class="line">of pq is a pair (weight, vertex). Weight (or </span><br><span class="line">key) is used used as first item  of pair</span><br><span class="line">as first item is by default used to compare</span><br><span class="line">two pairs.</span><br><span class="line"></span><br><span class="line">3) Initialize all vertices as not part of MST yet.</span><br><span class="line">We use boolean array inMST[] for this purpose.</span><br><span class="line">This array is required to make sure that an already</span><br><span class="line">considered vertex is not included in pq again. This</span><br><span class="line">is where Ptim&#x27;s implementation differs from Dijkstra.</span><br><span class="line">In Dijkstr&#x27;s algorithm, we didn&#x27;t need this array as</span><br><span class="line">distances always increase. We require this array here </span><br><span class="line">because key value of a processed vertex may decrease</span><br><span class="line">if not checked.</span><br><span class="line"></span><br><span class="line">4) Insert source vertex into pq and make its key as 0.</span><br><span class="line"></span><br><span class="line">5) While either pq doesn&#x27;t become empty </span><br><span class="line"> a) Extract minimum key vertex from pq. </span><br><span class="line">    Let the extracted vertex be u.</span><br><span class="line"></span><br><span class="line"> b) Include u in MST using inMST[u] = true.</span><br><span class="line"></span><br><span class="line"> c) Loop through all adjacent of u and do </span><br><span class="line">    following for every vertex v.</span><br><span class="line"></span><br><span class="line">        // If weight of edge (u,v) is smaller than</span><br><span class="line">        // key of v and v is not already in MST</span><br><span class="line">        If inMST[v] = false &amp;&amp; key[v] &gt; weight(u, v)</span><br><span class="line"></span><br><span class="line">            (i) Update key of v, i.e., do</span><br><span class="line">                  key[v] = weight(u, v)</span><br><span class="line">            (ii) Insert v into the pq </span><br><span class="line">            (iv) parent[v] = u</span><br><span class="line"></span><br><span class="line">6) Print MST edges using parent array.</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="进一步优化"><a href="#进一步优化" class="headerlink" title="进一步优化"></a>进一步优化</h3><p>Prim算法进一步优化：以二叉堆或者堆Heap的形式来寻找最小值，就像这样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=queue.size()/<span class="number">2</span>; i &gt;=<span class="number">0</span> ;i--) &#123; <span class="comment">/*Build Heap*/</span></span><br><span class="line">    BuildHeap(i, queue.size(), queue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于我们寻找min时，使用堆来寻找，时间复杂度为O(logN),</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java program for Prim&#x27;s MST for</span></span><br><span class="line"><span class="comment">// adjacency list representation of graph</span></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">prims</span> &#123;</span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">node1</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Stores destination vertex in adjacency list</span></span><br><span class="line">		<span class="type">int</span> dest;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Stores weight of a vertex in the adjacency list</span></span><br><span class="line">		<span class="type">int</span> weight;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Constructor</span></span><br><span class="line">		node1(<span class="type">int</span> a, <span class="type">int</span> b)</span><br><span class="line">		&#123;</span><br><span class="line">			dest = a;</span><br><span class="line">			weight = b;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Graph</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Number of vertices in the graph</span></span><br><span class="line">		<span class="type">int</span> V;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// List of adjacent nodes of a given vertex</span></span><br><span class="line">		LinkedList&lt;node1&gt;[] adj;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Constructor</span></span><br><span class="line">		Graph(<span class="type">int</span> e)</span><br><span class="line">		&#123;</span><br><span class="line">			V = e;</span><br><span class="line">			adj = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[V];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">o</span> <span class="operator">=</span> <span class="number">0</span>; o &lt; V; o++)</span><br><span class="line">				adj[o] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// class to represent a node in PriorityQueue</span></span><br><span class="line">	<span class="comment">// Stores a vertex and its corresponding</span></span><br><span class="line">	<span class="comment">// key value</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">node</span> &#123;</span><br><span class="line">		<span class="type">int</span> vertex;</span><br><span class="line">		<span class="type">int</span> key;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Comparator class created for PriorityQueue</span></span><br><span class="line">	<span class="comment">// returns 1 if node0.key &gt; node1.key</span></span><br><span class="line">	<span class="comment">// returns 0 if node0.key &lt; node1.key and</span></span><br><span class="line">	<span class="comment">// returns -1 otherwise</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">comparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;node&gt; &#123;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(node node0, node node1)</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> node0.key - node1.key;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// method to add an edge</span></span><br><span class="line">	<span class="comment">// between two vertices</span></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">addEdge</span><span class="params">(Graph graph, <span class="type">int</span> src, <span class="type">int</span> dest, <span class="type">int</span> weight)</span></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="type">node1</span> <span class="variable">node0</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">node1</span>(dest, weight);</span><br><span class="line">		<span class="type">node1</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">node1</span>(src, weight);</span><br><span class="line">		graph.adj[src].addLast(node0);</span><br><span class="line">		graph.adj[dest].addLast(node);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// method used to find the mst</span></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">prims_mst</span><span class="params">(Graph graph)</span></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Whether a vertex is in PriorityQueue or not</span></span><br><span class="line">		Boolean[] mstset = <span class="keyword">new</span> <span class="title class_">Boolean</span>[graph.V];</span><br><span class="line">		node[] e = <span class="keyword">new</span> <span class="title class_">node</span>[graph.V];</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Stores the parents of a vertex</span></span><br><span class="line">		<span class="type">int</span>[] parent = <span class="keyword">new</span> <span class="title class_">int</span>[graph.V];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">o</span> <span class="operator">=</span> <span class="number">0</span>; o &lt; graph.V; o++)</span><br><span class="line">			e[o] = <span class="keyword">new</span> <span class="title class_">node</span>();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">o</span> <span class="operator">=</span> <span class="number">0</span>; o &lt; graph.V; o++) &#123;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Initialize to false</span></span><br><span class="line">			mstset[o] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Initialize key values to infinity</span></span><br><span class="line">			e[o].key = Integer.MAX_VALUE;</span><br><span class="line">			e[o].vertex = o;</span><br><span class="line">			parent[o] = -<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Include the source vertex in mstset</span></span><br><span class="line">		mstset[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Set key value to 0</span></span><br><span class="line">		<span class="comment">// so that it is extracted first</span></span><br><span class="line">		<span class="comment">// out of PriorityQueue</span></span><br><span class="line">		e[<span class="number">0</span>].key = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Use TreeSet instead of PriorityQueue as the remove function of the PQ is O(n) in java.</span></span><br><span class="line">		TreeSet&lt;node&gt; queue = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;node&gt;(<span class="keyword">new</span> <span class="title class_">comparator</span>());</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">o</span> <span class="operator">=</span> <span class="number">0</span>; o &lt; graph.V; o++)</span><br><span class="line">			queue.add(e[o]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Loops until the queue is not empty</span></span><br><span class="line">		<span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Extracts a node with min key value</span></span><br><span class="line">			<span class="type">node</span> <span class="variable">node0</span> <span class="operator">=</span> queue.pollFirst();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Include that node into mstset</span></span><br><span class="line">			mstset[node0.vertex] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// For all adjacent vertex of the extracted vertex V</span></span><br><span class="line">			<span class="keyword">for</span> (node1 iterator : graph.adj[node0.vertex]) &#123;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// If V is in queue</span></span><br><span class="line">				<span class="keyword">if</span> (mstset[iterator.dest] == <span class="literal">false</span>) &#123;</span><br><span class="line">					<span class="comment">// If the key value of the adjacent vertex is</span></span><br><span class="line">					<span class="comment">// more than the extracted key</span></span><br><span class="line">					<span class="comment">// update the key value of adjacent vertex</span></span><br><span class="line">					<span class="comment">// to update first remove and add the updated vertex</span></span><br><span class="line">					<span class="keyword">if</span> (e[iterator.dest].key &gt; iterator.weight) &#123;</span><br><span class="line">						queue.remove(e[iterator.dest]);</span><br><span class="line">						e[iterator.dest].key = iterator.weight;</span><br><span class="line">						queue.add(e[iterator.dest]);</span><br><span class="line">						parent[iterator.dest] = node0.vertex;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Prints the vertex pair of mst</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">o</span> <span class="operator">=</span> <span class="number">1</span>; o &lt; graph.V; o++)</span><br><span class="line">			System.out.println(parent[o] + <span class="string">&quot; &quot;</span></span><br><span class="line">							+ <span class="string">&quot;-&quot;</span></span><br><span class="line">							+ <span class="string">&quot; &quot;</span> + o);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">V</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">		<span class="type">Graph</span> <span class="variable">graph</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Graph</span>(V);</span><br><span class="line"></span><br><span class="line">		<span class="type">prims</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">prims</span>();</span><br><span class="line"></span><br><span class="line">		e.addEdge(graph, <span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">1</span>, <span class="number">2</span>, <span class="number">8</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">1</span>, <span class="number">7</span>, <span class="number">11</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">2</span>, <span class="number">8</span>, <span class="number">2</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">3</span>, <span class="number">4</span>, <span class="number">9</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">3</span>, <span class="number">5</span>, <span class="number">14</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">4</span>, <span class="number">5</span>, <span class="number">10</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">6</span>, <span class="number">8</span>, <span class="number">6</span>);</span><br><span class="line">		e.addEdge(graph, <span class="number">7</span>, <span class="number">8</span>, <span class="number">7</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Method invoked</span></span><br><span class="line">		e.prims_mst(graph);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// This code is contributed by Vikash Kumar Dubey</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>Time Complexity:</strong> The time complexity of the above code&#x2F;algorithm looks O(V^2) as there are two nested while loops. If we take a closer look, we can observe that the statements in inner loop are executed O(V+E) times (similar to BFS). The inner loop has decreaseKey() operation which takes O(LogV) time. So overall time complexity is O(E+V)*O(LogV) which is O((E+V)*LogV) &#x3D; O(ELogV) (For a connected graph, V &#x3D; O(E))</p>
</blockquote>
<h3 id="Prim迷宫生成算法"><a href="#Prim迷宫生成算法" class="headerlink" title="Prim迷宫生成算法"></a>Prim迷宫生成算法</h3><p>Wiki ‘s Explanation </p>
<blockquote>
<h3 id="Randomized-Prim’s-algorithm"><a href="#Randomized-Prim’s-algorithm" class="headerlink" title="Randomized Prim’s algorithm"></a>Randomized Prim’s algorithm</h3><p>An animation of generating a 30 by 20 maze using Prim’s algorithm.</p>
<p>This algorithm is a randomized version of <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Prim's_algorithm">Prim’s algorithm</a>.</p>
<ol>
<li>Start with a grid full of walls.</li>
<li>Pick a cell, mark it as part of the maze. Add the walls of the cell to the wall list.</li>
<li>While there are walls in the list:<ol>
<li>Pick a random wall from the list. If only one of the two cells that the wall divides is visited, then:<ol>
<li>Make the wall a passage and mark the unvisited cell as part of the maze.</li>
<li>Add the neighboring walls of the cell to the wall list.</li>
</ol>
</li>
<li>Remove the wall from the list.</li>
</ol>
</li>
</ol>
<p>Note that simply running classical Prim’s on a graph with random edge weights would create mazes stylistically identical to Kruskal’s, because they are both minimal spanning tree algorithms. Instead, this algorithm introduces stylistic variation because the edges closer to the starting point have a lower effective weight.</p>
</blockquote>
<ol>
<li>开始让整个图充满墙</li>
</ol>
<p>我们假设所有的墙为0， 所有可以走的点为1，开始时就会生成这样一张图</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210530125025268.png" alt="image-20210530125025268"></p>
<ol start="2">
<li>选择一个点作为起始点，把临墙加入列表</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//墙类</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">wall</span>&#123;</span><br><span class="line">		<span class="type">int</span> row; <span class="comment">//墙所在的行</span></span><br><span class="line">		<span class="type">int</span> column; <span class="comment">//墙所在的列</span></span><br><span class="line">		<span class="type">int</span> a_r; <span class="comment">//连接墙一边的行</span></span><br><span class="line">		<span class="type">int</span> a_c;<span class="comment">//连接墙一边的列</span></span><br><span class="line">		<span class="type">int</span> b_r;<span class="comment">//连接墙另外一边的行</span></span><br><span class="line">		<span class="type">int</span> b_c;<span class="comment">//连接墙另外一边的列</span></span><br><span class="line">		wall(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> ar, <span class="type">int</span> ac, <span class="type">int</span> br, <span class="type">int</span> bc)&#123;</span><br><span class="line">			row =r;</span><br><span class="line">			column =c;</span><br><span class="line">			a_r = ar;</span><br><span class="line">			a_c =ac;</span><br><span class="line">			b_r =br;</span><br><span class="line">			b_c =bc;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>选取一个点为起始点，我们选取(1,1)这个点，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取临墙的方法</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> LinkedList&lt;wall&gt; <span class="title function_">GetNext</span><span class="params">(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">boolean</span>[][] isVisited)</span>&#123;</span><br><span class="line">		LinkedList&lt;wall&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		<span class="comment">//r 是点所在的行</span></span><br><span class="line">    	<span class="comment">//c 是点所在的列</span></span><br><span class="line">    <span class="comment">//这里要考虑到每种顶点周围墙的情况(我们的迷宫是封闭式的，即边界不能被打破)</span></span><br><span class="line">		<span class="keyword">if</span>(c&lt;isVisited[<span class="number">0</span>].length-<span class="number">2</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r, c+<span class="number">1</span>, r, c, r, c+<span class="number">2</span>));</span><br><span class="line">		<span class="keyword">if</span>(c&gt;<span class="number">1</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r, c-<span class="number">1</span>, r, c, r, c-<span class="number">2</span>));</span><br><span class="line">		<span class="keyword">if</span>(r&lt;isVisited.length-<span class="number">2</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r+<span class="number">1</span>,c, r, c, r+<span class="number">2</span>, c));</span><br><span class="line">		<span class="keyword">if</span>(r&gt;<span class="number">1</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r-<span class="number">1</span>,c, r, c, r-<span class="number">2</span>, c));</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li><p>当列表中还有墙时，随机从中选取一个墙</p>
<ol>
<li><p>如果这个墙只有一个单元格被访问过</p>
<p>从队列中删除这堵墙，让与这堵墙相连的另一边的点的其他墙加入到队列，</p>
</li>
<li><p>墙的两边都被访问过</p>
<p>直接删除这个墙</p>
</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">isVisited[start_r][start_c] = <span class="literal">true</span>;</span><br><span class="line">LinkedList&lt;wall&gt; list = GetNext(start_c, start_r, isVisited);</span><br><span class="line"><span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(!list.isEmpty()) &#123;</span><br><span class="line">	index = (<span class="type">int</span>)(list.size()*Math.random());</span><br><span class="line">	<span class="type">wall</span> <span class="variable">w</span> <span class="operator">=</span> list.get(index);</span><br><span class="line">	<span class="keyword">if</span>(!isVisited[w.b_r][w.b_c]) &#123;</span><br><span class="line">		list.remove(index);</span><br><span class="line">		map[w.row][w.column] =<span class="number">1</span>;</span><br><span class="line">		isVisited[w.b_r][w.b_c] = <span class="literal">true</span>; </span><br><span class="line">		list.addAll(GetNext(w.b_r, w.b_c, isVisited));</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(isVisited[w.a_r][w.a_c] &amp;&amp; isVisited[w.b_r][w.b_c]) &#123;</span><br><span class="line">		list.remove(index);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>最终代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrimMazeCreating</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		Prim(<span class="number">11</span>,<span class="number">11</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[][] Prim(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> start_r, <span class="type">int</span> start_c) &#123;</span><br><span class="line">		<span class="comment">//init map and isVisited</span></span><br><span class="line">		<span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[r][c];</span><br><span class="line">		<span class="type">boolean</span>[][] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[r][c];</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;map.length;i+=<span class="number">2</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;map[<span class="number">0</span>].length;j+=<span class="number">2</span>) &#123;</span><br><span class="line">				map[i][j]=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		isVisited[start_r][start_c] = <span class="literal">true</span>;</span><br><span class="line">		LinkedList&lt;wall&gt; list = GetNext(start_c, start_r, isVisited);</span><br><span class="line">		<span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(!list.isEmpty()) &#123;</span><br><span class="line">			index = (<span class="type">int</span>)(list.size()*Math.random());</span><br><span class="line">			<span class="type">wall</span> <span class="variable">w</span> <span class="operator">=</span> list.get(index);</span><br><span class="line">			<span class="keyword">if</span>(!isVisited[w.b_r][w.b_c]) &#123;</span><br><span class="line">				list.remove(index);</span><br><span class="line">				map[w.row][w.column] =<span class="number">1</span>;</span><br><span class="line">				isVisited[w.b_r][w.b_c] = <span class="literal">true</span>; </span><br><span class="line">				list.addAll(GetNext(w.b_r, w.b_c, isVisited));</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(isVisited[w.a_r][w.a_c] &amp;&amp; isVisited[w.b_r][w.b_c]) &#123;</span><br><span class="line">				list.remove(index);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		for(int[] n:map) &#123;</span></span><br><span class="line"><span class="comment">//		System.out.println(Arrays.toString(n));</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> map;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> LinkedList&lt;wall&gt; <span class="title function_">GetNext</span><span class="params">(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">boolean</span>[][] isVisited)</span>&#123;</span><br><span class="line">		LinkedList&lt;wall&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(c&lt;isVisited[<span class="number">0</span>].length-<span class="number">2</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r, c+<span class="number">1</span>, r, c, r, c+<span class="number">2</span>));</span><br><span class="line">		<span class="keyword">if</span>(c&gt;<span class="number">1</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r, c-<span class="number">1</span>, r, c, r, c-<span class="number">2</span>));</span><br><span class="line">		<span class="keyword">if</span>(r&lt;isVisited.length-<span class="number">2</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r+<span class="number">1</span>,c, r, c, r+<span class="number">2</span>, c));</span><br><span class="line">		<span class="keyword">if</span>(r&gt;<span class="number">1</span>)</span><br><span class="line">			list.push(<span class="keyword">new</span> <span class="title class_">wall</span>(r-<span class="number">1</span>,c, r, c, r-<span class="number">2</span>, c));</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">wall</span>&#123;</span><br><span class="line">		<span class="type">int</span> row; </span><br><span class="line">		<span class="type">int</span> column;</span><br><span class="line">		<span class="type">int</span> a_r;</span><br><span class="line">		<span class="type">int</span> a_c;</span><br><span class="line">		<span class="type">int</span> b_r;</span><br><span class="line">		<span class="type">int</span> b_c;</span><br><span class="line">		wall(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> ar, <span class="type">int</span> ac, <span class="type">int</span> br, <span class="type">int</span> bc)&#123;</span><br><span class="line">			row =r;</span><br><span class="line">			column =c;</span><br><span class="line">			a_r = ar;</span><br><span class="line">			a_c =ac;</span><br><span class="line">			b_r =br;</span><br><span class="line">			b_c =bc;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210530131103722.png" alt="image-20210530131103722"></p>
<p>把迷宫用可视化表示后的结果</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210530131155062.png" alt="image-20210530131155062"></p>
<h2 id="7-Kruskal算法"><a href="#7-Kruskal算法" class="headerlink" title="7. Kruskal算法"></a>7. Kruskal算法</h2><h3 id="介绍-16"><a href="#介绍-16" class="headerlink" title="介绍"></a>介绍</h3><p>克鲁斯卡尔算法和上面的Prim算法功能都一样，是找出最短总路径；但是Kruskal算法用另外一种方式来解决这个问题</p>
<ul>
<li><ol>
<li>创建每条边的List</li>
</ol>
</li>
<li><ol start="2">
<li>把边添加进List</li>
</ol>
</li>
<li><ol start="3">
<li>对List排序</li>
</ol>
</li>
<li><ol start="4">
<li>从头到尾读取List， 判断边的两个顶点是否形成回路（Disjoint Set并查集）</li>
</ol>
</li>
</ul>
<p>为了将顶点间的边进行排序，我们需要创建一个Edge类且实现comparable接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Edge也是一个静态内部类</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Edge</span>&lt;E&gt; <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Edge&lt;String&gt;&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> y;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> weight;</span><br><span class="line">    Edge(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> w)&#123;</span><br><span class="line">        x = a;</span><br><span class="line">        y = b;</span><br><span class="line">        weight = w;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">print</span><span class="params">(E[] data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data[x]+<span class="string">&quot; &quot;</span>+data[y]+<span class="string">&quot; : &quot;</span>+weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Edge&lt;String&gt; e)</span> &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="keyword">return</span> weight -e.weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>把所有可能加入list并排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span>[][] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[data.length][data.length];</span><br><span class="line">LinkedList&lt;Edge&lt;String&gt;&gt; list =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;weight.length;i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;weight.length;j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(isVisited[i][j] == <span class="literal">false</span> &amp;&amp; weight[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> <span class="title class_">Edge</span>&lt;String&gt;(i, j, weight[i][j]));</span><br><span class="line">            isVisited[i][j] = <span class="literal">true</span>;</span><br><span class="line">            isVisited[j][i] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Collections.sort(list);</span><br></pre></td></tr></table></figure>



<p>克鲁斯卡尔算法的精髓（并查集）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] ends = <span class="keyword">new</span> <span class="title class_">int</span>[data.length];</span><br><span class="line"><span class="keyword">for</span>(Edge&lt;String&gt; e:list) &#123;</span><br><span class="line">    <span class="keyword">if</span>(result.size() == data.length-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//克鲁斯卡尔算法精髓</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> GetEnd(ends, e.x);</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> GetEnd(ends, e.y);</span><br><span class="line">    <span class="comment">//判断终点是否是一样的，即是否形成回路</span></span><br><span class="line">    <span class="keyword">if</span>(m !=n) &#123;</span><br><span class="line">        ends[m]=n;</span><br><span class="line">        result.add(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取对应下标的终点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> ends</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> i</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">GetEnd</span><span class="params">(<span class="type">int</span>[] ends, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(ends[i] !=<span class="number">0</span>)</span><br><span class="line">        i = ends[i];</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>





<h3 id="代码实现-6"><a href="#代码实现-6" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Kruskar算法</span></span><br><span class="line"><span class="comment"> * 1. 创建每条边的List</span></span><br><span class="line"><span class="comment"> * 2. 把边添加进List</span></span><br><span class="line"><span class="comment"> * 3. 对List排序</span></span><br><span class="line"><span class="comment"> * 4. 从头到尾读取List， 判断边的两个顶点是否形成回路</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 23881</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KruskalAlgorithm</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		String[] data = &#123;&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;&#125;;</span></span><br><span class="line"><span class="comment">//		int[][] weight= &#123;</span></span><br><span class="line"><span class="comment">//				&#123;0,3,3,7&#125;,</span></span><br><span class="line"><span class="comment">//				&#123;3,0,2,4&#125;,</span></span><br><span class="line"><span class="comment">//				&#123;3,2,0,6&#125;,</span></span><br><span class="line"><span class="comment">//				&#123;7,4,6,0&#125;</span></span><br><span class="line"><span class="comment">//		&#125;;</span></span><br><span class="line">		</span><br><span class="line">		String[] data = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>,<span class="string">&quot;F&quot;</span>,<span class="string">&quot;G&quot;</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[][] weight= &#123;</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">12</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">16</span>,<span class="number">14</span>&#125;,</span><br><span class="line">				&#123;<span class="number">12</span>,<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">8</span>&#125;,</span><br><span class="line">				&#123;<span class="number">16</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">9</span>&#125;,</span><br><span class="line">				&#123;<span class="number">14</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		Kruskar(data, weight);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Kruskar</span><span class="params">(String[] data, <span class="type">int</span>[][] weight)</span> &#123;</span><br><span class="line">		<span class="type">boolean</span>[][] isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[data.length][data.length];</span><br><span class="line">		LinkedList&lt;Edge&lt;String&gt;&gt; list =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		LinkedList&lt;Edge&lt;String&gt;&gt; result =  <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;weight.length;i++) &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;weight.length;j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(isVisited[i][j] == <span class="literal">false</span> &amp;&amp; weight[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">					list.add(<span class="keyword">new</span> <span class="title class_">Edge</span>&lt;String&gt;(i, j, weight[i][j]));</span><br><span class="line">					isVisited[i][j] = <span class="literal">true</span>;</span><br><span class="line">					isVisited[j][i] = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		Collections.sort(list);</span><br><span class="line">		<span class="keyword">for</span>(Edge&lt;String&gt; e:list) </span><br><span class="line">			System.out.println(e.print(data));</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span>[] ends = <span class="keyword">new</span> <span class="title class_">int</span>[data.length];</span><br><span class="line">		<span class="keyword">for</span>(Edge&lt;String&gt; e:list) &#123;</span><br><span class="line">			<span class="keyword">if</span>(result.size() == data.length-<span class="number">1</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//克鲁斯卡尔算法精髓</span></span><br><span class="line">			<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> GetEnd(ends, e.x);</span><br><span class="line">			<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> GetEnd(ends, e.y);</span><br><span class="line">			<span class="comment">//判断终点是否是一样的，即是否形成回路</span></span><br><span class="line">			<span class="keyword">if</span>(m !=n) &#123;</span><br><span class="line">				ends[m]=n;</span><br><span class="line">				result.add(e);</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Edge&lt;String&gt; e:result) </span><br><span class="line">			System.out.println(e.print(data));</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取对应下标的终点</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> ends</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> i</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">GetEnd</span><span class="params">(<span class="type">int</span>[] ends, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(ends[i] !=<span class="number">0</span>)</span><br><span class="line">			i = ends[i];</span><br><span class="line">		<span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Edge</span>&lt;E&gt; <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Edge&lt;String&gt;&gt;&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> x;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> y;</span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> weight;</span><br><span class="line">		Edge(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> w)&#123;</span><br><span class="line">			x = a;</span><br><span class="line">			y = b;</span><br><span class="line">			weight = w;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> String <span class="title function_">print</span><span class="params">(E[] data)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> data[x]+<span class="string">&quot; &quot;</span>+data[y]+<span class="string">&quot; : &quot;</span>+weight;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Edge&lt;String&gt; e)</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">return</span> weight -e.weight;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="8-Dijkstra算法"><a href="#8-Dijkstra算法" class="headerlink" title="8. Dijkstra算法"></a>8. Dijkstra算法</h2><h3 id="介绍-17"><a href="#介绍-17" class="headerlink" title="介绍"></a>介绍</h3><p>Dijkstra算法是解决某个顶点到其他顶点的最小路径问题，（邮差问题）</p>
<p>有A, B,C,D,E,F,G七个村庄，此时派出6个邮差从某点出发给另外几个村庄送信，怎样才能让每个邮差最快到达指定的村庄？</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509193626257.png" alt="image-20210509193626257"></p>
<p>村庄连接问题，需要用图与广度优先的知识进行求解</p>
<p>构建一个Graph类，这个类用于存储，每个顶点的前访问顶点， PreNode[ ]， 这个和Disjoint Set很相似，同时我们还在这个Graph类里面存储每个顶点的访问情况与到指定顶点的最短距离</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Graph</span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="type">boolean</span>[] isVisited; <span class="comment">//存储是否被访问</span></span><br><span class="line">		<span class="keyword">private</span> <span class="type">int</span>[] PreNode; <span class="comment">//前结点集合</span></span><br><span class="line">		<span class="keyword">private</span> <span class="type">int</span>[] Dis; <span class="comment">//存储到每个顶点的最短距离</span></span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">infinity</span> <span class="operator">=</span> Integer.MAX_VALUE; <span class="comment">//常量</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">Graph</span><span class="params">(<span class="type">int</span> len)</span>&#123;</span><br><span class="line">            <span class="comment">//初始化变量</span></span><br><span class="line">			isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[len];</span><br><span class="line">			PreNode = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">			Dis = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line"></span><br><span class="line">			<span class="comment">//假设每个顶点的前一个顶点都是他们自己</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++) &#123;</span><br><span class="line">				PreNode[i] = -<span class="number">1</span>;</span><br><span class="line">				Dis[i] = infinity; <span class="comment">//假设开始到每个顶点的最短距离为无穷</span></span><br><span class="line">		</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//展示最短距离</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowDis</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(Arrays.toString(Dis));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//展示前顶点</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowPreNode</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(Arrays.toString(PreNode));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//展示访问的情况</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowVisited</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(Arrays.toString(isVisited));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	    <span class="comment">//获取某个顶点到目标的最短距离</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">GetDis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> Dis[n];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//设置某顶点到目标的最短距离</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SetDis</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">			Dis[n] =m;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//获取前访问顶点</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">GetPreNode</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> PreNode[n];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//设置前访问顶点</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SetPreNode</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">			PreNode[n] =m;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//获取顶点的访问状态</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">GetVisited</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> isVisited[n];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//设置顶点的访问状态</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SetVisited</span><span class="params">(<span class="type">int</span> n, <span class="type">boolean</span> rst)</span> &#123;</span><br><span class="line">			isVisited[n] = rst;</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>





<p><strong>Dijkstra 算法精髓</strong></p>
<p>首先我们要从一个顶点开始，获得与这个顶点连接的顶点</p>
<p>（考虑到之后可能会使用广度优先，我们这里用LinkedList来存储顶点数据）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Graph</span> <span class="variable">graph</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Graph</span>(matrix[<span class="number">0</span>].length); <span class="comment">//初始化一个Graph类</span></span><br><span class="line">graph.SetDis(index, <span class="number">0</span>); <span class="comment">//index是目标顶点，所以该顶点到自身的距离为0</span></span><br><span class="line">LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(); <span class="comment">//存储顶点的队列</span></span><br><span class="line"><span class="type">int</span>[] ContainList = <span class="keyword">new</span> <span class="title class_">int</span>[matrix[<span class="number">0</span>].length]; <span class="comment">//存储顶点是否在队列中 （用于减少时间复杂度）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//把第一个顶点压入队列</span></span><br><span class="line">list.push(index);</span><br><span class="line">ContainList[index] = <span class="number">1</span>; <span class="comment">//0 表示不在队列中， 1 表示在队列中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//暂时变量</span></span><br><span class="line"><span class="type">int</span> dis=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//结束的条件就是队列为空</span></span><br><span class="line"><span class="keyword">while</span>(!list.isEmpty()) &#123;</span><br><span class="line">    temp = list.pop(); <span class="comment">//从队列中pop一个元素</span></span><br><span class="line">    ContainList[temp] =<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//寻找与此元素相连的顶点</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;matrix[temp].length;i++) &#123;</span><br><span class="line">        <span class="comment">//判断条件，相连的顶点不能是自己的preNode,同时要与其相连的顶点</span></span><br><span class="line">        <span class="keyword">if</span>(matrix[temp][i]!=<span class="number">0</span> &amp;&amp; graph.GetPreNode(i)!=temp) &#123;</span><br><span class="line">            <span class="comment">//获取此时的路径长度</span></span><br><span class="line">            dis = matrix[temp][i]+graph.GetDis(temp);</span><br><span class="line">            <span class="comment">//如果这个长度小于已有的长度</span></span><br><span class="line">            <span class="keyword">if</span>(dis&lt;graph.GetDis(i)) &#123;</span><br><span class="line">                <span class="comment">//对原顶点的长度进行替换</span></span><br><span class="line">                graph.SetPreNode(i, temp);</span><br><span class="line">                <span class="comment">//修改preNode</span></span><br><span class="line">                graph.SetDis(i, dis);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">//能够被压入队列的条件：没被访问过且不在队列中</span></span><br><span class="line">                <span class="keyword">if</span>(!graph.GetVisited(i) &amp;&amp; ContainList[i]==<span class="number">0</span>) &#123;</span><br><span class="line">                    list.push(i);</span><br><span class="line">                     ContainList[i] =<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//一个顶点完成遍历后，将其设置为已访问</span></span><br><span class="line">    graph.SetVisited(temp, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印最终结果</span></span><br><span class="line"> graph.ShowDis();</span><br></pre></td></tr></table></figure>



<p>最终</p>
<h3 id="代码实现-7"><a href="#代码实现-7" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DijkstraAlgorithm2</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		String[] data = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>,<span class="string">&quot;F&quot;</span>,<span class="string">&quot;G&quot;</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[][] matrix = &#123;</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>&#125;,</span><br><span class="line">				&#123;<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>&#125;,</span><br><span class="line">				&#123;<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>&#125;,</span><br><span class="line">				&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	</span><br><span class="line">		Dijkstra(matrix, <span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*结束条件：队列为空</span></span><br><span class="line"><span class="comment">	 * 判断条件：not preNode</span></span><br><span class="line"><span class="comment">	 * 	改变Dis与Pre条件</span></span><br><span class="line"><span class="comment">	 * 		小于已有距离</span></span><br><span class="line"><span class="comment">	 * 	压入条件</span></span><br><span class="line"><span class="comment">	 * 		not visited 且 不在队列中</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * 遍历完一个点后，将此点改为isvisited</span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//index is the start vertex, matrix is the adjacent matrix(graph)</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Dijkstra</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="type">Graph</span> <span class="variable">graph</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Graph</span>(matrix[<span class="number">0</span>].length); <span class="comment">//初始化一个Graph类</span></span><br><span class="line">        graph.SetDis(index, <span class="number">0</span>); <span class="comment">//index是目标顶点，所以该顶点到自身的距离为0</span></span><br><span class="line">        LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(); <span class="comment">//存储顶点的队列</span></span><br><span class="line">	   <span class="type">int</span>[] ContainList = <span class="keyword">new</span> <span class="title class_">int</span>[matrix[<span class="number">0</span>].length];</span><br><span class="line">        <span class="comment">//把第一个顶点压入队列</span></span><br><span class="line">        list.push(index);</span><br><span class="line">        ContainList[index] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//暂时变量</span></span><br><span class="line">        <span class="type">int</span> dis=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//结束的条件就是队列为空</span></span><br><span class="line">        <span class="keyword">while</span>(!list.isEmpty()) &#123;</span><br><span class="line">            temp = list.pop(); <span class="comment">//从队列中pop一个元素</span></span><br><span class="line">            ContainList[temp] =<span class="number">0</span>;</span><br><span class="line">            <span class="comment">//寻找与此元素相连的顶点</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;matrix[temp].length;i++) &#123;</span><br><span class="line">                <span class="comment">//判断条件，相连的顶点不能是自己的preNode,同时要与其相连的顶点</span></span><br><span class="line">                <span class="keyword">if</span>(matrix[temp][i]!=<span class="number">0</span> &amp;&amp; graph.GetPreNode(i)!=temp) &#123;</span><br><span class="line">                    <span class="comment">//获取此时的路径长度</span></span><br><span class="line">                    dis = matrix[temp][i]+graph.GetDis(temp);</span><br><span class="line">                    <span class="comment">//如果这个长度小于已有的长度</span></span><br><span class="line">                    <span class="keyword">if</span>(dis&lt;graph.GetDis(i)) &#123;</span><br><span class="line">                        <span class="comment">//对原顶点的长度进行替换</span></span><br><span class="line">                        graph.SetPreNode(i, temp);</span><br><span class="line">                        <span class="comment">//修改preNode</span></span><br><span class="line">                        graph.SetDis(i, dis);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//能够被压入队列的条件：没被访问过且不在队列中</span></span><br><span class="line">                        <span class="keyword">if</span>(!graph.GetVisited(i) &amp;&amp; ContainList[i]==<span class="number">0</span>) &#123;</span><br><span class="line">                            list.push(i);</span><br><span class="line">                             ContainList[i] =<span class="number">1</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//一个顶点完成遍历后，将其设置为已访问</span></span><br><span class="line">            graph.SetVisited(temp, <span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">         graph.ShowDis();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Graph</span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="type">boolean</span>[] isVisited; <span class="comment">//存储是否被访问</span></span><br><span class="line">		<span class="keyword">private</span> <span class="type">int</span>[] PreNode; <span class="comment">//前结点集合</span></span><br><span class="line">		<span class="keyword">private</span> <span class="type">int</span>[] Dis; <span class="comment">//存储到每个顶点的最短距离</span></span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">infinity</span> <span class="operator">=</span> Integer.MAX_VALUE; <span class="comment">//常量</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">Graph</span><span class="params">(<span class="type">int</span> len)</span>&#123;</span><br><span class="line">            <span class="comment">//初始化变量</span></span><br><span class="line">			isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[len];</span><br><span class="line">			PreNode = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">			Dis = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line"></span><br><span class="line">			<span class="comment">//假设每个顶点的前一个顶点都是他们自己</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++) &#123;</span><br><span class="line">				PreNode[i] = -<span class="number">1</span>;</span><br><span class="line">				Dis[i] = infinity; <span class="comment">//假设开始到每个顶点的最短距离为无穷</span></span><br><span class="line">		</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//展示最短距离</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowDis</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(Arrays.toString(Dis));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//展示前顶点</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowPreNode</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(Arrays.toString(PreNode));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//展示访问的情况</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowVisited</span><span class="params">()</span> &#123;</span><br><span class="line">			System.out.println(Arrays.toString(isVisited));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	    <span class="comment">//获取某个顶点到目标的最短距离</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">GetDis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> Dis[n];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//设置某顶点到目标的最短距离</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SetDis</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">			Dis[n] =m;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//获取前访问顶点</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">GetPreNode</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> PreNode[n];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//设置前访问顶点</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SetPreNode</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">			PreNode[n] =m;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//获取顶点的访问状态</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">GetVisited</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> isVisited[n];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">    	<span class="comment">//设置顶点的访问状态</span></span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SetVisited</span><span class="params">(<span class="type">int</span> n, <span class="type">boolean</span> rst)</span> &#123;</span><br><span class="line">			isVisited[n] = rst;</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509193843994.png" alt="image-20210509193843994"></p>
<h2 id="9-Floyd算法"><a href="#9-Floyd算法" class="headerlink" title="9. Floyd算法"></a>9. Floyd算法</h2><h3 id="介绍-18"><a href="#介绍-18" class="headerlink" title="介绍"></a>介绍</h3><p>Floyd算法解决的问题和上面Dijkstra算法解决的问题一样；Floyd算法更容易理解，但是它的运行效率没有Dijkstra算法高</p>
<p>Floyd算法使用3个for循环进行嵌套</p>
<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210509193750069.png" alt="image-20210509193750069"></p>
<h3 id="代码实现-8"><a href="#代码实现-8" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FloydAlgorithm</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">int</span> N=<span class="number">255</span>; <span class="comment">//N表示两个顶点间不相连</span></span><br><span class="line">		String[] data = &#123;<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;E&quot;</span>,<span class="string">&quot;F&quot;</span>,<span class="string">&quot;G&quot;</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[][] matrix = &#123;</span><br><span class="line">				&#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">7</span>,N,N,N,<span class="number">2</span>&#125;,</span><br><span class="line">				&#123;<span class="number">5</span>,<span class="number">0</span>,N,<span class="number">9</span>,N,N,<span class="number">3</span>&#125;,</span><br><span class="line">				&#123;<span class="number">7</span>,N,<span class="number">0</span>,N,<span class="number">8</span>,N,N&#125;,</span><br><span class="line">				&#123;N,<span class="number">9</span>,N,<span class="number">0</span>,N,<span class="number">4</span>,N&#125;,</span><br><span class="line">				&#123;N,N,<span class="number">8</span>,N,<span class="number">0</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,</span><br><span class="line">				&#123;N,N,N,<span class="number">4</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">6</span>&#125;,</span><br><span class="line">				&#123;<span class="number">2</span>,<span class="number">3</span>,N,N,<span class="number">4</span>,<span class="number">6</span>,<span class="number">0</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		Floyd(data, matrix);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="keyword">void</span> <span class="title function_">Floyd</span><span class="params">(E[] d, <span class="type">int</span>[][] m )</span> &#123;</span><br><span class="line">		Graph&lt;E&gt; graph = <span class="keyword">new</span> <span class="title class_">Graph</span>&lt;&gt;(d, m);</span><br><span class="line"><span class="comment">//		graph.showGraph();</span></span><br><span class="line">		graph.start();</span><br><span class="line">		graph.showGraph();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Graph</span>&lt;E&gt;&#123;</span><br><span class="line">		<span class="keyword">private</span> E[] data;</span><br><span class="line">		<span class="keyword">private</span> <span class="type">int</span>[][] matrix;</span><br><span class="line">		Graph(E[] d, <span class="type">int</span>[][] m)&#123;</span><br><span class="line">			</span><br><span class="line">			data = d;</span><br><span class="line">			matrix  = <span class="keyword">new</span> <span class="title class_">int</span>[data.length][data.length];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;data.length;i++) &#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;data.length;j++) &#123;</span><br><span class="line">					matrix[i][j] = m[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showGraph</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span>[] m:matrix)</span><br><span class="line">				System.out.println(Arrays.toString(m));</span><br><span class="line">			System.out.println();</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span>[] m:rst)</span><br><span class="line">				System.out.println(Arrays.toString(m));</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">			<span class="comment">//对中间顶点遍历，k是中间顶点的下标</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;data.length;k++) &#123;</span><br><span class="line">				<span class="comment">//从i顶点出发</span></span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;data.length;i++) &#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;data.length;j++) &#123;</span><br><span class="line">						len = matrix[i][k] + matrix[k][j]; <span class="comment">//从i出发，经过k，到达j的距离</span></span><br><span class="line">						<span class="keyword">if</span>(len &lt; matrix[i][j]) &#123;</span><br><span class="line">							matrix[i][j] = len; </span><br><span class="line">						&#125;</span><br><span class="line">							</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/image-20210420170808831.png" alt="image-20210420170808831"></p>
<h2 id="10-马踏棋盘算法"><a href="#10-马踏棋盘算法" class="headerlink" title="10. 马踏棋盘算法"></a>10. 马踏棋盘算法</h2><h3 id="介绍-19"><a href="#介绍-19" class="headerlink" title="介绍"></a>介绍</h3><p>马踏棋盘问题，也称骑士周游问题，在国际象棋中，马只能走日，从某点出发，怎样才能走完棋盘上每个点，要求不重复？</p>
<p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage.mamicode.com%2Finfo%2F202004%2F20200426140756952117.png&refer=http%3A%2F%2Fimage.mamicode.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1621422824&t=3d94056536f8433f25ea731348608de9" alt="点击查看源网页"></p>
<p>马踏棋盘是典型的回溯问题，和迷宫问题属于同一类别</p>
<p>我们要考虑马的移动条件，找出下个能走的点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Point&gt; <span class="title function_">GetNext</span><span class="params">(Point curPoint)</span> &#123;</span><br><span class="line">		ArrayList&lt;Point&gt; ps = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="type">int</span> <span class="variable">X</span> <span class="operator">=</span> curPoint.x; <span class="comment">//表示列</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">Y</span> <span class="operator">=</span> curPoint.y; <span class="comment">//表示行</span></span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">2</span>&gt;=<span class="number">0</span> &amp;&amp; Y-<span class="number">1</span> &gt;= <span class="number">0</span>) </span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">2</span>, Y-<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">1</span> &gt;=<span class="number">0</span> &amp;&amp; Y-<span class="number">2</span> &gt;=<span class="number">0</span>)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">1</span>, Y-<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">1</span> &lt; coloumn &amp;&amp; Y-<span class="number">2</span> &gt;=<span class="number">0</span>)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">1</span>, Y-<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">2</span> &lt; coloumn &amp;&amp; Y-<span class="number">1</span> &gt;= <span class="number">0</span>)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">2</span>, Y-<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">2</span>&gt;=<span class="number">0</span> &amp;&amp; Y+<span class="number">1</span> &lt; row) </span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">2</span>, Y+<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">1</span> &gt;=<span class="number">0</span> &amp;&amp; Y+<span class="number">2</span> &lt; row)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">1</span>, Y+<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">1</span> &lt;coloumn &amp;&amp; Y+<span class="number">2</span> &lt; row)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">1</span>, Y+<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">2</span> &lt; coloumn &amp;&amp; Y+<span class="number">1</span> &lt; row)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">2</span>, Y+<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> ps;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>





<p>马在棋盘上走，遇到不能走的点要回溯，回溯需要递归的知识</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Run</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> step)</span> &#123;</span><br><span class="line">	ChessBoard[y][x] = step; <span class="comment">//给棋盘相应的位置标step(步数)</span></span><br><span class="line">	isVisited[y][x] = <span class="literal">true</span>;</span><br><span class="line">	ArrayList&lt;Point&gt; ps = GetNext(<span class="keyword">new</span> <span class="title class_">Point</span>(x, y));</span><br><span class="line">	sort(ps);</span><br><span class="line">	<span class="keyword">while</span>(!ps.isEmpty())&#123;</span><br><span class="line">		<span class="type">Point</span> <span class="variable">p</span> <span class="operator">=</span> ps.remove(<span class="number">0</span>); <span class="comment">// 取出第一个point,下一步可以去走的点</span></span><br><span class="line">		<span class="keyword">if</span>(!isVisited[p.y][p.x])	</span><br><span class="line">			Run(p.x, p.y, step+<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//发现走不了，而且还没走完棋盘上每个点，将此点标为未访问，回溯</span></span><br><span class="line">	<span class="keyword">if</span>(step &lt; row*coloumn &amp;&amp; ! finish) &#123;</span><br><span class="line">		</span><br><span class="line">		ChessBoard[y][x] = <span class="number">0</span>;</span><br><span class="line">		isVisited[y][x] = <span class="literal">false</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="comment">//走完，标为结束</span></span><br><span class="line">		finish = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p> *1. 创建一个二维数组，作为棋盘<br> *2. 将当前位置设置为已访问，根据当前位置计算马儿还能走哪些位置（最多有8个）， 并放入到ArrayList中<br> *3. 遍历ArrayList中的所有位置，看看哪个可以走通<br> *4. 判断马是否完成任务，step，用计数器来统计，最终步数为36，完成不了，设置为0</p>
<h3 id="代码实现-9"><a href="#代码实现-9" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.Point;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 马踏棋盘算法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 23881</span></span><br><span class="line"><span class="comment"> *1. 创建一个二维数组，作为棋盘</span></span><br><span class="line"><span class="comment"> *2. 将当前位置设置为已访问，根据当前位置计算马儿还能走哪些位置（最多有8个）， 并放入到ArrayList中</span></span><br><span class="line"><span class="comment"> *3. 遍历ArrayList中的所有位置，看看哪个可以走通</span></span><br><span class="line"><span class="comment"> *4. 判断马是否完成任务，step，用计数器来统计，最终步数为36，完成不了，设置为0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChessHorseAlgorithm</span> &#123;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> coloumn;<span class="comment">//列</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> row; <span class="comment">//行</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] ChessBoard;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span>[][] isVisited;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">finish</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		Start(<span class="number">8</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> c 棋盘的列数</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> r 棋盘的行数</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> x 马位于第x列</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> y 马位于第y行</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> step 步数</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Start</span><span class="params">(<span class="type">int</span> c, <span class="type">int</span> r, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">		coloumn = c;</span><br><span class="line">		row = r;</span><br><span class="line">		ChessBoard = <span class="keyword">new</span> <span class="title class_">int</span>[row][coloumn];</span><br><span class="line">		isVisited = <span class="keyword">new</span> <span class="title class_">boolean</span>[row][coloumn];</span><br><span class="line">		Run(x, y, <span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span>[] cb: ChessBoard)</span><br><span class="line">			System.out.println(Arrays.toString(cb));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Run</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> step)</span> &#123;</span><br><span class="line">		ChessBoard[y][x] = step; <span class="comment">//给棋盘相应的位置标step(步数)</span></span><br><span class="line">		isVisited[y][x] = <span class="literal">true</span>;</span><br><span class="line">		ArrayList&lt;Point&gt; ps = GetNext(<span class="keyword">new</span> <span class="title class_">Point</span>(x, y));</span><br><span class="line">		sort(ps);</span><br><span class="line">		<span class="keyword">while</span>(!ps.isEmpty())&#123;</span><br><span class="line">			<span class="type">Point</span> <span class="variable">p</span> <span class="operator">=</span> ps.remove(<span class="number">0</span>); <span class="comment">// 取出第一个point,下一步可以去走的点</span></span><br><span class="line">			<span class="keyword">if</span>(!isVisited[p.y][p.x])	</span><br><span class="line">				Run(p.x, p.y, step+<span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(step &lt; row*coloumn &amp;&amp; ! finish) &#123;</span><br><span class="line">			</span><br><span class="line">			ChessBoard[y][x] = <span class="number">0</span>;</span><br><span class="line">			isVisited[y][x] = <span class="literal">false</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			finish = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(ArrayList&lt;Point&gt; ps)</span> &#123;</span><br><span class="line">		ps.sort(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Point&gt;() &#123;</span><br><span class="line"></span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Point arg0, Point arg1)</span> &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">				<span class="keyword">return</span> GetNext(arg0).size() - GetNext(arg1).size();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Point&gt; <span class="title function_">GetNext</span><span class="params">(Point curPoint)</span> &#123;</span><br><span class="line">		ArrayList&lt;Point&gt; ps = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="type">int</span> <span class="variable">X</span> <span class="operator">=</span> curPoint.x; <span class="comment">//表示列</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">Y</span> <span class="operator">=</span> curPoint.y; <span class="comment">//表示行</span></span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">2</span>&gt;=<span class="number">0</span> &amp;&amp; Y-<span class="number">1</span> &gt;= <span class="number">0</span>) </span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">2</span>, Y-<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">1</span> &gt;=<span class="number">0</span> &amp;&amp; Y-<span class="number">2</span> &gt;=<span class="number">0</span>)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">1</span>, Y-<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">1</span> &lt; coloumn &amp;&amp; Y-<span class="number">2</span> &gt;=<span class="number">0</span>)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">1</span>, Y-<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">2</span> &lt; coloumn &amp;&amp; Y-<span class="number">1</span> &gt;= <span class="number">0</span>)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">2</span>, Y-<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">2</span>&gt;=<span class="number">0</span> &amp;&amp; Y+<span class="number">1</span> &lt; row) </span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">2</span>, Y+<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X-<span class="number">1</span> &gt;=<span class="number">0</span> &amp;&amp; Y+<span class="number">2</span> &lt; row)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X-<span class="number">1</span>, Y+<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">1</span> &lt;coloumn &amp;&amp; Y+<span class="number">2</span> &lt; row)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">1</span>, Y+<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(X+<span class="number">2</span> &lt; coloumn &amp;&amp; Y+<span class="number">1</span> &lt; row)</span><br><span class="line">			ps.add(<span class="keyword">new</span> <span class="title class_">Point</span>(X+<span class="number">2</span>, Y+<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> ps;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="算法补充"><a href="#算法补充" class="headerlink" title="算法补充"></a>算法补充</h1><h2 id="A-算法"><a href="#A-算法" class="headerlink" title="A* 算法"></a>A* 算法</h2><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>A<em>搜索算法和Dijkestra算法类似，A</em>算法也是使用一个优先队列（优先队列会自我构建二叉min堆），我们每次poll一个元素，这个元素都是priority最小的，当然这个priority是根据我们存入队列中的数据得来的，比如我们往优先队列中存入node节点，这个node节点要实现comparable接口，这样priority queue在添加时会自动排序</p>
<p>在A*算法中，我们要准备2个队列（open_list与close_list）,open_list用于存储可能的节点，而close_list用于存储已经走过且走得通的节点</p>
<p>node节点判断大小的依据是预期代价（G_cost）和实际代价（H_cost）,G_cost可以是此时节点到终点的距离（为了方便计算，我们只取三角形的两边），H_cost可以是从起点到目前节点走过的距离；根据他们代价总和（F&#x3D;G+H）， 我们就能选取最小代价的点</p>
<p>具体思路</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">	a. 遍历 open list ，查找 F 值最小的节点，把它作为当前要处理的节点。</span><br><span class="line">b. 把这个节点移到 close list 。</span><br><span class="line">c. 对当前方格的 4个相邻方格的每一个方格？</span><br><span class="line">◆ 如果它是不可抵达的或者它在 close list 中，忽略它。否则，做如下操作。</span><br><span class="line">◆ 如果它不在 open list 中，把它加入 open list ，并且把当前方格设置为它的父亲，记录该方格的 F ， G 和 H 值。</span><br><span class="line">d. 停止，当你</span><br><span class="line">◆ 把终点加入到了 open list 中，此时路径已经找到了，或者</span><br><span class="line">◆ 查找终点失败，并且 open list 是空的，此时没有路径。</span><br><span class="line">3. 保存路径。从终点开始，每个方格沿着父节点移动直至起点，这就是你的路径。</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="代码实现-10"><a href="#代码实现-10" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> algorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> modifier.StaticStudy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AstarAlgorithm</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">int</span>[][] map = &#123;</span><br><span class="line">				&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">				&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">				&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">				&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">				&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">				&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;</span><br><span class="line">		&#125;;</span><br><span class="line"><span class="comment">//		int[][] map = PrimMazeCreating.Prim(11, 11, 1, 1);</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span>[] a:map) &#123;</span><br><span class="line">			System.out.println(Arrays.toString(a));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println();</span><br><span class="line"><span class="comment">//		A_Star(map, 1, 1, map.length-2, map[0].length-2);</span></span><br><span class="line">		A_Star(map, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">6</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span>[] a:map) &#123;</span><br><span class="line">			System.out.println(Arrays.toString(a));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Node&gt;&#123;</span><br><span class="line">		Node parent;</span><br><span class="line">		<span class="type">int</span> row;</span><br><span class="line">		<span class="type">int</span> column;</span><br><span class="line">		<span class="type">int</span> G_cost;</span><br><span class="line">		<span class="type">int</span> H_cost;</span><br><span class="line">		Node(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> g, <span class="type">int</span> h, Node p)&#123;</span><br><span class="line">			row = r;</span><br><span class="line">			column =c;</span><br><span class="line">			G_cost = g;</span><br><span class="line">			H_cost =h;</span><br><span class="line">			parent =p;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Node b)</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>.G_cost+<span class="built_in">this</span>.H_cost-b.G_cost-b.H_cost;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> (Node) obj;</span><br><span class="line">			<span class="keyword">return</span> temp.row == <span class="built_in">this</span>.row &amp;&amp; temp.column == <span class="built_in">this</span>.column;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">A_Star</span><span class="params">(<span class="type">int</span>[][] map, <span class="type">int</span> begin_r, <span class="type">int</span> begin_c,<span class="type">int</span> end_r, <span class="type">int</span> end_c)</span> &#123;</span><br><span class="line">		PriorityQueue&lt;Node&gt; open_list = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(); </span><br><span class="line">		PriorityQueue&lt;Node&gt; close_list = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();</span><br><span class="line">		<span class="type">int</span>[][] Node_Status = <span class="keyword">new</span> <span class="title class_">int</span>[map.length][map[<span class="number">0</span>].length];</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 0 means the node is neigher in open_list nor in close_list</span></span><br><span class="line"><span class="comment">		 * 1 means the node is in open_list</span></span><br><span class="line"><span class="comment">		 * 2 means the node is in close_list</span></span><br><span class="line"><span class="comment">		 * </span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">temp_g</span> <span class="operator">=</span> Get_G(begin_r, begin_c, end_r, end_c);</span><br><span class="line">		<span class="type">int</span> <span class="variable">temp_h</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		open_list.add(<span class="keyword">new</span> <span class="title class_">Node</span>(begin_r, begin_c, temp_g, temp_h, <span class="literal">null</span>));</span><br><span class="line">		Node_Status[begin_r][begin_c] = <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 	a. 遍历 open list ，查找 F 值最小的节点，把它作为当前要处理的节点。</span></span><br><span class="line"><span class="comment">			b. 把这个节点移到 close list 。</span></span><br><span class="line"><span class="comment">			c. 对当前方格的 4个相邻方格的每一个方格？</span></span><br><span class="line"><span class="comment">			◆ 如果它是不可抵达的或者它在 close list 中，忽略它。否则，做如下操作。</span></span><br><span class="line"><span class="comment">			◆ 如果它不在 open list 中，把它加入 open list ，并且把当前方格设置为它的父亲，记录该方格的 F ， G 和 H 值。</span></span><br><span class="line"><span class="comment">			d. 停止，当你</span></span><br><span class="line"><span class="comment">			◆ 把终点加入到了 open list 中，此时路径已经找到了，或者</span></span><br><span class="line"><span class="comment">			◆ 查找终点失败，并且 open list 是空的，此时没有路径。</span></span><br><span class="line"><span class="comment">			3. 保存路径。从终点开始，每个方格沿着父节点移动直至起点，这就是你的路径。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">int</span> <span class="variable">wall</span> <span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span>(!open_list.isEmpty()) &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> open_list.poll();</span><br><span class="line">			close_list.add(temp); <span class="comment">// push the node into close_list</span></span><br><span class="line">			<span class="keyword">if</span>(temp.row == end_r&amp;&amp; temp.column == end_c)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			Node_Status[temp.row][temp.column] = <span class="number">2</span>; <span class="comment">// update the status of this node</span></span><br><span class="line">			<span class="type">int</span> <span class="variable">parent_h</span> <span class="operator">=</span> temp.H_cost;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//◆ 如果它是不可抵达的或者它在 close list 中，忽略它。否则，做如下操作</span></span><br><span class="line">			<span class="keyword">if</span>(map[temp.row-<span class="number">1</span>][temp.column]!=wall  &amp;&amp; Node_Status[temp.row-<span class="number">1</span>][temp.column] ==<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="comment">//◆ 如果它不在 open list 中，把它加入 open list ，并且把当前方格设置为它的父亲，记录该方格的 F ， G 和 H 值</span></span><br><span class="line">				<span class="type">Node</span> <span class="variable">nn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(temp.row-<span class="number">1</span>, temp.column, Get_G(temp.row-<span class="number">1</span>, temp.column, end_r, end_c), parent_h+<span class="number">1</span>, temp);</span><br><span class="line"><span class="comment">//				if(Node_Status[temp.row-1][temp.column] ==0)</span></span><br><span class="line">					open_list.add(nn);</span><br><span class="line">					map[temp.row-<span class="number">1</span>][temp.column] =<span class="number">3</span>;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(map[temp.row+<span class="number">1</span>][temp.column]!=wall  &amp;&amp; Node_Status[temp.row+<span class="number">1</span>][temp.column] ==<span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">				<span class="type">Node</span> <span class="variable">nn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(temp.row+<span class="number">1</span>, temp.column, Get_G(temp.row+<span class="number">1</span>, temp.column, end_r, end_c), parent_h+<span class="number">1</span>, temp);</span><br><span class="line"><span class="comment">//				if(Node_Status[temp.row+1][temp.column] ==0)</span></span><br><span class="line">					open_list.add(nn);</span><br><span class="line">					map[temp.row+<span class="number">1</span>][temp.column] =<span class="number">3</span>;</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">			<span class="keyword">if</span>(map[temp.row][temp.column-<span class="number">1</span>]!=wall  &amp;&amp; Node_Status[temp.row][temp.column-<span class="number">1</span>] ==<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="type">Node</span> <span class="variable">nn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(temp.row, temp.column-<span class="number">1</span>, Get_G(temp.row, temp.column-<span class="number">1</span>, end_r, end_c), parent_h+<span class="number">1</span>, temp);</span><br><span class="line"><span class="comment">//				if(Node_Status[temp.row][temp.column-1] ==0)</span></span><br><span class="line">					open_list.add(nn);</span><br><span class="line">					map[temp.row][temp.column-<span class="number">1</span>] =<span class="number">3</span>;</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">			<span class="keyword">if</span>(map[temp.row][temp.column+<span class="number">1</span>]!=wall  &amp;&amp; Node_Status[temp.row][temp.column+<span class="number">1</span>] ==<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="type">Node</span> <span class="variable">nn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(temp.row, temp.column+<span class="number">1</span>, Get_G(temp.row, temp.column+<span class="number">1</span>, end_r, end_c), parent_h+<span class="number">1</span>, temp);</span><br><span class="line"><span class="comment">//				if(Node_Status[temp.row][temp.column+1] ==0)</span></span><br><span class="line">					open_list.add(nn);</span><br><span class="line">					map[temp.row][temp.column+<span class="number">1</span>]=<span class="number">3</span>;</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	Object[] arr = close_list.toArray();</span><br><span class="line">	<span class="type">Node</span> <span class="variable">p</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span>(Node)arr[i];</span><br><span class="line">		<span class="keyword">if</span>(temp.row == end_r &amp;&amp; temp.column == end_c) &#123;</span><br><span class="line">			p = temp;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(p != <span class="literal">null</span>) &#123;</span><br><span class="line">		map[p.row][p.column] =<span class="number">2</span>;</span><br><span class="line">		p = p.parent;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">Get_G</span><span class="params">(<span class="type">int</span> begin_r, <span class="type">int</span> begin_c,<span class="type">int</span> end_r, <span class="type">int</span> end_c)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Math.abs(end_r-begin_r)+Math.abs(end_c-begin_c);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Beam-Search-集束算法"><a href="#Beam-Search-集束算法" class="headerlink" title="Beam Search (集束算法)"></a>Beam Search (集束算法)</h2><h2 id="分支界定算法（Branch-and-Bound）"><a href="#分支界定算法（Branch-and-Bound）" class="headerlink" title="分支界定算法（Branch and Bound）"></a>分支界定算法（Branch and Bound）</h2><h2 id="Buchberger算法"><a href="#Buchberger算法" class="headerlink" title="Buchberger算法"></a>Buchberger算法</h2><h2 id="期望-最大算法（EM-Training）"><a href="#期望-最大算法（EM-Training）" class="headerlink" title="期望-最大算法（EM-Training）"></a>期望-最大算法（EM-Training）</h2><h2 id="LLL算法"><a href="#LLL算法" class="headerlink" title="LLL算法"></a>LLL算法</h2><h2 id="最大流量算法（Maximum-flow）"><a href="#最大流量算法（Maximum-flow）" class="headerlink" title="最大流量算法（Maximum flow）"></a>最大流量算法（Maximum flow）</h2><h2 id="PID-算法"><a href="#PID-算法" class="headerlink" title="PID 算法"></a>PID 算法</h2><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>尚硅谷数据结构与算法：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1E4411H73v?p=56&spm_id_from=pageDriver">https://www.bilibili.com/video/BV1E4411H73v?p=56&amp;spm_id_from=pageDriver</a></p>
<p>菜鸟教程：<a target="_blank" rel="noopener" href="https://www.runoob.com/wp-content/uploads/2019/03/0B319B38-B70E-4118-B897-74EFA7E368F9.png">https://www.runoob.com/wp-content/uploads/2019/03/0B319B38-B70E-4118-B897-74EFA7E368F9.png</a></p>
<p>参考书：Data Structure And Algorithm Analysis In Java TM, Third Edition, Mark Allen Weiss, PEARSON</p>
<p>A* 算法： <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/225466669">https://zhuanlan.zhihu.com/p/225466669</a></p>

    </div>
    
    
    
</div>
                        <footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2020 - 2024 Yao Xiong
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            @Yao Xiong
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div>
        
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        


    </body>
</html>